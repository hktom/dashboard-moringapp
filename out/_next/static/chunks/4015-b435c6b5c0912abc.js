"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4015],{50122:function(e,n,o){o.d(n,{Z:function(){return j}});var t=o(63366),r=o(87462),i=o(67294),a=o(86010),s=o(27192),l=o(54844),d=o(41796),u=o(98216),c=o(11496),m=o(2734),x=o(27623),p=o(18791),f=o(51705),h=o(15861),b=o(28979);function g(e){return(0,b.Z)("MuiLink",e)}var v=(0,o(76087).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Z=o(85893);const y=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],w={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},k=(0,c.ZP)(h.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`underline${(0,u.Z)(o.underline)}`],"button"===o.component&&n.button]}})((({theme:e,ownerState:n})=>{const o=(0,l.D)(e,`palette.${(e=>w[e]||e)(n.color)}`)||n.color;return(0,r.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==o?(0,d.Fq)(o,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${v.focusVisible}`]:{outline:"auto"}})}));var j=i.forwardRef((function(e,n){const o=(0,m.Z)(),l=(0,x.Z)({props:e,name:"MuiLink"}),{className:d,color:c="primary",component:h="a",onBlur:b,onFocus:v,TypographyClasses:j,underline:W="always",variant:S="inherit",sx:C}=l,R=(0,t.Z)(l,y),{isFocusVisibleRef:q,onBlur:L,onFocus:M,ref:G}=(0,p.Z)(),[N,O]=i.useState(!1),$=(0,f.Z)(n,G),D=(0,r.Z)({},l,{color:("function"===typeof C?C(o).color:null==C?void 0:C.color)||c,component:h,focusVisible:N,underline:W,variant:S}),F=(e=>{const{classes:n,component:o,focusVisible:t,underline:r}=e,i={root:["root",`underline${(0,u.Z)(r)}`,"button"===o&&"button",t&&"focusVisible"]};return(0,s.Z)(i,g,n)})(D);return(0,Z.jsx)(k,(0,r.Z)({className:(0,a.Z)(F.root,d),classes:j,component:h,onBlur:e=>{L(e),!1===q.current&&O(!1),b&&b(e)},onFocus:e=>{M(e),!0===q.current&&O(!0),v&&v(e)},ref:$,ownerState:D,variant:S,sx:[{color:w[c]||c},...Array.isArray(C)?C:[C]]},R))}))},24015:function(e,n,o){o.r(n),o.d(n,{default:function(){return P}});var t=o(85893),r=o(67294),i=o(25617),a=o(31955),s=o(63366),l=o(87462),d=o(86010),u=o(27192),c=o(27623),m=o(11496),x=o(28979);function p(e){return(0,x.Z)("MuiContainer",e)}(0,o(76087).Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var f=o(98216);const h=["className","component","disableGutters","fixed","maxWidth"],b=(0,m.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`maxWidth${(0,f.Z)(String(o.maxWidth))}`],o.fixed&&n.fixed,o.disableGutters&&n.disableGutters]}})((({theme:e,ownerState:n})=>(0,l.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:n})=>n.fixed&&Object.keys(e.breakpoints.values).reduce(((n,o)=>{const t=e.breakpoints.values[o];return 0!==t&&(n[e.breakpoints.up(o)]={maxWidth:`${t}${e.breakpoints.unit}`}),n}),{})),(({theme:e,ownerState:n})=>(0,l.Z)({},"xs"===n.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[e.breakpoints.up(n.maxWidth)]:{maxWidth:`${e.breakpoints.values[n.maxWidth]}${e.breakpoints.unit}`}})));var g=r.forwardRef((function(e,n){const o=(0,c.Z)({props:e,name:"MuiContainer"}),{className:r,component:i="div",disableGutters:a=!1,fixed:m=!1,maxWidth:x="lg"}=o,g=(0,s.Z)(o,h),v=(0,l.Z)({},o,{component:i,disableGutters:a,fixed:m,maxWidth:x}),Z=(e=>{const{classes:n,fixed:o,disableGutters:t,maxWidth:r}=e,i={root:["root",r&&`maxWidth${(0,f.Z)(String(r))}`,o&&"fixed",t&&"disableGutters"]};return(0,u.Z)(i,p,n)})(v);return(0,t.jsx)(b,(0,l.Z)({as:i,ownerState:v,className:(0,d.Z)(Z.root,r),ref:n},g))})),v=o(24358),Z=o(98456),y=o(99226),w=o(55113),k=o(66720),j=o(15861),W=o(46901),S=o(61903),C=o(50480),R=o(69368),q=o(83321),L=o(50122),M=o(67377),G=o(87536),N=o(11163),O=o(9008),$=o(48280);function D(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function F(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){D(e,n,o[n])}))}return e}var P=function(){var e,n,o=(0,i.I0)(),s=(0,r.useState)(!1),l=s[0],d=s[1],u=(0,$.C)((function(e){return e.auth})),c=(0,N.useRouter)(),m=(0,G.cI)(),x=m.register,p=m.handleSubmit;return m.watch,m.formState.errors,(0,r.useEffect)((function(){var e,n,o,t;(null===c||void 0===c||null===(e=c.query)||void 0===e?void 0:e.access_token)&&(null===c||void 0===c||null===(n=c.query)||void 0===n?void 0:n.redirect)&&(d(!0),a.Z.set("token",null===c||void 0===c||null===(o=c.query)||void 0===o?void 0:o.access_token,{expires:7}),window.location.href="/page/"+(null===c||void 0===c||null===(t=c.query)||void 0===t?void 0:t.redirect))}),[null===c||void 0===c||null===(e=c.query)||void 0===e?void 0:e.access_token,null===c||void 0===c||null===(n=c.query)||void 0===n?void 0:n.redirect]),(0,r.useEffect)((function(){var e;(null===(e=u.login)||void 0===e?void 0:e.token)&&(a.Z.set("token",u.login.token,{expires:7}),window.location.href="/page/home")}),[u.login.token]),(0,r.useEffect)((function(){a.Z.get("token")&&(window.location.href="/page/home")}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:l,onClick:function(){d(!1)},children:(0,t.jsx)(Z.Z,{color:"inherit"})}),(0,t.jsxs)(O.default,{children:[(0,t.jsx)("title",{children:"Login"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.png"}),(0,t.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,t.jsx)(y.Z,{sx:{minHeight:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,t.jsx)(w.Z,{sx:{maxWidth:"50rem",pb:8},color:"#fff",children:(0,t.jsxs)(g,{component:"main",maxWidth:"xs",children:[(0,t.jsx)(k.ZP,{}),(0,t.jsxs)(y.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)(j.Z,{component:"h1",variant:"h4",sx:{fontWeight:"bold"},children:"Log in"}),u.login.error&&(0,t.jsx)(W.Z,{severity:"error",sx:{width:"100%"},children:u.login.error}),u.login.token&&(0,t.jsx)(W.Z,{severity:"success",sx:{width:"100%"},children:"You are logged in!"}),(0,t.jsxs)(y.Z,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:p((function(e){o({type:M.J0.LOGIN,payload:e}),console.log(e)})),children:[(0,t.jsx)(S.Z,F({margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",autoComplete:"email",disabled:u.login.loading,autoFocus:!0},x("email",{required:!0}))),(0,t.jsx)(S.Z,F({margin:"normal",required:!0,fullWidth:!0},x("password",{required:!0}),{label:"Password",type:"password",id:"password",disabled:u.login.loading,autoComplete:"current-password"})),(0,t.jsx)(C.Z,{control:(0,t.jsx)(R.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,t.jsxs)(q.Z,{type:"submit",fullWidth:!0,variant:"contained",disabled:u.login.loading,disableElevation:!0,color:"info",sx:{mt:3,mb:2,py:1.2},children:["Sign In"," ",u.login.loading&&(0,t.jsx)(Z.Z,{color:"secondary",size:20,sx:{ml:2}})]}),(0,t.jsx)(y.Z,{sx:{mx:"auto",textAlign:"center"},children:(0,t.jsx)(L.Z,{href:"#",variant:"body2",children:"Forgot password?"})})]})]})]})})})]})}}}]);