(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{68357:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function c(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function h(e,t,n){return e.slice(t,n)}function f(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var m=1,y=1,g=0,v=0,b=0,_="";function w(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:y,length:s,return:""}}function E(e,t){return s(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function T(){return b=v>0?l(_,--v):0,y--,10===b&&(y=1,m--),b}function S(){return b=v<g?l(_,v++):0,y++,10===b&&(y=1,m++),b}function k(){return l(_,v)}function I(){return v}function O(e,t){return h(_,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function x(e){return m=y=1,g=f(_=e),v=0,[]}function A(e){return _="",e}function D(e){return a(O(v-1,R(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(b=k())&&b<33;)S();return C(e)>2||C(b)>3?"":" "}function P(e,t){for(;--t&&S()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return O(e,I()+(t<6&&32==k()&&32==S()))}function R(e){for(;S();)switch(b){case e:return v;case 34:case 39:34!==e&&39!==e&&R(b);break;case 40:41===e&&R(e);break;case 92:S()}return v}function M(e,t){for(;S()&&e+b!==57&&(e+b!==84||47!==k()););return"/*"+O(t,v-1)+"*"+o(47===e?e:S())}function L(e){for(;!C(k());)S();return O(e,v)}var j="-ms-",F="-moz-",U="-webkit-",V="comm",q="rule",B="decl",$="@keyframes";function z(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function G(e,t,n,r){switch(e.type){case"@import":case B:return e.return=e.return||e.value;case V:return"";case $:return e.return=e.value+"{"+z(e.children,r)+"}";case q:e.value=e.props.join(",")}return f(n=z(e.children,r))?e.return=e.value+"{"+n+"}":""}function Q(e,t){switch(function(e,t){return(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3)}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+F+e+j+e+e;case 6828:case 4268:return U+e+j+e+e;case 6165:return U+e+j+"flex-"+e+e;case 5187:return U+e+c(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return U+e+j+"flex-item-"+c(e,/flex-|-self/,"")+e;case 4675:return U+e+j+"flex-line-pack"+c(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+j+c(e,"shrink","negative")+e;case 5292:return U+e+j+c(e,"basis","preferred-size")+e;case 6060:return U+"box-"+c(e,"-grow","")+U+e+j+c(e,"grow","positive")+e;case 4554:return U+c(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return c(c(c(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return c(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return c(c(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return c(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(f(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return c(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+F+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?Q(c(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,f(e)-3-(~u(e,"!important")&&10))){case 107:return c(e,":",":"+U)+e;case 101:return c(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===l(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+j+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return U+e+j+c(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+j+c(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+j+c(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+j+e+e}return e}function K(e){return A(W("",null,null,null,[""],e=x(e),0,[0],e))}function W(e,t,n,r,i,s,a,l,h){for(var d=0,m=0,y=a,g=0,v=0,b=0,_=1,w=1,E=1,O=0,C="",x=i,A=s,R=r,j=C;w;)switch(b=O,O=S()){case 40:if(108!=b&&58==j.charCodeAt(y-1)){-1!=u(j+=c(D(O),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:j+=D(O);break;case 9:case 10:case 13:case 32:j+=N(b);break;case 92:j+=P(I()-1,7);continue;case 47:switch(k()){case 42:case 47:p(Y(M(S(),I()),t,n),h);break;default:j+="/"}break;case 123*_:l[d++]=f(j)*E;case 125*_:case 59:case 0:switch(O){case 0:case 125:w=0;case 59+m:v>0&&f(j)-y&&p(v>32?J(j+";",r,n,y-1):J(c(j," ","")+";",r,n,y-2),h);break;case 59:j+=";";default:if(p(R=H(j,t,n,d,m,i,l,C,x=[],A=[],y),s),123===O)if(0===m)W(j,t,R,R,x,s,y,l,A);else switch(g){case 100:case 109:case 115:W(e,R,R,r&&p(H(e,R,R,0,0,i,l,C,i,x=[],y),A),i,A,y,l,r?x:A);break;default:W(j,R,R,R,[""],A,0,l,A)}}d=m=v=0,_=E=1,C=j="",y=a;break;case 58:y=1+f(j),v=b;default:if(_<1)if(123==O)--_;else if(125==O&&0==_++&&125==T())continue;switch(j+=o(O),O*_){case 38:E=m>0?1:(j+="\f",-1);break;case 44:l[d++]=(f(j)-1)*E,E=1;break;case 64:45===k()&&(j+=D(S())),g=k(),m=y=f(C=j+=L(I())),O++;break;case 45:45===b&&2==f(j)&&(_=0)}}return s}function H(e,t,n,r,o,s,u,l,f,p,m){for(var y=o-1,g=0===o?s:[""],v=d(g),b=0,_=0,E=0;b<r;++b)for(var T=0,S=h(e,y+1,y=i(_=u[b])),k=e;T<v;++T)(k=a(_>0?g[T]+" "+S:c(S,/&\f/g,g[T])))&&(f[E++]=k);return w(e,t,n,0===o?q:l,f,p,m)}function Y(e,t,n){return w(e,t,n,V,o(b),h(e,2,-2),0)}function J(e,t,n,r){return w(e,t,n,B,h(e,0,r),h(e,r+1,-1),r)}var Z=function(e,t,n){for(var r=0,i=0;r=i,i=k(),38===r&&12===i&&(t[n]=1),!C(i);)S();return O(e,v)},X=function(e,t){return A(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=Z(v-1,t,n);break;case 2:e[n]+=D(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=S());return e}(x(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],o=X(t,i),s=n.props,a=0,c=0;a<o.length;a++)for(var u=0;u<s.length;u++,c++)e.props[c]=i[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=Q(e.value,e.length);break;case $:return z([E(e,{value:c(e.value,"@","@"+U)})],r);case q:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return z([E(e,{props:[c(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return z([E(e,{props:[c(t,/:(plac\w+)/,":-webkit-input-$1")]}),E(e,{props:[c(t,/:(plac\w+)/,":-moz-$1")]}),E(e,{props:[c(t,/:(plac\w+)/,j+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,s,a={},c=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;c.push(e)}));var u,l,h=[G,(l=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],f=function(e){var t=d(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([te,ne].concat(i,h));s=function(e,t,n,r){u=n,z(K(e?e+"{"+t.styles+"}":t.styles),f),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return p.sheet.hydrate(c),p}},67866:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},54880:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return c},w:function(){return a}});var i=n(67294),o=n(68357),s=(n(73772),(0,i.createContext)("undefined"!==typeof HTMLElement?(0,o.Z)({key:"css"}):null));s.Provider;var a=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(s);return e(t,r,n)}))},c=(0,i.createContext)({});(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect},73772:function(e,t,n){"use strict";n.d(t,{O:function(){return m}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(67866),s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},l=(0,o.Z)((function(e){return c(e)?e:e.replace(s,"-$&").toLowerCase()})),h=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||c(e)||"number"!==typeof t||0===t?t:t+"px"};function f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":u(s)&&(r+=l(o)+":"+h(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=f(e,t,s);switch(o){case"animation":case"animationName":r+=l(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var c=0;c<s.length;c++)u(s[c])&&(r+=l(o)+":"+h(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,o=n(e);return d=i,f(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";d=void 0;var s=e[0];null==s||void 0===s.raw?(i=!1,o+=f(n,t,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=f(n,t,e[a]),i&&(o+=s[a]);p.lastIndex=0;for(var c,u="";null!==(c=p.exec(o));)u+="-"+c[1];return{name:r(o)+u,styles:o,next:d}}},74444:function(e,t,n){"use strict";n.d(t,{BH:function(){return m},LL:function(){return C},ZR:function(){return O},gQ:function(){return B},zI:function(){return I},hu:function(){return s},g5:function(){return a},US:function(){return u},h$:function(){return l},L:function(){return h},$s:function(){return Q},r3:function(){return M},p$:function(){return d},vZ:function(){return U},gK:function(){return $},m9:function(){return K},GJ:function(){return R},ru:function(){return v},d:function(){return _},xb:function(){return j},w1:function(){return w},hl:function(){return S},uI:function(){return g},Yr:function(){return T},b$:function(){return b},Mn:function(){return E},w9:function(){return P},cI:function(){return A},UI:function(){return F},xO:function(){return q},DV:function(){return L},ug:function(){return G},dS:function(){return z},Pz:function(){return D},eu:function(){return k}});const r=!1,i=!1,o="${JSCORE_VERSION}",s=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+o+") INTERNAL ASSERT FAILED: "+e)},c=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,u=t>>2,l=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,f=63&c;a||(f=64,o||(h=64)),r.push(n[u],n[l],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw Error();const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){const t=c(e);return u.encodeByteArray(t,!0)},h=function(e){return l(e).replace(/\./g,"")},f=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function v(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function b(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function _(){return y().indexOf("Electron/")>=0}function w(){const e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return y().indexOf("MSAppHost/")>=0}function T(){return!0===r||!0===i}function S(){return"object"===typeof indexedDB}function k(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function I(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(x,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new O(r,s,n)}}const x=/\{\$([^}]+)}/g;function A(e){return JSON.parse(e)}function D(e){return JSON.stringify(e)}const N=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=A(f(o[0])||""),n=A(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},P=function(e){const t=N(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},R=function(e){const t=N(e).claims;return"object"===typeof t&&!0===t.admin};function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function j(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function U(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(V(n)&&V(o)){if(!U(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V(e){return null!==e&&"object"===typeof e}function q(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class B{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let l=0;l<16;l++)n[l]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let l=0;l<16;l++)n[l]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let l=16;l<80;l++){const e=n[l-3]^n[l-8]^n[l-14]^n[l-16];n[l]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let l=0;l<80;l++){l<40?l<20?(r=c^s&(a^c),i=1518500249):(r=s^a^c,i=1859775393):l<60?(r=s&a|c&(s|a),i=2400959708):(r=s^a^c,i=3395469782);const e=(o<<5|o>>>27)+r+u+i+n[l]&4294967295;u=c,c=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function $(e,t){return`${e} failed: ${t} argument `}const z=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},G=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Q(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function K(e){return e&&e._delegate?e._delegate:e}},47036:function(e,t){"use strict";t.Z={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},21919:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(87462),i=n(63366),o=n(59766),s=n(66500);var a=n(71387),c=n(41796);var u={black:"#000",white:"#fff"},l=n(47036);var h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var d={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var p={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var m={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const g=["mode","contrastThreshold","tonalOffset"],v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:u.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,c.$n)(e.main,i):"dark"===t&&(e.dark=(0,c._j)(e.main,o)))}function w(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:s=.2}=e,w=(0,i.Z)(e,g),E=e.primary||function(e="light"){return"dark"===e?{main:p[200],light:p[50],dark:p[400]}:{main:p[700],light:p[400],dark:p[800]}}(t),T=e.secondary||function(e="light"){return"dark"===e?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(t),S=e.error||function(e="light"){return"dark"===e?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),k=e.info||function(e="light"){return"dark"===e?{main:m[400],light:m[300],dark:m[700]}:{main:m[700],light:m[500],dark:m[900]}}(t),I=e.success||function(e="light"){return"dark"===e?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),O=e.warning||function(e="light"){return"dark"===e?{main:d[400],light:d[300],dark:d[700]}:{main:"#ed6c02",light:d[500],dark:d[900]}}(t);function C(e){return(0,c.mi)(e,b.text.primary)>=n?b.text.primary:v.text.primary}const x=({color:e,name:t,mainShade:n=500,lightShade:i=300,darkShade:o=700})=>{if(!(e=(0,r.Z)({},e)).main&&e[n]&&(e.main=e[n]),!e.hasOwnProperty("main"))throw new Error((0,a.Z)(11,t?` (${t})`:"",n));if("string"!==typeof e.main)throw new Error((0,a.Z)(12,t?` (${t})`:"",JSON.stringify(e.main)));return _(e,"light",i,s),_(e,"dark",o,s),e.contrastText||(e.contrastText=C(e.main)),e},A={dark:b,light:v};return(0,o.Z)((0,r.Z)({common:u,mode:t,primary:x({color:E,name:"primary"}),secondary:x({color:T,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:S,name:"error"}),warning:x({color:O,name:"warning"}),info:x({color:k,name:"info"}),success:x({color:I,name:"success"}),grey:l.Z,contrastThreshold:n,getContrastText:C,augmentColor:x,tonalOffset:s},A[t]),w)}const E=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const T={textTransform:"uppercase"},S='"Roboto", "Helvetica", "Arial", sans-serif';function k(e,t){const n="function"===typeof t?t(e):t,{fontFamily:s=S,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:u=400,fontWeightMedium:l=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:d,pxToRem:p}=n,m=(0,i.Z)(n,E);const y=a/14,g=p||(e=>e/f*y+"rem"),v=(e,t,n,i,o)=>{return(0,r.Z)({fontFamily:s,fontWeight:e,fontSize:g(t),lineHeight:n},s===S?{letterSpacing:(a=i/t,Math.round(1e5*a)/1e5)+"em"}:{},o,d);var a},b={h1:v(c,96,1.167,-1.5),h2:v(c,60,1.2,-.5),h3:v(u,48,1.167,0),h4:v(u,34,1.235,.25),h5:v(u,24,1.334,0),h6:v(l,20,1.6,.15),subtitle1:v(u,16,1.75,.15),subtitle2:v(l,14,1.57,.1),body1:v(u,16,1.5,.15),body2:v(u,14,1.43,.15),button:v(l,14,1.75,.4,T),caption:v(u,12,1.66,.4),overline:v(u,12,2.66,1,T)};return(0,o.Z)((0,r.Z)({htmlFontSize:f,pxToRem:g,fontFamily:s,fontSize:a,fontWeightLight:c,fontWeightRegular:u,fontWeightMedium:l,fontWeightBold:h},b),m,{clone:!1})}function I(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2)`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14)`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`].join(",")}var O=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)];const C=["duration","easing","delay"],x={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},A={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return`${Math.round(e)}ms`}function N(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function P(e){const t=(0,r.Z)({},x,e.easing),n=(0,r.Z)({},A,e.duration);return(0,r.Z)({getAutoHeightDuration:N,create:(e=["all"],r={})=>{const{duration:o=n.standard,easing:s=t.easeInOut,delay:a=0}=r;(0,i.Z)(r,C);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof o?o:D(o)} ${s} ${"string"===typeof a?a:D(a)}`)).join(",")}},e,{easing:t,duration:n})}var R={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const M=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function L(e={},...t){const{mixins:n={},palette:a={},transitions:c={},typography:u={}}=e,l=(0,i.Z)(e,M),h=w(a),f=(0,s.Z)(e);let d=(0,o.Z)(f,{mixins:(p=f.breakpoints,f.spacing,m=n,(0,r.Z)({toolbar:{minHeight:56,[`${p.up("xs")} and (orientation: landscape)`]:{minHeight:48},[p.up("sm")]:{minHeight:64}}},m)),palette:h,shadows:O.slice(),typography:k(h,u),transitions:P(c),zIndex:(0,r.Z)({},R)});var p,m;return d=(0,o.Z)(d,l),d=t.reduce(((e,t)=>(0,o.Z)(e,t)),d),d}var j=L},44819:function(e,t,n){"use strict";const r=n(67294).createContext(null);t.Z=r},56760:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67294),i=n(44819);function o(){return r.useContext(i.Z)}},95408:function(e,t,n){"use strict";n.d(t,{VO:function(){return r},k9:function(){return o},W8:function(){return s},L7:function(){return a},P$:function(){return c}});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`};function o(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const e=o.breakpoints||i;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=o.breakpoints||i;return Object.keys(t).reduce(((i,o)=>{if(-1!==Object.keys(e.values||r).indexOf(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function s(e={}){var t;return(null==e||null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function a(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c({values:e,breakpoints:t,base:n}){const r=n||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(e,t),i=Object.keys(r);if(0===i.length)return e;let o;return i.reduce(((t,n,r)=>(Array.isArray(e)?(t[n]=null!=e[r]?e[r]:e[o],o=r):(t[n]=null!=e[n]?e[n]:e[o]||e,o=n),t)),{})}},41796:function(e,t,n){"use strict";n.d(t,{mi:function(){return c},Fq:function(){return u},_j:function(){return l},$n:function(){return h},_4:function(){return f}});var r=n(71387);function i(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));let i,s=e.substring(t+1,e.length-1);if("color"===n){if(s=s.split(" "),i=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else s=s.split(",");return s=s.map((e=>parseFloat(e))),{type:n,values:s,colorSpace:i}}function s(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function a(e){let t="hsl"===(e=o(e)).type?o(function(e){e=o(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),c=(e,t=(e+n/30)%12)=>i-a*Math.max(Math.min(t-3,9-t,1),-1);let u="rgb";const l=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===e.type&&(u+="a",l.push(t[3])),s({type:u,values:l})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){const n=a(e),r=a(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,s(e)}function l(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function h(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return s(e)}function f(e,t=.15){return a(e)>.5?l(e,t):h(e,t)}},66500:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(87462),i=n(63366),o=n(59766);const s=["values","unit","step"];function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=e,a=(0,i.Z)(e,s),c=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,r.Z)({},e,{[t.key]:t.val})),{})})(t),u=Object.keys(c);function l(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-o/100}${n})`}function f(e,r){const i=u.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-o/100}${n})`}return(0,r.Z)({keys:u,values:c,up:l,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):l(e)},not:function(e){const t=u.indexOf(e);return 0===t?l(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},a)}var c={borderRadius:4},u=n(98700);const l=["breakpoints","palette","spacing","shape"];var h=function(e={},...t){const{breakpoints:n={},palette:s={},spacing:h,shape:f={}}=e,d=(0,i.Z)(e,l),p=a(n),m=function(e=8){if(e.mui)return e;const t=(0,u.hB)({spacing:e}),n=(...e)=>(0===e.length?[1]:e).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}(h);let y=(0,o.Z)({breakpoints:p,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},s),spacing:m,shape:(0,r.Z)({},c,f)},d);return y=t.reduce(((e,t)=>(0,o.Z)(e,t)),y),y}},47730:function(e,t,n){"use strict";var r=n(59766);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},98700:function(e,t,n){"use strict";n.d(t,{hB:function(){return p},eI:function(){return d},ZP:function(){return w},NA:function(){return m}});var r=n(95408),i=n(54844),o=n(47730);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!c[e])return[e];e=c[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),l=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[...l,...h];function d(e,t,n,r){const o=(0,i.D)(e,t)||n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function p(e){return d(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function y(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(u(n),i),s=e[n];return(0,r.k9)(e,s,o)}function g(e,t){const n=p(e.theme);return Object.keys(e).map((r=>y(e,t,r,n))).reduce(o.Z,{})}function v(e){return g(e,l)}function b(e){return g(e,h)}function _(e){return g(e,f)}v.propTypes={},v.filterProps=l,b.propTypes={},b.filterProps=h,_.propTypes={},_.filterProps=f;var w=_},54844:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(28320),i=n(95408);function o(e,t){return t&&"string"===typeof t?t.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e):null}function s(e,t,n,r=n){let i;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:o(e,n)||r,t&&(i=t(i)),i}t.Z=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:c}=e,u=e=>{if(null==e[t])return null;const u=e[t],l=o(e.theme,a)||{};return(0,i.k9)(e,u,(e=>{let i=s(l,c,e);return e===i&&"string"===typeof e&&(i=s(l,c,`${t}${"default"===e?"":(0,r.Z)(e)}`,e)),!1===n?i:{[n]:i}}))};return u.propTypes={},u.filterProps=[t],u}},96682:function(e,t,n){"use strict";var r=n(66500),i=n(34168);const o=(0,r.Z)();t.Z=function(e=o){return(0,i.Z)(e)}},34168:function(e,t,n){"use strict";var r=n(56760);t.Z=function(e=null){const t=(0,r.Z)();return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},28320:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(71387);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},59766:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return o}});var r=n(87462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e,t,n={clone:!0}){const s=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?s[r]=o(e[r],t[r],n):s[r]=t[r])})),s}},71387:function(e,t,n){"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},43034:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[K]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===W}(e)||Array.isArray(e)||!!e[Q]||!!e.constructor[Q]||f(e)||d(e))}function s(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:H)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function a(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:d(e)?3:0}function c(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===a(e)?e.get(t):e[t]}function l(e,t,n){var r=a(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return B&&e instanceof Map}function d(e){return $&&e instanceof Set}function p(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[K];for(var n=H(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function y(e,t){return void 0===t&&(t=!1),v(e)||i(e)||!o(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&s(e,(function(e,t){return y(t,!0)}),!0)),e}function g(){r(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=J[e];return t||r(18,e),t}function _(e,t){J[e]||(J[e]=t)}function w(){return V}function E(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function T(e){S(e),e.p.forEach(I),e.p=null}function S(e){e===V&&(V=e.l)}function k(e){return V={p:[],l:V,h:e,m:!0,_:0}}function I(e){var t=e[K];0===t.i||1===t.i?t.j():t.O=!0}function O(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,i),i?(n[K].P&&(T(t),r(4)),o(e)&&(e=C(t,e),t.l||A(t,e)),t.u&&b("Patches").M(n[K].t,e,t.u,t.s)):e=C(t,n,[]),T(t),t.u&&t.v(t.u,t.s),e!==G?e:void 0}function C(e,t,n){if(v(t))return t;var r=t[K];if(!r)return s(t,(function(i,o){return x(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return A(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;s(3===r.i?new Set(i):i,(function(t,o){return x(e,r,i,t,o,n)})),A(e,i,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function x(e,t,n,r,s,a){if(i(s)){var u=C(e,s,a&&t&&3!==t.i&&!c(t.D,r)?a.concat(r):void 0);if(l(n,r,u),!i(u))return;e.m=!1}if(o(s)&&!v(s)){if(!e.h.F&&e._<1)return;C(e,s),t&&t.A.l||A(e,s)}}function A(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&y(t,n)}function D(e,t){var n=e[K];return(n?p(n):e)[t]}function N(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function P(e){e.P||(e.P=!0,e.l&&P(e.l))}function R(e){e.o||(e.o=m(e.t))}function M(e,t,n){var r=f(t)?b("MapSet").N(t,n):d(t)?b("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:w(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Z;n&&(i=[r],o=X);var s=Proxy.revocable(i,o),a=s.revoke,c=s.proxy;return r.k=c,r.j=a,c}(t,n):b("ES5").J(t,n);return(n?n.A:w()).p.push(r),r}function L(e){return i(e)||r(22,e),function e(t){if(!o(t))return t;var n,r=t[K],i=a(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=j(t,i),r.I=!1}else n=j(t,i);return s(n,(function(t,i){r&&u(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n}(e)}function j(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function F(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[K];return Z.get(t,e)},set:function(t){var n=this[K];Z.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][K];if(!i.P)switch(i.i){case 5:r(i)&&P(i);break;case 4:n(i)&&P(i)}}}function n(e){for(var t=e.t,n=e.k,r=H(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==K){var s=t[o];if(void 0===s&&!c(t,o))return!0;var a=n[o],u=a&&a[K];if(u?u.t!==s:!h(a,s))return!0}}var l=!!t[K];return r.length!==H(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};_("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Y(n);delete o[K];for(var s=H(o),a=0;a<s.length;a++){var c=s[a];o[c]=e(c,t||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:w(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,K,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[K].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[K];if(n){var i=n.t,o=n.k,a=n.D,u=n.i;if(4===u)s(o,(function(t){t!==K&&(void 0!==i[t]||c(i,t)?a[t]||e(o[t]):(a[t]=!0,P(n)))})),s(i,(function(e){void 0!==o[e]||c(o,e)||(a[e]=!1,P(n))}));else if(5===u){if(r(n)&&(P(n),a.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)a[l]=!1;else for(var h=i.length;h<o.length;h++)a[h]=!0;for(var f=Math.min(o.length,i.length),d=0;d<f;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,{xC:function(){return _e},oM:function(){return Te}});var U,V,q="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),B="undefined"!=typeof Map,$="undefined"!=typeof Set,z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,G=q?Symbol.for("immer-nothing"):((U={})["immer-nothing"]=!0,U),Q=q?Symbol.for("immer-draftable"):"__$immer_draftable",K=q?Symbol.for("immer-state"):"__$immer_state",W=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),H="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return H(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},J={},Z={get:function(e,t){if(t===K)return e;var n=p(e);if(!c(n,t))return function(e,t,n){var r,i=N(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!o(r)?r:r===D(e.t,t)?(R(e),e.o[t]=M(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=N(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=D(p(e),t),o=null==i?void 0:i[K];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(h(n,i)&&(void 0!==n||c(e.t,t)))return!0;R(e),P(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==D(e.t,t)||t in e.t?(e.D[t]=!1,R(e),P(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},X={};s(Z,(function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),X.deleteProperty=function(e,t){return X.set.call(this,e,t,void 0)},X.set=function(e,t,n){return Z.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.g=z,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var s=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=s);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var c;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),o(e)){var u=k(t),l=M(t,e,void 0),h=!0;try{c=n(l),h=!1}finally{h?T(u):S(u)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return E(u,i),O(e,u)}),(function(e){throw T(u),e})):(E(u,i),O(c,u))}if(!e||"object"!=typeof e){if(void 0===(c=n(e))&&(c=e),c===G&&(c=void 0),t.F&&y(c,!0),i){var f=[],d=[];b("Patches").M(e,c,f,d),i(f,d)}return c}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||r(8),i(e)&&(e=L(e));var t=k(this),n=M(this,e,void 0);return n[K].C=!0,S(t),n},t.finishDraft=function(e,t){var n=(e&&e[K]).A;return E(n,t),O(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!z&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),te=new ee,ne=te.produce,re=(te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te),ne),ie=n(52789);function oe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var se=oe();se.withExtraArgument=oe;var ae=se,ce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},le=Object.defineProperty,he=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),fe=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,pe=function(e,t,n){return t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},me=function(e,t){for(var n in t||(t={}))fe.call(t,n)&&pe(e,n,t[n]);if(he)for(var r=0,i=he(t);r<i.length;r++){n=i[r];de.call(t,n)&&pe(e,n,t[n])}return e},ye="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?ie.qC:ie.qC.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function ge(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var ve=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ce(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ue([void 0],e[0].concat(this)))):new(t.bind.apply(t,ue([void 0],e.concat(this))))},t}(Array);function be(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new ve);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ae.withExtraArgument(n.extraArgument)):r.push(ae));0;return r}(e)}}function _e(e){var t,n=be(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,c=r.devTools,u=void 0===c||c,l=r.preloadedState,h=void 0===l?void 0:l,f=r.enhancers,d=void 0===f?void 0:f;if("function"===typeof o)t=o;else{if(!ge(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,ie.UY)(o)}var p=a;"function"===typeof p&&(p=p(n));var m=ie.md.apply(void 0,p),y=ie.qC;u&&(y=ye(me({trace:!1},"object"===typeof u&&u)));var g=[m];Array.isArray(d)?g=ue([m],d):"function"===typeof d&&(g=d(g));var v=y.apply(void 0,g);return(0,ie.MT)(t,h,v)}function we(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return me(me({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Ee(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Te(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:re(e.initialState,(function(){})),s=e.reducers||{},a=Object.keys(s),c={},u={},l={};function h(){var t="function"===typeof e.extraReducers?Ee(e.extraReducers):[e.extraReducers],n=t[0],s=void 0===n?{}:n,a=t[1],c=void 0===a?[]:a,l=t[2],h=void 0===l?void 0:l,f=me(me({},s),u);return function(e,t,n,r){void 0===n&&(n=[]);var s,a="function"===typeof t?Ee(t):[t,n,r],c=a[0],u=a[1],l=a[2];if(function(e){return"function"===typeof e}(e))s=function(){return re(e(),(function(){}))};else{var h=re(e,(function(){}));s=function(){return h}}function f(e,t){void 0===e&&(e=s());var n=ue([c[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(i(e))return"undefined"===typeof(r=n(e,t))?e:r;if(o(e))return re(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return f.getInitialState=s,f}(r,f,c,h)}return a.forEach((function(e){var n,r,i=s[e],o=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,c[e]=n,u[o]=n,l[e]=r?we(o,r):we(o)})),{name:t,reducer:function(e,t){return n||(n=h()),n(e,t)},actions:l,caseReducers:c,getInitialState:function(){return n||(n=h()),n.getInitialState()}}}Object.assign;var Se="listenerMiddleware";we(Se+"/add"),we(Se+"/removeAll"),we(Se+"/remove");F()},52789:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,{md:function(){return p},UY:function(){return f},qC:function(){return d},MT:function(){return h}});var a="function"===typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function l(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(s(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(s(1));return n(h)(e,t)}if("function"!==typeof e)throw new Error(s(2));var i=e,o=t,c=[],f=c,d=!1;function p(){f===c&&(f=c.slice())}function m(){if(d)throw new Error(s(3));return o}function y(e){if("function"!==typeof e)throw new Error(s(4));if(d)throw new Error(s(5));var t=!0;return p(),f.push(e),function(){if(t){if(d)throw new Error(s(6));t=!1,p();var n=f.indexOf(e);f.splice(n,1),c=null}}}function g(e){if(!l(e))throw new Error(s(7));if("undefined"===typeof e.type)throw new Error(s(8));if(d)throw new Error(s(9));try{d=!0,o=i(o,e)}finally{d=!1}for(var t=c=f,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!==typeof e)throw new Error(s(10));i=e,g({type:u.REPLACE})}function b(){var e,t=y;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(s(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return g({type:u.INIT}),(r={dispatch:g,subscribe:y,getState:m,replaceReducer:v})[a]=b,r}function f(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:u.INIT}))throw new Error(s(12));if("undefined"===typeof n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(n)}catch(c){o=c}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},c=0;c<a.length;c++){var u=a[c],l=n[u],h=e[u],f=l(h,t);if("undefined"===typeof f){t&&t.type;throw new Error(s(14))}i[u]=f,r=r||f!==h}return(r=r||a.length!==Object.keys(e).length)?i:e}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(s(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=d.apply(void 0,a)(n.dispatch),o(o({},n),{},{dispatch:r})}}}},9669:function(e,t,n){e.exports=n(51609)},55448:function(e,t,n){"use strict";var r=n(64867),i=n(36026),o=n(4372),s=n(15327),a=n(94097),c=n(84109),u=n(67985),l=n(85061),h=n(77874),f=n(65263);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete m["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+_)}var w=a(e.baseURL,e.url);function E(){if(v){var r="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v};i((function(e){t(e),g()}),(function(e){n(e),g()}),o),v=null}}if(v.open(e.method.toUpperCase(),s(w,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=E:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(E)},v.onabort=function(){v&&(n(l("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(l("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||h;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()){var T=(e.withCredentials||u(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;T&&(m[e.xsrfHeaderName]=T)}"setRequestHeader"in v&&r.forEach(m,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete m[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),y&&"json"!==y&&(v.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){v&&(n(!e||e&&e.type?new f("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),v.send(p)}))}},51609:function(e,t,n){"use strict";var r=n(64867),i=n(91849),o=n(30321),s=n(47185);var a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(45546));a.Axios=o,a.Cancel=n(65263),a.CancelToken=n(14972),a.isCancel=n(26502),a.VERSION=n(97288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(16268),e.exports=a,e.exports.default=a},65263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:function(e,t,n){"use strict";var r=n(65263);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},26502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:function(e,t,n){"use strict";var r=n(64867),i=n(15327),o=n(80782),s=n(13572),a=n(47185),c=n(54875),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var h=[s,void 0];for(Array.prototype.unshift.apply(h,r),h=h.concat(l),o=Promise.resolve(t);h.length;)o=o.then(h.shift(),h.shift());return o}for(var f=t;r.length;){var d=r.shift(),p=r.shift();try{f=d(f)}catch(m){p(m);break}}try{o=s(f)}catch(m){return Promise.reject(m)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},80782:function(e,t,n){"use strict";var r=n(64867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},94097:function(e,t,n){"use strict";var r=n(91793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},85061:function(e,t,n){"use strict";var r=n(80481);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},13572:function(e,t,n){"use strict";var r=n(64867),i=n(18527),o=n(26502),s=n(45546),a=n(65263);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},80481:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},47185:function(e,t,n){"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},36026:function(e,t,n){"use strict";var r=n(85061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},18527:function(e,t,n){"use strict";var r=n(64867),i=n(45546);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},45546:function(e,t,n){"use strict";var r=n(83454),i=n(64867),o=n(16016),s=n(80481),a=n(77874),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:a,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof r&&"[object process]"===Object.prototype.toString.call(r))&&(e=n(55448)),e}(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(o){if("SyntaxError"===a.name)throw s(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(c)})),e.exports=l},77874:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},97288:function(e){e.exports={version:"0.26.1"}},91849:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:function(e,t,n){"use strict";var r=n(64867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,n){"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:function(e,t,n){"use strict";var r=n(64867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},67985:function(e,t,n){"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:function(e,t,n){"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},84109:function(e,t,n){"use strict";var r=n(64867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},54875:function(e,t,n){"use strict";var r=n(97288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},64867:function(e,t,n){"use strict";var r=n(91849),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return"undefined"===typeof e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function h(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:c,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:h,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)h(arguments[r],n);return t},extend:function(e,t,n){return h(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},35035:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,s;if(Array.isArray(t)){for(s="[",n=0;n<t.length;n++)n&&(s+=","),s+=e(t[n])||"null";return s+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(s="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return o.splice(a,1),"{"+s+"}"}}(e)}},25321:function(e,t,n){"use strict";n.d(t,{EK:function(){return Gr},ET:function(){return Bl},hJ:function(){return Wu},ad:function(){return Xu},cf:function(){return $l},IO:function(){return Pl},iE:function(){return Hu},ar:function(){return Ml}});var r,i=n(32238),o=n(8463),s=n(53333),a=n(74444),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},u={},l=l||{},h=c||self;function f(){}function d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function E(){this.s=this.s,this.o=this.o}var T={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++y)}(this);delete T[e]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},k=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"===typeof e?e.split(""):e;for(let o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function I(e){return Array.prototype.concat.apply([],arguments)}function O(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function C(e){return/^[\s\xa0]*$/.test(e)}var x,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function N(e,t){return e<t?-1:e>t?1:0}e:{var P=h.navigator;if(P){var R=P.userAgent;if(R){x=R;break e}}x=""}function M(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function L(e){const t={};for(const n in e)t[n]=e[n];return t}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<j.length;t++)n=j[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e){return U[" "](e),e}U[" "]=f;var V,q=D(x,"Opera"),B=D(x,"Trident")||D(x,"MSIE"),$=D(x,"Edge"),z=$||B,G=D(x,"Gecko")&&!(D(x.toLowerCase(),"webkit")&&!D(x,"Edge"))&&!(D(x,"Trident")||D(x,"MSIE"))&&!D(x,"Edge"),Q=D(x.toLowerCase(),"webkit")&&!D(x,"Edge");function K(){var e=h.document;return e?e.documentMode:void 0}e:{var W="",H=function(){var e=x;return G?/rv:([^\);]+)(\)|;)/.exec(e):$?/Edge\/([\d\.]+)/.exec(e):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Q?/WebKit\/(\S+)/.exec(e):q?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(H&&(W=H?H[1]:""),B){var Y=K();if(null!=Y&&Y>parseFloat(W)){V=String(Y);break e}}V=W}var J,Z={};function X(){return function(e){var t=Z;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){let e=0;const t=A(String(V)).split("."),n=A("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=N(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||N(0==i[2].length,0==o[2].length)||N(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}))}if(h.document&&B){var ee=K();J=ee||(parseInt(V,10)||void 0)}else J=void 0;var te=J,ne=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",f,t),h.removeEventListener("test",f,t)}catch(n){}return e}();function re(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ie(e,t){if(re.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(G){e:{try{U(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:oe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ie.Z.h.call(this)}}re.prototype.h=function(){this.defaultPrevented=!0},w(ie,re);var oe={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),ae=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ae,this.ca=this.fa=!1}function ue(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function le(e){this.src=e,this.g={},this.h=0}function he(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=S(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ue(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}le.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=fe(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new ce(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var de="closure_lm_"+(1e6*Math.random()|0),pe={};function me(e,t,n,r,i){if(r&&r.once)return ge(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)me(e,t[o],n,r,i);return null}return n=Se(n),e&&e[se]?e.N(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=Ee(e);if(a||(e[de]=a=new le(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=we;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ne||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_e(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ge(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ge(e,t[o],n,r,i);return null}return n=Se(n),e&&e[se]?e.O(t,n,p(r)?!!r.capture:!!r,i):ye(e,t,n,!0,r,i)}function ve(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=Se(n),e&&e[se]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=fe(o=e.g[t],n,r,i))&&(ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ee(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fe(t,n,r,i)),(n=-1<e?t[e]:null)&&be(n))}function be(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[se])he(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_e(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(he(n,e),0==n.h&&(n.src=null,t[de]=null)):ue(e)}}}function _e(e){return e in pe?pe[e]:pe[e]="on"+e}function we(e,t){if(e.ca)e=!0;else{t=new ie(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&be(e),e=n.call(r,t)}return e}function Ee(e){return(e=e[de])instanceof le?e:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(e){return"function"===typeof e?e:(e[Te]||(e[Te]=function(t){return e.handleEvent(t)}),e[Te])}function ke(){E.call(this),this.i=new le(this),this.P=this,this.I=null}function Ie(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new re(t,e);else if(t instanceof re)t.target=t.target||e;else{var i=t;F(t=new re(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Oe(s,r,!0,t)&&i}if(i=Oe(s=t.g=e,r,!0,t)&&i,i=Oe(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Oe(s=t.g=n[o],r,!1,t)&&i}function Oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&he(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}w(ke,E),ke.prototype[se]=!0,ke.prototype.removeEventListener=function(e,t,n,r){ve(this,e,t,n,r)},ke.prototype.M=function(){if(ke.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ue(n[r]);delete t.g[e],t.h--}}this.I=null},ke.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ke.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ce=h.JSON.stringify;function xe(){var e=Le;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ae,De=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ne),(e=>e.reset()));class Ne{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Pe(e){h.setTimeout((()=>{throw e}),0)}function Re(e,t){Ae||function(){var e=h.Promise.resolve(void 0);Ae=function(){e.then(je)}}(),Me||(Ae(),Me=!0),Le.add(e,t)}var Me=!1,Le=new class{constructor(){this.h=this.g=null}add(e,t){const n=De.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function je(){for(var e;e=xe();){try{e.h.call(e.g)}catch(n){Pe(n)}var t=De;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Me=!1}function Fe(e,t){ke.call(this),this.h=e||1,this.g=t||h,this.j=b(this.kb,this),this.l=Date.now()}function Ue(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ve(e,t,n){if("function"===typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function qe(e){e.g=Ve((()=>{e.g=null,e.i&&(e.i=!1,qe(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}w(Fe,ke),(r=Fe.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ie(this,"tick"),this.da&&(Ue(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Fe.Z.M.call(this),Ue(this),delete this.g};class Be extends E{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qe(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $e(e){E.call(this),this.h=e,this.g={}}w($e,E);var ze=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(ze[0]=n.toString()),n=ze);for(var i=0;i<n.length;i++){var o=me(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Qe(e){M(e.g,(function(e,t){this.g.hasOwnProperty(t)&&be(e)}),e),e.g={}}function Ke(){this.g=!0}function We(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ce(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}$e.prototype.M=function(){$e.Z.M.call(this),Qe(this)},$e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ke.prototype.Aa=function(){this.g=!1},Ke.prototype.info=function(){};var He={},Ye=null;function Je(){return Ye=Ye||new ke}function Ze(e){re.call(this,He.Ma,e)}function Xe(e){const t=Je();Ie(t,new Ze(t,e))}function et(e,t){re.call(this,He.STAT_EVENT,e),this.stat=t}function tt(e){const t=Je();Ie(t,new et(t,e))}function nt(e,t){re.call(this,He.Na,e),this.size=t}function rt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}He.Ma="serverreachability",w(Ze,re),He.STAT_EVENT="statevent",w(et,re),He.Na="timingevent",w(nt,re);var it={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ot={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function st(){}function at(e){return e.h||(e.h=e.i())}function ct(){}st.prototype.h=null;var ut,lt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ht(){re.call(this,"d")}function ft(){re.call(this,"c")}function dt(){}function pt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new $e(this),this.P=yt,e=z?125:void 0,this.W=new Fe(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}w(ht,re),w(ft,re),w(dt,st),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},ut=new dt;var yt=45e3,gt={},vt={};function bt(e,t,n){e.K=1,e.v=Bt(Lt(t)),e.s=n,e.U=!0,_t(e,null)}function _t(e,t){e.F=Date.now(),St(e),e.A=Lt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),tn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mt,e.g=rr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Be(b(e.Ia,e,e.g),e.O)),Ge(e.V,e.g,"readystatechange",e.gb),t=e.H?L(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Xe(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function wt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Et(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Tt(e,n),r==vt){4==t&&(e.o=4,tt(14),i=!1),We(e.j,e.m,null,"[Incomplete Response]");break}if(r==gt){e.o=4,tt(15),We(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}We(e.j,e.m,r,null),xt(e,r)}wt(e)&&r!=vt&&r!=gt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,tt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hn(t),t.L=!0,tt(11))):(We(e.j,e.m,n,"[Invalid Chunked Response]"),Ct(e),Ot(e))}function Tt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vt:(n=Number(t.substring(n,r)),isNaN(n)?gt:(r+=1)+n>t.length?vt:(t=t.substr(r,n),e.C=r+n,t))}function St(e){e.Y=Date.now()+e.P,kt(e,e.P)}function kt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=rt(b(e.eb,e),t)}function It(e){e.B&&(h.clearTimeout(e.B),e.B=null)}function Ot(e){0==e.l.G||e.I||Zn(e.l,e)}function Ct(e){It(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ue(e.W),Qe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||un(n.i,e)))if(n.I=e.N,!e.J&&un(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Jn(n),Vn(n)}Wn(n),tt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=rt(b(n.ab,n),6e3));if(1>=cn(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else er(n,11)}else if((e.J||n.g==e)&&Jn(n),!C(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=u[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;!o.g&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(ln(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,qt(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=e;if((r=n).oa=nr(r,r.H?r.la:null,r.W),s.J){hn(r.i,s);var a=s,c=r.K;c&&a.setTimeout(c),a.B&&(It(a),St(a)),r.g=s}else Kn(r);0<n.l.length&&$n(n)}else"stop"!=u[0]&&"close"!=u[0]||er(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?er(n,7):Un(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Xe(4)}catch(u){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)k(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(d(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Dt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Pt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Pt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=pt.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;const t=this.L;t&&3==Rn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{const l=Rn(this.g);var t=this.g.Da();const f=this.g.ba();if(!(3>l)&&(3!=l||z||this.g&&(this.h.h||this.g.ga()||Mn(this.g)))){this.I||4!=l||7==t||Xe(8==t||0>=f?3:2),It(this);var n=this.g.ba();this.N=n;t:if(wt(this)){var r=Mn(this.g);e="";var i=r.length,o=4==Rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ct(this),Ot(this);var s="";break t}this.h.i=new h.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,tt(12),Ct(this),Ot(this);break e}We(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xt(this,n)}this.U?(Et(this,l,s),z&&this.i&&3==l&&(Ge(this.V,this.W,"tick",this.fb),this.W.start())):(We(this.j,this.m,s,null),xt(this,s)),4==l&&Ct(this),this.i&&!this.I&&(4==l?Zn(this.l,this):(this.i=!1,St(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,tt(12)):(this.o=0,tt(13)),Ct(this),Ot(this)}}}catch(l){}},r.fb=function(){if(this.g){var e=Rn(this.g),t=this.g.ga();this.C<t.length&&(It(this),Et(this,e,t),this.i&&4!=e&&St(this))}},r.cancel=function(){this.I=!0,Ct(this)},r.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Xe(3),tt(17)),Ct(this),this.o=2,Ot(this)):kt(this,this.Y-e)},(r=Dt.prototype).R=function(){Nt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Nt(this),this.g.concat()},r.get=function(e,t){return Pt(this.h,e)?this.h[e]:t},r.set=function(e,t){Pt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Mt){this.g=void 0!==t?t:e.g,jt(this,e.j),this.s=e.s,Ft(this,e.i),Ut(this,e.m),this.l=e.l,t=e.h;var n=new Jt;n.i=t.i,t.g&&(n.g=new Dt(t.g),n.h=t.h),Vt(this,n),this.o=e.o}else e&&(n=String(e).match(Rt))?(this.g=!!t,jt(this,n[1]||"",!0),this.s=$t(n[2]||""),Ft(this,n[3]||"",!0),Ut(this,n[4]),this.l=$t(n[5]||"",!0),Vt(this,n[6]||"",!0),this.o=$t(n[7]||"")):(this.g=!!t,this.h=new Jt(null,this.g))}function Lt(e){return new Mt(e)}function jt(e,t,n){e.j=n?$t(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ft(e,t,n){e.i=n?$t(t,!0):t}function Ut(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vt(e,t,n){t instanceof Jt?(e.h=t,function(e,t){t&&!e.j&&(Zt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xt(this,t),tn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=zt(t,Ht)),e.h=new Jt(t,e.g))}function qt(e,t,n){e.h.set(t,n)}function Bt(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zt(t,Qt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zt(t,Qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(zt(n,"/"==n.charAt(0)?Wt:Kt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zt(n,Yt)),e.join("")};var Qt=/[#\/\?@]/g,Kt=/[#\?:]/g,Wt=/[#\?]/g,Ht=/[#\?@]/g,Yt=/#/g;function Jt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zt(e){e.g||(e.g=new Dt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xt(e,t){Zt(e),t=nn(e,t),Pt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Pt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Nt(e)))}function en(e,t){return Zt(e),t=nn(e,t),Pt(e.g.h,t)}function tn(e,t,n){Xt(e,t),0<n.length&&(e.i=null,e.g.set(nn(e,t),O(n)),e.h+=n.length)}function nn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Jt.prototype).add=function(e,t){Zt(this),this.i=null,e=nn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Zt(this),this.g.forEach((function(n,r){k(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.T=function(){Zt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.R=function(e){Zt(this);var t=[];if("string"===typeof e)en(this,e)&&(t=I(t,this.g.get(nn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=I(t,e[n])}return t},r.set=function(e,t){return Zt(this),this.i=null,en(this,e=nn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};function rn(e){this.l=e||sn,h.PerformanceNavigationTiming?e=0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var on,sn=10;function an(e){return!!e.h||!!e.g&&e.g.size>=e.j}function cn(e){return e.h?1:e.g?e.g.size:0}function un(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ln(e,t){e.g?e.g.add(t):e.h=t}function hn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return O(e.i)}function dn(){}function pn(){this.g=new dn}function mn(e,t,n){const r=n||"";try{At(e,(function(e,n){let i=e;p(e)&&(i=Ce(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function yn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function gn(e){this.l=e.$b||null,this.j=e.ib||!1}function vn(e,t){ke.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=bn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},dn.prototype.stringify=function(e){return h.JSON.stringify(e,void 0)},dn.prototype.parse=function(e){return h.JSON.parse(e,void 0)},w(gn,st),gn.prototype.g=function(){return new vn(this.l,this.j)},gn.prototype.i=(on={},function(){return on}),w(vn,ke);var bn=0;function _n(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function wn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,En(e)}function En(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=vn.prototype).open=function(e,t){if(this.readyState!=bn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,En(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||h).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wn(this)),this.readyState=bn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_n(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wn(this):En(this),3==this.readyState&&_n(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,wn(this))},r.Ta=function(e){this.g&&(this.response=e,wn(this))},r.ha=function(){this.g&&wn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tn=h.JSON.parse;function Sn(e){ke.call(this),this.headers=new Dt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kn,this.K=this.L=!1}w(Sn,ke);var kn="",In=/^https?$/i,On=["POST","PUT"];function Cn(e){return"content-type"==e.toLowerCase()}function xn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,An(e),Nn(e)}function An(e){e.D||(e.D=!0,Ie(e,"complete"),Ie(e,"error"))}function Dn(e){if(e.h&&"undefined"!=typeof l&&(!e.C[1]||4!=Rn(e)||2!=e.ba()))if(e.v&&4==Rn(e))Ve(e.Fa,0,e);else if(Ie(e,"readystatechange"),4==Rn(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var i=String(e.H).match(Rt)[1]||null;if(!i&&h.self&&h.self.location){var o=h.self.location.protocol;i=o.substr(0,o.length-1)}r=!In.test(i?i.toLowerCase():"")}n=r}if(n)Ie(e,"complete"),Ie(e,"success");else{e.m=6;try{var s=2<Rn(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.ba()+"]",An(e)}}finally{Nn(e)}}}function Nn(e,t){if(e.g){Pn(e);const r=e.g,i=e.C[0]?f:null;e.g=null,e.C=null,t||Ie(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Pn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function Rn(e){return e.g?e.g.readyState:0}function Mn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case kn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ln(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return M(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function jn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fn(e){this.za=0,this.l=[],this.h=new Ke,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jn("baseRetryDelayMs",5e3,e),this.$a=jn("retryDelaySeedMs",1e4,e),this.Ya=jn("forwardChannelMaxRetries",2,e),this.ra=jn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new rn(e&&e.concurrentRequestLimit),this.Ca=new pn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Un(e){if(qn(e),3==e.G){var t=e.V++,n=Lt(e.F);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),Gn(e,n),(t=new pt(e,e.h,t,void 0)).K=2,t.v=Bt(Lt(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(t.v.toString(),"")),!n&&h.Image&&((new Image).src=t.v,n=!0),n||(t.g=rr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),St(t)}tr(e)}function Vn(e){e.g&&(Hn(e),e.g.cancel(),e.g=null)}function qn(e){Vn(e),e.u&&(h.clearTimeout(e.u),e.u=null),Jn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function Bn(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&$n(e)}function $n(e){an(e.i)||e.m||(e.m=!0,Re(e.Ha,e),e.C=0)}function zn(e,t){var n;n=t?t.m:e.V++;const r=Lt(e.F);qt(r,"SID",e.J),qt(r,"RID",n),qt(r,"AID",e.U),Gn(e,r),e.o&&e.s&&Ln(r,e.o,e.s),n=new pt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Qn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ln(e.i,n),bt(n,r,t)}function Gn(e,t){e.j&&At({},(function(e,n){qt(t,n,e)}))}function Qn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?b(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),o=!1;else try{mn(a,e,"req"+n+"_")}catch(Dr){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Kn(e){e.g||e.u||(e.Y=1,Re(e.Ga,e),e.A=0)}function Wn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=rt(b(e.Ga,e),Xn(e,e.A)),e.A++,!0)}function Hn(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function Yn(e){e.g=new pt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Lt(e.oa);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.N?"0":"1"),qt(t,"AID",e.U),Gn(e,t),qt(t,"TYPE","xmlhttp"),e.o&&e.s&&Ln(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Bt(Lt(t)),n.s=null,n.U=!0,_t(n,e)}function Jn(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function Zn(e,t){var n=null;if(e.g==t){Jn(e),Hn(e),e.g=null;var r=2}else{if(!un(e.i,t))return;n=t.D,hn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ie(r=Je(),new nt(r,n,t,i)),$n(e)}else Kn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(cn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=rt(b(e.Ha,e,t),Xn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:er(e,5);break;case 4:er(e,10);break;case 3:er(e,6);break;default:er(e,2)}}function Xn(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function er(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=b(e.jb,e);n||(n=new Mt("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||jt(n,"https"),Bt(n)),function(e,t){const n=new Ke;if(h.Image){const r=new Image;r.onload=_(yn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_(yn,n,r,"TestLoadImage: error",!1,t),r.onabort=_(yn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_(yn,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else tt(2);e.G=0,e.j&&e.j.va(t),tr(e),qn(e)}function tr(e){e.G=0,e.I=-1,e.j&&(0==fn(e.i).length&&0==e.l.length||(e.i.i.length=0,O(e.l),e.l.length=0),e.j.ua())}function nr(e,t,n){let r=function(e){return e instanceof Mt?Lt(e):new Mt(e,void 0)}(n);if(""!=r.i)t&&Ft(r,t+"."+r.i),Ut(r,r.m);else{const e=h.location;r=function(e,t,n,r){var i=new Mt(null,void 0);return e&&jt(i,e),t&&Ft(i,t),n&&Ut(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&M(e.aa,(function(e,t){qt(r,t,e)})),t=e.D,n=e.sa,t&&n&&qt(r,t,n),qt(r,"VER",e.ma),Gn(e,r),r}function rr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Sn(new gn({ib:!0})):new Sn(e.qa)).L=e.H,t}function ir(){}function or(){if(B&&!(10<=Number(te)))throw Error("Environmental error: no available transport.")}function sr(e,t){ke.call(this),this.g=new Fn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!C(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ur(this)}function ar(e){ht.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cr(){ft.call(this),this.status=1}function ur(e){this.g=e}(r=Sn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ut.g(),this.C=this.u?at(this.u):at(ut),this.g.onreadystatechange=b(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void xn(this,o)}e=n||"";const i=new Dt(this.headers);r&&At(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Cn;const n=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=h.FormData&&e instanceof h.FormData,!(0<=S(On,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pn(this),0<this.B&&((this.K=function(e){return B&&X()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.pa,this)):this.A=Ve(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){xn(this,o)}},r.pa=function(){"undefined"!=typeof l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ie(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ie(this,"complete"),Ie(this,"abort"),Nn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),Sn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Dn(this):this.cb())},r.cb=function(){Dn(this)},r.ba=function(){try{return 2<Rn(this)?this.g.status:-1}catch(on){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(on){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Fn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new pt(this,this.h,e,void 0);let o=this.s;if(this.P&&(o?(o=L(o),F(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qn(this,i,t),qt(n=Lt(this.F),"RID",e),qt(n,"CVER",22),this.D&&qt(n,"X-HTTP-Session-Id",this.D),Gn(this,n),this.o&&o&&Ln(n,this.o,o),ln(this.i,i),this.Ra&&qt(n,"TYPE","init"),this.ja?(qt(n,"$req",t),qt(n,"SID","null"),i.$=!0,bt(i,n,null)):bt(i,n,t),this.G=2}}else 3==this.G&&(e?zn(this,e):0==this.l.length||an(this.i)||zn(this))},r.Ga=function(){if(this.u=null,Yn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=rt(b(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tt(10),Vn(this),Yn(this))},r.ab=function(){null!=this.v&&(this.v=null,Vn(this),Wn(this),tt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),tt(2)):(this.h.info("Failed to ping google.com"),tt(1))},(r=ir.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},or.prototype.g=function(e,t){return new sr(e,t)},w(sr,ke),sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Re(b(e.hb,e,t))),tt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=nr(e,null,e.W),$n(e)},sr.prototype.close=function(){Un(this.g)},sr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Bn(this.g,t)}else this.v?((t={}).__data__=Ce(e),Bn(this.g,t)):Bn(this.g,e)},sr.prototype.M=function(){this.g.j=null,delete this.j,Un(this.g),delete this.g,sr.Z.M.call(this)},w(ar,ht),w(cr,ft),w(ur,ir),ur.prototype.xa=function(){Ie(this.g,"a")},ur.prototype.wa=function(e){Ie(this.g,new ar(e))},ur.prototype.va=function(e){Ie(this.g,new cr(e))},ur.prototype.ua=function(){Ie(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,sr.prototype.send=sr.prototype.u,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,ot.COMPLETE="complete",ct.EventType=lt,lt.OPEN="a",lt.CLOSE="b",lt.ERROR="c",lt.MESSAGE="d",ke.prototype.listen=ke.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var lr=u.createWebChannelTransport=function(){return new or},hr=u.getStatEventTarget=function(){return Je()},fr=u.ErrorCode=it,dr=u.EventType=ot,pr=u.Event=He,mr=u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yr=u.FetchXmlHttpFactory=gn,gr=u.WebChannel=ct,vr=u.XhrIo=Sn;n(83454);const br="@firebase/firestore";class _r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let wr="9.8.4";const Er=new s.Yd("@firebase/firestore");function Tr(){return Er.logLevel}function Sr(e,...t){if(Er.logLevel<=s.in.DEBUG){const n=t.map(Or);Er.debug(`Firestore (${wr}): ${e}`,...n)}}function kr(e,...t){if(Er.logLevel<=s.in.ERROR){const n=t.map(Or);Er.error(`Firestore (${wr}): ${e}`,...n)}}function Ir(e,...t){if(Er.logLevel<=s.in.WARN){const n=t.map(Or);Er.warn(`Firestore (${wr}): ${e}`,...n)}}function Or(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Cr(e="Unexpected state"){const t=`FIRESTORE (${wr}) INTERNAL ASSERTION FAILED: `+e;throw kr(t),new Error(t)}function xr(e,t){e||Cr()}function Ar(e,t){return e}const Dr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nr extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Rr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_r.UNAUTHENTICATED)))}shutdown(){}}class Lr{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Sr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Sr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pr)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Sr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xr("string"==typeof t.accessToken),new Rr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xr(null===e||"string"==typeof e),new _r(e)}}class jr{constructor(e,t,n){this.type="FirstParty",this.user=_r.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Fr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new jr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(_r.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ur{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vr{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Sr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Sr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Sr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):Sr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(xr("string"==typeof e.token),this.p=e.token,new Ur(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Br{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=qr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function $r(e,t){return e<t?-1:e>t?1:0}function zr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nr(Dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nr(Dr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nr(Dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nr(Dr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Gr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$r(this.nanoseconds,e.nanoseconds):$r(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qr(e)}static min(){return new Qr(new Gr(0,0))}static max(){return new Qr(new Gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kr{constructor(e,t,n){void 0===t?t=0:t>e.length&&Cr(),void 0===n?n=e.length-t:n>e.length-t&&Cr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Kr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wr extends Kr{construct(e,t,n){return new Wr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Nr(Dr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Wr(t)}static emptyPath(){return new Wr([])}}const Hr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends Kr{construct(e,t,n){return new Yr(e,t,n)}static isValidIdentifier(e){return Hr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Nr(Dr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Nr(Dr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Nr(Dr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Nr(Dr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yr(t)}static emptyPath(){return new Yr([])}}class Jr{constructor(e){this.path=e}static fromPath(e){return new Jr(Wr.fromString(e))}static fromName(e){return new Jr(Wr.fromString(e).popFirst(5))}static empty(){return new Jr(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jr(new Wr(e.slice()))}}class Zr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Zr.UNKNOWN_ID=-1;function Xr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qr.fromTimestamp(1e9===r?new Gr(n+1,0):new Gr(n,r));return new ti(i,Jr.empty(),t)}function ei(e){return new ti(e.readTime,e.key,-1)}class ti{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ti(Qr.min(),Jr.empty(),-1)}static max(){return new ti(Qr.max(),Jr.empty(),-1)}}function ni(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Jr.comparator(e.documentKey,t.documentKey),0!==n?n:$r(e.largestBatchId,t.largestBatchId))}const ri="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ii{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function oi(e){if(e.code!==Dr.FAILED_PRECONDITION||e.message!==ri)throw e;Sr("LocalStore","Unexpectedly lost primary lease")}class si{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Cr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new si(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof si?t:si.resolve(t)}catch(e){return si.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):si.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):si.reject(t)}static resolve(e){return new si(((t,n)=>{t(e)}))}static reject(e){return new si(((t,n)=>{n(e)}))}static waitFor(e){return new si(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=si.resolve(!1);for(const n of e)t=t.next((e=>e?si.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new si(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new si(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ai(e){return"IndexedDbTransactionError"===e.name}class ci{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.it(e),this.rt=e=>t.writeSequenceNumber(e))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function ui(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function li(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}ci.ot=-1;class fi{constructor(e,t){this.comparator=e,this.root=t||pi.EMPTY}insert(e,t){return new fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new di(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new di(this.root,e,this.comparator,!1)}getReverseIterator(){return new di(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new di(this.root,e,this.comparator,!0)}}class di{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pi{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:pi.RED,this.left=null!=r?r:pi.EMPTY,this.right=null!=i?i:pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new pi(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return pi.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Cr();if(this.right.isRed())throw Cr();const e=this.left.check();if(e!==this.right.check())throw Cr();return e+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1,pi.EMPTY=new class{constructor(){this.size=0}get key(){throw Cr()}get value(){throw Cr()}get color(){throw Cr()}get left(){throw Cr()}get right(){throw Cr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new pi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mi{constructor(e){this.comparator=e,this.data=new fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yi(this.data.getIterator())}getIteratorFrom(e){return new yi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof mi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new mi(this.comparator);return t.data=e,t}}class yi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gi{constructor(e){this.fields=e,e.sort(Yr.comparator)}static empty(){return new gi([])}unionWith(e){let t=new mi(Yr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $r(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const bi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(e){if(xr(!!e),"string"==typeof e){let t=0;const n=bi.exec(e);if(xr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wi(e.seconds),nanos:wi(e.nanos)}}function wi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ei(e){return"string"==typeof e?vi.fromBase64String(e):vi.fromUint8Array(e)}function Ti(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Si(e){const t=e.mapValue.fields.__previous_value__;return Ti(t)?Si(t):t}function ki(e){const t=_i(e.mapValue.fields.__local_write_time__.timestampValue);return new Gr(t.seconds,t.nanos)}class Ii{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class Oi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Oi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oi&&e.projectId===this.projectId&&e.database===this.database}}function Ci(e){return null==e}function xi(e){return 0===e&&1/e==-1/0}function Ai(e){return"number"==typeof e&&Number.isInteger(e)&&!xi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Di={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ni(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ti(e)?4:Qi(e)?9007199254740991:10:Cr()}function Pi(e,t){if(e===t)return!0;const n=Ni(e);if(n!==Ni(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ki(e).isEqual(ki(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=_i(e.timestampValue),r=_i(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ei(e.bytesValue).isEqual(Ei(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wi(e.geoPointValue.latitude)===wi(t.geoPointValue.latitude)&&wi(e.geoPointValue.longitude)===wi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wi(e.integerValue)===wi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wi(e.doubleValue),r=wi(t.doubleValue);return n===r?xi(n)===xi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zr(e.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ui(n)!==ui(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pi(n[i],r[i])))return!1;return!0}(e,t);default:return Cr()}}function Ri(e,t){return void 0!==(e.values||[]).find((e=>Pi(e,t)))}function Mi(e,t){if(e===t)return 0;const n=Ni(e),r=Ni(t);if(n!==r)return $r(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $r(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wi(e.integerValue||e.doubleValue),r=wi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Li(e.timestampValue,t.timestampValue);case 4:return Li(ki(e),ki(t));case 5:return $r(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ei(e),r=Ei(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=$r(n[i],r[i]);if(0!==e)return e}return $r(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$r(wi(e.latitude),wi(t.latitude));return 0!==n?n:$r(wi(e.longitude),wi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Mi(n[i],r[i]);if(e)return e}return $r(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Di.mapValue&&t===Di.mapValue)return 0;if(e===Di.mapValue)return 1;if(t===Di.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=$r(r[s],o[s]);if(0!==e)return e;const t=Mi(n[r[s]],i[o[s]]);if(0!==t)return t}return $r(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Cr()}}function Li(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $r(e,t);const n=_i(e),r=_i(t),i=$r(n.seconds,r.seconds);return 0!==i?i:$r(n.nanos,r.nanos)}function ji(e){return Fi(e)}function Fi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_i(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ei(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Jr.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Fi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Fi(e.fields[i])}`;return n+"}"}(e.mapValue):Cr();var t,n}function Ui(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Vi(e){return!!e&&"integerValue"in e}function qi(e){return!!e&&"arrayValue"in e}function Bi(e){return!!e&&"nullValue"in e}function $i(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zi(e){return!!e&&"mapValue"in e}function Gi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return li(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Gi(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gi(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Qi(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ki{constructor(e){this.value=e}static empty(){return new Ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!zi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gi(t)}setAll(e){let t=Yr.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Gi(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());zi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];zi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){li(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ki(Gi(this.value))}}function Wi(e){const t=[];return li(e.fields,((e,n)=>{const r=new Yr([e]);if(zi(n)){const e=Wi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new gi(t)}class Hi{constructor(e,t,n,r,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(e){return new Hi(e,0,Qr.min(),Qr.min(),Ki.empty(),0)}static newFoundDocument(e,t,n){return new Hi(e,1,t,Qr.min(),n,0)}static newNoDocument(e,t){return new Hi(e,2,t,Qr.min(),Ki.empty(),0)}static newUnknownDocument(e,t){return new Hi(e,3,t,Qr.min(),Ki.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yi{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null}}function Ji(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Yi(e,t,n,r,i,o,s)}function Zi(e){const t=Ar(e);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+ji(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ci(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ji(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ji(e))).join(",")),t.ut=e}return t.ut}function Xi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!fo(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Pi(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!mo(e.startAt,t.startAt)&&mo(e.endAt,t.endAt)}function eo(e){return Jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class to extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,n):new no(e,t,n):"array-contains"===t?new so(e,n):"in"===t?new ao(e,n):"not-in"===t?new co(e,n):"array-contains-any"===t?new uo(e,n):new to(e,t,n)}static ct(e,t,n){return"in"===t?new ro(e,n):new io(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Mi(t,this.value)):null!==t&&Ni(this.value)===Ni(t)&&this.at(Mi(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cr()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class no extends to{constructor(e,t,n){super(e,t,n),this.key=Jr.fromName(n.referenceValue)}matches(e){const t=Jr.comparator(e.key,this.key);return this.at(t)}}class ro extends to{constructor(e,t){super(e,"in",t),this.keys=oo("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class io extends to{constructor(e,t){super(e,"not-in",t),this.keys=oo("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function oo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Jr.fromName(e.referenceValue)))}class so extends to{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qi(t)&&Ri(t.arrayValue,this.value)}}class ao extends to{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ri(this.value.arrayValue,t)}}class co extends to{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ri(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ri(this.value.arrayValue,t)}}class uo extends to{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qi(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ri(this.value.arrayValue,e)))}}class lo{constructor(e,t){this.position=e,this.inclusive=t}}class ho{constructor(e,t="asc"){this.field=e,this.dir=t}}function fo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function po(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Jr.comparator(Jr.fromName(s.referenceValue),n.key):Mi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function mo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Pi(e.position[n],t.position[n]))return!1;return!0}class yo{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.lt=null,this.ft=null,this.startAt,this.endAt}}function go(e,t,n,r,i,o,s,a){return new yo(e,t,n,r,i,o,s,a)}function vo(e){return new yo(e)}function bo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _o(e){for(const t of e.filters)if(t.ht())return t.field;return null}function wo(e){return null!==e.collectionGroup}function Eo(e){const t=Ar(e);if(null===t.lt){t.lt=[];const e=_o(t),n=bo(t);if(null!==e&&null===n)e.isKeyField()||t.lt.push(new ho(e)),t.lt.push(new ho(Yr.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.lt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new ho(Yr.keyField(),e))}}}return t.lt}function To(e){const t=Ar(e);if(!t.ft)if("F"===t.limitType)t.ft=Ji(t.path,t.collectionGroup,Eo(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Eo(t)){const t="desc"===i.dir?"asc":"desc";e.push(new ho(i.field,t))}const n=t.endAt?new lo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lo(t.startAt.position,t.startAt.inclusive):null;t.ft=Ji(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.ft}function So(e,t,n){return new yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ko(e,t){return Xi(To(e),To(t))&&e.limitType===t.limitType}function Io(e){return`${Zi(To(e))}|lt:${e.limitType}`}function Oo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${ji(t.value)}`;var t})).join(", ")}]`),Ci(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ji(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ji(e))).join(",")),`Target(${t})`}(To(e))}; limitType=${e.limitType})`}function Co(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=po(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Eo(e),t))&&!(e.endAt&&!function(e,t,n){const r=po(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Eo(e),t))}(e,t)}function xo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ao(e){return(t,n)=>{let r=!1;for(const i of Eo(e)){const e=Do(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Do(e,t,n){const r=e.field.isKeyField()?Jr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mi(r,i):Cr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cr()}}function No(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xi(t)?"-0":t}}function Po(e){return{integerValue:""+e}}function Ro(e,t){return Ai(t)?Po(t):No(e,t)}class Mo{constructor(){this._=void 0}}function Lo(e,t,n){return e instanceof Uo?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vo?qo(e,t):e instanceof Bo?$o(e,t):function(e,t){const n=Fo(e,t),r=Go(n)+Go(e._t);return Vi(n)&&Vi(e._t)?Po(r):No(e.wt,r)}(e,t)}function jo(e,t,n){return e instanceof Vo?qo(e,t):e instanceof Bo?$o(e,t):n}function Fo(e,t){return e instanceof zo?Vi(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Uo extends Mo{}class Vo extends Mo{constructor(e){super(),this.elements=e}}function qo(e,t){const n=Qo(t);for(const r of e.elements)n.some((e=>Pi(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bo extends Mo{constructor(e){super(),this.elements=e}}function $o(e,t){let n=Qo(t);for(const r of e.elements)n=n.filter((e=>!Pi(e,r)));return{arrayValue:{values:n}}}class zo extends Mo{constructor(e,t){super(),this.wt=e,this._t=t}}function Go(e){return wi(e.integerValue||e.doubleValue)}function Qo(e){return qi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ko{constructor(e,t){this.version=e,this.transformResults=t}}class Wo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wo}static exists(e){return new Wo(void 0,e)}static updateTime(e){return new Wo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ho(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yo{}function Jo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new as(e.key,Wo.none()):new ns(e.key,e.data,Wo.none());{const n=e.data,r=Ki.empty();let i=new mi(Yr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rs(e.key,r,new gi(i.toArray()),Wo.none())}}function Zo(e,t,n){e instanceof ns?function(e,t,n){const r=e.value.clone(),i=os(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rs?function(e,t,n){if(!Ho(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=os(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(is(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xo(e,t,n,r){return e instanceof ns?function(e,t,n,r){if(!Ho(e.precondition,t))return n;const i=e.value.clone(),o=ss(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rs?function(e,t,n,r){if(!Ho(e.precondition,t))return n;const i=ss(e.fieldTransforms,r,t),o=t.data;return o.setAll(is(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ho(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function es(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Fo(r.transform,e||null);null!=i&&(null===n&&(n=Ki.empty()),n.set(r.field,i))}return n||null}function ts(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vo&&t instanceof Vo||e instanceof Bo&&t instanceof Bo?zr(e.elements,t.elements,Pi):e instanceof zo&&t instanceof zo?Pi(e._t,t._t):e instanceof Uo&&t instanceof Uo}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ns extends Yo{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rs extends Yo{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function is(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function os(e,t,n){const r=new Map;xr(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,jo(s,a,n[i]))}return r}function ss(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Lo(e,o,t))}return r}class as extends Yo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cs extends Yo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class us{constructor(e){this.count=e}}var ls,hs;function fs(e){switch(e){default:return Cr();case Dr.CANCELLED:case Dr.UNKNOWN:case Dr.DEADLINE_EXCEEDED:case Dr.RESOURCE_EXHAUSTED:case Dr.INTERNAL:case Dr.UNAVAILABLE:case Dr.UNAUTHENTICATED:return!1;case Dr.INVALID_ARGUMENT:case Dr.NOT_FOUND:case Dr.ALREADY_EXISTS:case Dr.PERMISSION_DENIED:case Dr.FAILED_PRECONDITION:case Dr.ABORTED:case Dr.OUT_OF_RANGE:case Dr.UNIMPLEMENTED:case Dr.DATA_LOSS:return!0}}function ds(e){if(void 0===e)return kr("GRPC error has no .code"),Dr.UNKNOWN;switch(e){case ls.OK:return Dr.OK;case ls.CANCELLED:return Dr.CANCELLED;case ls.UNKNOWN:return Dr.UNKNOWN;case ls.DEADLINE_EXCEEDED:return Dr.DEADLINE_EXCEEDED;case ls.RESOURCE_EXHAUSTED:return Dr.RESOURCE_EXHAUSTED;case ls.INTERNAL:return Dr.INTERNAL;case ls.UNAVAILABLE:return Dr.UNAVAILABLE;case ls.UNAUTHENTICATED:return Dr.UNAUTHENTICATED;case ls.INVALID_ARGUMENT:return Dr.INVALID_ARGUMENT;case ls.NOT_FOUND:return Dr.NOT_FOUND;case ls.ALREADY_EXISTS:return Dr.ALREADY_EXISTS;case ls.PERMISSION_DENIED:return Dr.PERMISSION_DENIED;case ls.FAILED_PRECONDITION:return Dr.FAILED_PRECONDITION;case ls.ABORTED:return Dr.ABORTED;case ls.OUT_OF_RANGE:return Dr.OUT_OF_RANGE;case ls.UNIMPLEMENTED:return Dr.UNIMPLEMENTED;case ls.DATA_LOSS:return Dr.DATA_LOSS;default:return Cr()}}(hs=ls||(ls={}))[hs.OK=0]="OK",hs[hs.CANCELLED=1]="CANCELLED",hs[hs.UNKNOWN=2]="UNKNOWN",hs[hs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hs[hs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hs[hs.NOT_FOUND=5]="NOT_FOUND",hs[hs.ALREADY_EXISTS=6]="ALREADY_EXISTS",hs[hs.PERMISSION_DENIED=7]="PERMISSION_DENIED",hs[hs.UNAUTHENTICATED=16]="UNAUTHENTICATED",hs[hs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hs[hs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hs[hs.ABORTED=10]="ABORTED",hs[hs.OUT_OF_RANGE=11]="OUT_OF_RANGE",hs[hs.UNIMPLEMENTED=12]="UNIMPLEMENTED",hs[hs.INTERNAL=13]="INTERNAL",hs[hs.UNAVAILABLE=14]="UNAVAILABLE",hs[hs.DATA_LOSS=15]="DATA_LOSS";class ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return hi(this.inner)}size(){return this.innerSize}}const ms=new fi(Jr.comparator);function ys(){return ms}const gs=new fi(Jr.comparator);function vs(...e){let t=gs;for(const n of e)t=t.insert(n.key,n);return t}function bs(e){let t=gs;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function _s(){return Es()}function ws(){return Es()}function Es(){return new ps((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ts=new fi(Jr.comparator),Ss=new mi(Jr.comparator);function ks(...e){let t=Ss;for(const n of e)t=t.add(n);return t}const Is=new mi($r);function Os(){return Is}class Cs{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,xs.createSynthesizedTargetChangeForCurrentChange(e,t)),new Cs(Qr.min(),n,Os(),ys(),ks())}}class xs{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new xs(vi.EMPTY_BYTE_STRING,t,ks(),ks(),ks())}}class As{constructor(e,t,n,r){this.gt=e,this.removedTargetIds=t,this.key=n,this.yt=r}}class Ds{constructor(e,t){this.targetId=e,this.It=t}}class Ns{constructor(e,t,n=vi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ps{constructor(){this.Tt=0,this.Et=Ls(),this.At=vi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ks(),t=ks(),n=ks();return this.Et.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Cr()}})),new xs(this.At,this.Rt,e,t,n)}Dt(){this.bt=!1,this.Et=Ls()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Rs{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=ys(),this.Bt=Ms(),this.Lt=new mi($r)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,(t=>{const n=this.Qt(t);switch(e.state){case 0:this.jt(t)&&n.Vt(e.resumeToken);break;case 1:n.kt(),n.Pt||n.Dt(),n.Vt(e.resumeToken);break;case 2:n.kt(),n.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(n.Ot(),n.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),n.Vt(e.resumeToken));break;default:Cr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach(((e,n)=>{this.jt(n)&&t(n)}))}zt(e){const t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){const e=r.target;if(eo(e))if(0===n){const n=new Jr(e.path);this.Kt(t,n,Hi.newNoDocument(n,Qr.min()))}else xr(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach(((n,r)=>{const i=this.Ht(r);if(i){if(n.current&&eo(i.target)){const t=new Jr(i.target.path);null!==this.$t.get(t)||this.Xt(r,t)||this.Kt(r,t,Hi.newNoDocument(t,e))}n.vt&&(t.set(r,n.St()),n.Dt())}}));let n=ks();this.Bt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ht(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.$t.forEach(((t,n)=>n.setReadTime(e)));const r=new Cs(e,t,this.Lt,this.$t,n);return this.$t=ys(),this.Bt=Ms(),this.Lt=new mi($r),r}qt(e,t){if(!this.jt(e))return;const n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,n){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Ps,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new mi($r),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Sr("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Ps),this.Mt.getRemoteKeysForTarget(e).forEach((t=>{this.Kt(e,t,null)}))}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function Ms(){return new fi(Jr.comparator)}function Ls(){return new fi(Jr.comparator)}const js={asc:"ASCENDING",desc:"DESCENDING"},Fs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Us{constructor(e,t){this.databaseId=e,this.dt=t}}function Vs(e,t){return e.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qs(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Bs(e,t){return Vs(e,t.toTimestamp())}function $s(e){return xr(!!e),Qr.fromTimestamp(function(e){const t=_i(e);return new Gr(t.seconds,t.nanos)}(e))}function zs(e,t){return function(e){return new Wr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Gs(e){const t=Wr.fromString(e);return xr(ha(t)),t}function Qs(e,t){return zs(e.databaseId,t.path)}function Ks(e,t){const n=Gs(t);if(n.get(1)!==e.databaseId.projectId)throw new Nr(Dr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nr(Dr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jr(Js(n))}function Ws(e,t){return zs(e.databaseId,t)}function Hs(e){const t=Gs(e);return 4===t.length?Wr.emptyPath():Js(t)}function Ys(e){return new Wr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Js(e){return xr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Zs(e,t,n){return{name:Qs(e,t),fields:n.value.mapValue.fields}}function Xs(e,t){let n;if(t instanceof ns)n={update:Zs(e,t.key,t.value)};else if(t instanceof as)n={delete:Qs(e,t.key)};else if(t instanceof rs)n={update:Zs(e,t.key,t.data),updateMask:la(t.fieldMask)};else{if(!(t instanceof cs))return Cr();n={verify:Qs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Uo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zo)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Cr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Cr()}(e,t.precondition)),n}function ea(e,t){return{documents:[Ws(e,t.path)]}}function ta(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ws(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ws(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if($i(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NAN"}};if(Bi(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($i(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NOT_NAN"}};if(Bi(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(e.field),op:oa(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:sa(e.field),direction:ia(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.dt||Ci(t)?t:{value:t}}(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function na(e){let t=Hs(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=ra(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new ho(aa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ci(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new lo(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new lo(n,t)}(n.endAt)),go(t,i,s,o,a,"F",c,u)}function ra(e){return e?void 0!==e.unaryFilter?[ua(e)]:void 0!==e.fieldFilter?[ca(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>ra(e))).reduce(((e,t)=>e.concat(t))):Cr():[]}function ia(e){return js[e]}function oa(e){return Fs[e]}function sa(e){return{fieldPath:e.canonicalString()}}function aa(e){return Yr.fromServerFormat(e.fieldPath)}function ca(e){return to.create(aa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cr()}}(e.fieldFilter.op),e.fieldFilter.value)}function ua(e){switch(e.unaryFilter.op){case"IS_NAN":const t=aa(e.unaryFilter.field);return to.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=aa(e.unaryFilter.field);return to.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=aa(e.unaryFilter.field);return to.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=aa(e.unaryFilter.field);return to.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Cr()}}function la(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ha(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}const fa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],da=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pa=da;class ma{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Zo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ws();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Jo(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Qr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ks())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,((e,t)=>ts(e,t)))&&zr(this.baseMutations,e.baseMutations,((e,t)=>ts(e,t)))}}class ya{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){xr(e.mutations.length===n.length);let r=Ts;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ya(e,t,n,r)}}class ga{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class va{constructor(e,t,n,r,i=Qr.min(),o=Qr.min(),s=vi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ba{constructor(e){this.ne=e}}function _a(e){const t=na({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?So(t,t.limit,"L"):t}class wa{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(wi(e.integerValue));else if("doubleValue"in e){const n=wi(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),xi(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ce(t,20),"string"==typeof n?t.he(n):(t.he(`${n.seconds||""}`),t.ae(n.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ei(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ce(t,45),t.ae(n.latitude||0),t.ae(n.longitude||0)}else"mapValue"in e?Qi(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Cr()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const n=e.fields||{};this.ce(t,55);for(const r of Object.keys(n))this.le(r,t),this.oe(n[r],t)}me(e,t){const n=e.values||[];this.ce(t,50);for(const r of n)this.oe(r,t)}_e(e,t){this.ce(t,37),Jr.fromName(e).path.forEach((e=>{this.ce(t,60),this.ge(e,t)}))}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}wa.ye=new wa;class Ea{constructor(){this.ze=new Ta}addToCollectionParentIndex(e,t){return this.ze.add(t),si.resolve()}getCollectionParents(e,t){return si.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return si.resolve()}deleteFieldIndex(e,t){return si.resolve()}getDocumentsMatchingTarget(e,t){return si.resolve(null)}getIndexType(e,t){return si.resolve(0)}getFieldIndexes(e,t){return si.resolve([])}getNextCollectionGroupToUpdate(e){return si.resolve(null)}getMinOffset(e,t){return si.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,t){return si.resolve(ti.min())}updateCollectionGroup(e,t,n){return si.resolve()}updateIndexEntries(e,t){return si.resolve()}}class Ta{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mi(Wr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new mi(Wr.comparator)).toArray()}}new Uint8Array(0);class Sa{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Sa(e,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Sa.DEFAULT_COLLECTION_PERCENTILE=10,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sa.DEFAULT=new Sa(41943040,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sa.DISABLED=new Sa(-1,0,0);class ka{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ka(0)}static Rn(){return new ka(-1)}}class Ia{constructor(){this.changes=new ps((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?si.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Oa{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ca{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.getBaseDocument(e,t,n)))).next((e=>(null!==n&&Xo(n.mutation,e,gi.empty(),Gr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ks()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=ks()){const r=_s();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=vs();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=_s();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ks())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ys();const o=Es(),s=Es();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof rs)?i=i.insert(t.key,t):void 0!==s&&(o.set(t.key,s.mutation.getFieldMask()),Xo(s.mutation,t,s.mutation.getFieldMask(),Gr.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Oa(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Es();let r=new fi(((e,t)=>e-t)),i=ks();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||gi.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||ks()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,u=ws();c.forEach((e=>{if(!i.has(e)){const r=Jo(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return si.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Jr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):si.resolve(_s());let s=-1,a=i;return o.next((t=>si.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?si.resolve():this.getBaseDocument(e,t,n).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ks()))).next((e=>({batchId:s,changes:bs(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jr(t)).next((e=>{let t=vs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=vs();return this.indexManager.getCollectionParents(e,r).next((o=>si.forEach(o,(o=>{const s=function(e,t){return new yo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)))).next((e=>{e.forEach(((e,t)=>{const n=t.getKey();null===r.get(n)&&(r=r.insert(n,Hi.newInvalidDocument(n)))}));let n=vs();return r.forEach(((r,i)=>{const o=e.get(r);void 0!==o&&Xo(o.mutation,i,gi.empty(),Gr.now()),Co(t,i)&&(n=n.insert(r,i))})),n}))}getBaseDocument(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):si.resolve(Hi.newInvalidDocument(t))}}class xa{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return si.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:$s(n.createTime)}),si.resolve()}getNamedQuery(e,t){return si.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:_a(e.bundledQuery),readTime:$s(e.readTime)}}(t)),si.resolve()}}class Aa{constructor(){this.overlays=new fi(Jr.comparator),this.Xn=new Map}getOverlay(e,t){return si.resolve(this.overlays.get(t))}getOverlays(e,t){const n=_s();return si.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ie(e,t,r)})),si.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Xn.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Xn.delete(n)),si.resolve()}getOverlaysForCollection(e,t,n){const r=_s(),i=t.length+1,o=new Jr(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return si.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new fi(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=_s(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=_s(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return si.resolve(s)}ie(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ga(t,n));let i=this.Xn.get(t);void 0===i&&(i=ks(),this.Xn.set(t,i)),this.Xn.set(t,i.add(n.key))}}class Da{constructor(){this.Zn=new mi(Na.ts),this.es=new mi(Na.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Na(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new Na(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new Jr(new Wr([])),n=new Na(t,e),r=new Na(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}cs(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Jr(new Wr([])),n=new Na(t,e),r=new Na(t,e+1);let i=ks();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Na(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Na{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Jr.comparator(e.key,t.key)||$r(e.ls,t.ls)}static ns(e,t){return $r(e.ls,t.ls)||Jr.comparator(e.key,t.key)}}class Pa{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new mi(Na.ts)}checkEmpty(e){return si.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ma(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.ds=this.ds.add(new Na(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return si.resolve(o)}lookupMutationBatch(e,t){return si.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ws(n),i=r<0?0:r;return si.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return si.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return si.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Na(t,0),r=new Na(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this._s(e.ls);i.push(t)})),si.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mi($r);return t.forEach((e=>{const t=new Na(e,0),r=new Na(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),si.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Jr.isDocumentKey(i)||(i=i.child(""));const o=new Na(new Jr(i),0);let s=new mi($r);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ls)),!0)}),o),si.resolve(this.gs(s))}gs(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){xr(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let n=this.ds;return si.forEach(t.mutations,(r=>{const i=new Na(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}In(e){}containsKey(e,t){const n=new Na(t,0),r=this.ds.firstAfterOrEqual(n);return si.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,si.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ra{constructor(e){this.ps=e,this.docs=new fi(Jr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return si.resolve(n?n.document.mutableCopy():Hi.newInvalidDocument(t))}getEntries(e,t){let n=ys();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hi.newInvalidDocument(e))})),si.resolve(n)}getAllFromCollection(e,t,n){let r=ys();const i=new Jr(t.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||ni(ei(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return si.resolve(r)}getAllFromCollectionGroup(e,t,n,r){Cr()}Is(e,t){return si.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ma(this)}getSize(e){return si.resolve(this.size)}}class Ma extends Ia{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(n)})),si.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class La{constructor(e){this.persistence=e,this.Ts=new ps((e=>Zi(e)),Xi),this.lastRemoteSnapshotVersion=Qr.min(),this.highestTargetId=0,this.Es=0,this.As=new Da,this.targetCount=0,this.Rs=ka.An()}forEachTarget(e,t){return this.Ts.forEach(((e,n)=>t(n))),si.resolve()}getLastRemoteSnapshotVersion(e){return si.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return si.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),si.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),si.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ka(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,si.resolve()}updateTargetData(e,t){return this.vn(t),si.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,si.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),si.waitFor(i).next((()=>r))}getTargetCount(e){return si.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return si.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),si.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),si.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),si.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return si.resolve(n)}containsKey(e,t){return si.resolve(this.As.containsKey(t))}}class ja{constructor(e,t){this.bs={},this.overlays={},this.Ps=new ci(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new La(this),this.indexManager=new Ea,this.remoteDocumentCache=function(e){return new Ra(e)}((e=>this.referenceDelegate.Ss(e))),this.wt=new ba(t),this.Ds=new xa(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Aa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.bs[e.toKey()];return n||(n=new Pa(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,n){Sr("MemoryPersistence","Starting transaction:",e);const r=new Fa(this.Ps.next());return this.referenceDelegate.Cs(),n(r).next((e=>this.referenceDelegate.xs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ns(e,t){return si.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class Fa extends ii{constructor(e){super(),this.currentSequenceNumber=e}}class Ua{constructor(e){this.persistence=e,this.ks=new Da,this.Os=null}static Ms(e){return new Ua(e)}get Fs(){if(this.Os)return this.Os;throw Cr()}addReference(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),si.resolve()}removeReference(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),si.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),si.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach((e=>this.Fs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Fs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return si.forEach(this.Fs,(n=>{const r=Jr.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r,Qr.min())}))})).next((()=>(this.Os=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.Fs.delete(t.toString()):this.Fs.add(t.toString())}))}Ss(e){return 0}$s(e,t){return si.or([()=>si.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Va{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Pi=n,this.vi=r}static Vi(e,t){let n=ks(),r=ks();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Va(e,t.fromCache,n,r)}}class qa{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ci(e,t).next((i=>i||this.xi(e,t,r,n))).next((n=>n||this.Ni(e,t)))}Ci(e,t){return si.resolve(null)}xi(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Qr.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((i=>{const o=this.ki(t,i);return this.Oi(t,o,n,r)?this.Ni(e,t):(Tr()<=s.in.DEBUG&&Sr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oo(t)),this.Mi(e,o,t,Xr(r,-1)))}))}ki(e,t){let n=new mi(Ao(e));return t.forEach(((t,r)=>{Co(e,r)&&(n=n.add(r))})),n}Oi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ni(e,t){return Tr()<=s.in.DEBUG&&Sr("QueryEngine","Using full collection scan to execute query:",Oo(t)),this.Di.getDocumentsMatchingQuery(e,t,ti.min())}Mi(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ba{constructor(e,t,n,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new fi($r),this.Bi=new ps((e=>Zi(e)),Xi),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(n)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ca(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.$i)))}}function $a(e,t,n,r){return new Ba(e,t,n,r)}async function za(e,t){const n=Ar(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.qi(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=ks();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ki:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Ga(e){const t=Ar(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Vs.getLastRemoteSnapshotVersion(e)))}function Qa(e,t,n){let r=ks(),i=ks();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ys();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Qr.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Sr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Gi:r,Qi:i}}))}function Ka(e,t){const n=Ar(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Wa(e,t){const n=Ar(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Vs.getTargetData(e,t).next((i=>i?(r=i,si.resolve(r)):n.Vs.allocateTargetId(e).next((i=>(r=new va(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}async function Ha(e,t,n){const r=Ar(e),i=r.$i.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ai(e))throw e;Sr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.$i=r.$i.remove(t),r.Bi.delete(i.target)}function Ya(e,t,n){const r=Ar(e);let i=Qr.min(),o=ks();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Ar(e),i=r.Bi.get(n);return void 0!==i?si.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,To(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Fi.getDocumentsMatchingQuery(e,t,n?i:Qr.min(),n?o:ks()))).next((e=>(Ja(r,xo(t),e),{documents:e,ji:o})))))}function Ja(e,t,n){let r=Qr.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}class Za{constructor(){this.activeTargetIds=Os()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xa{constructor(){this.Fr=new Za,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,n){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Za,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ec{Br(e){}shutdown(){}}class tc{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Sr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Sr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class rc{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class ic extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.so=t+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,n,r,i){const o=this.oo(e,t);Sr("RestConnection","Sending: ",o,n);const s={};return this.uo(s,r,i),this.co(e,o,s,n).then((e=>(Sr("RestConnection","Received: ",e),e)),(t=>{throw Ir("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",n),t}))}ao(e,t,n,r,i,o){return this.ro(e,t,n,r,i)}uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}oo(e,t){const n=nc[e];return`${this.so}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,n,r){return new Promise(((i,o)=>{const s=new vr;s.listenOnce(dr.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case fr.NO_ERROR:const t=s.getResponseJson();Sr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case fr.TIMEOUT:Sr("Connection",'RPC "'+e+'" timed out'),o(new Nr(Dr.DEADLINE_EXCEEDED,"Request time out"));break;case fr.HTTP_ERROR:const n=s.getStatus();if(Sr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Dr).indexOf(t)>=0?t:Dr.UNKNOWN}(e.status);o(new Nr(t,e.message))}else o(new Nr(Dr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Nr(Dr.UNAVAILABLE,"Connection failed."));break;default:Cr()}}finally{Sr("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}ho(e,t,n){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=lr(),o=hr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new yr({})),this.uo(s.initMessageHeaders,t,n),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const c=r.join("");Sr("Connection","Creating WebChannel: "+c,s);const u=i.createWebChannel(c,s);let l=!1,h=!1;const f=new rc({jr:e=>{h?Sr("Connection","Not sending because WebChannel is closed:",e):(l||(Sr("Connection","Opening WebChannel transport."),u.open(),l=!0),Sr("Connection","WebChannel sending:",e),u.send(e))},Wr:()=>u.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(u,gr.EventType.OPEN,(()=>{h||Sr("Connection","WebChannel transport opened.")})),d(u,gr.EventType.CLOSE,(()=>{h||(h=!0,Sr("Connection","WebChannel transport closed"),f.eo())})),d(u,gr.EventType.ERROR,(e=>{h||(h=!0,Ir("Connection","WebChannel transport errored:",e),f.eo(new Nr(Dr.UNAVAILABLE,"The operation could not be completed")))})),d(u,gr.EventType.MESSAGE,(e=>{var t;if(!h){const n=e.data[0];xr(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Sr("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=ls[e];if(void 0!==t)return ds(t)}(e),n=i.message;void 0===t&&(t=Dr.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),h=!0,f.eo(new Nr(t,n)),u.close()}else Sr("Connection","WebChannel received:",n),f.no(n)}})),d(o,pr.STAT_EVENT,(e=>{e.stat===mr.PROXY?Sr("Connection","Detected buffering proxy"):e.stat===mr.NOPROXY&&Sr("Connection","Detected no buffering proxy")})),setTimeout((()=>{f.Zr()}),0),f}}function oc(){return"undefined"!=typeof document?document:null}function sc(e){return new Us(e,!0)}class ac{constructor(e,t,n=1e3,r=1.5,i=6e4){this.js=e,this.timerId=t,this.lo=n,this.fo=r,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-n);r>0&&Sr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,(()=>(this.yo=Date.now(),e()))),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class cc{constructor(e,t,n,r,i,o,s,a){this.js=e,this.Ao=n,this.Ro=r,this.bo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new ac(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(()=>this.Oo())))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,t){this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==e?this.So.reset():t&&t.code===Dr.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):t&&t.code===Dr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(t)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Po===t&&this.Uo(e,n)}),(t=>{e((()=>{const e=new Nr(Dr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.qo(e)}))}))}Uo(e,t){const n=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((()=>{n((()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,(()=>(this.Co()&&(this.state=3),Promise.resolve()))),this.listener.zr())))})),this.stream.Jr((e=>{n((()=>this.qo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}xo(){this.state=5,this.So.Io((async()=>{this.state=0,this.start()}))}qo(e){return Sr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget((()=>this.Po===e?t():(Sr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uc extends cc{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.wt=i}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Cr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.dt?(xr(void 0===t||"string"==typeof t),vi.fromBase64String(t||"")):(xr(void 0===t||t instanceof Uint8Array),vi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Dr.UNKNOWN:ds(e.code);return new Nr(t,e.message||"")}(s);n=new Ns(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ks(e,r.document.name),o=$s(r.document.updateTime),s=new Ki({mapValue:{fields:r.document.fields}}),a=Hi.newFoundDocument(i,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new As(c,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ks(e,r.document),o=r.readTime?$s(r.readTime):Qr.min(),s=Hi.newNoDocument(i,o),a=r.removedTargetIds||[];n=new As([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ks(e,r.document),o=r.removedTargetIds||[];n=new As([],o,i,null)}else{if(!("filter"in t))return Cr();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new us(r),o=e.targetId;n=new Ds(o,i)}}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Qr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Qr.min():t.readTime?$s(t.readTime):Qr.min()}(e);return this.listener.Go(t,n)}Qo(e){const t={};t.database=Ys(this.wt),t.addTarget=function(e,t){let n;const r=t.target;return n=eo(r)?{documents:ea(e,r)}:{query:ta(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=qs(e,t.resumeToken):t.snapshotVersion.compareTo(Qr.min())>0&&(n.readTime=Vs(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}jo(e){const t={};t.database=Ys(this.wt),t.removeTarget=e,this.Mo(t)}}class lc extends cc{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(xr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function(e,t){return e&&e.length>0?(xr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?$s(e.updateTime):$s(t);return n.isEqual(Qr.min())&&(n=$s(t)),new Ko(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=$s(e.commitTime);return this.listener.Jo(n,t)}return xr(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Ys(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Xs(this.wt,e)))};this.Mo(t)}}class hc extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Nr(Dr.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.bo.ro(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Dr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nr(Dr.UNKNOWN,e.toString())}))}ao(e,t,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.bo.ao(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Dr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nr(Dr.UNKNOWN,e.toString())}))}terminate(){this.Zo=!0}}class fc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve()))))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(kr(t),this.su=!1):Sr("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class dc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br((e=>{n.enqueueAndForget((async()=>{Ec(this)&&(Sr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ar(e);t.lu.add(4),await mc(t),t._u.set("Unknown"),t.lu.delete(4),await pc(t)}(this))}))})),this._u=new fc(n,r)}}async function pc(e){if(Ec(e))for(const t of e.fu)await t(!0)}async function mc(e){for(const t of e.fu)await t(!1)}function yc(e,t){const n=Ar(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),wc(n)?_c(n):Vc(n).Co()&&vc(n,t))}function gc(e,t){const n=Ar(e),r=Vc(n);n.hu.delete(t),r.Co()&&bc(n,t),0===n.hu.size&&(r.Co()?r.ko():Ec(n)&&n._u.set("Unknown"))}function vc(e,t){e.wu.Nt(t.targetId),Vc(e).Qo(t)}function bc(e,t){e.wu.Nt(t),Vc(e).jo(t)}function _c(e){e.wu=new Rs({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),te:t=>e.hu.get(t)||null}),Vc(e).start(),e._u.iu()}function wc(e){return Ec(e)&&!Vc(e).Do()&&e.hu.size>0}function Ec(e){return 0===Ar(e).lu.size}function Tc(e){e.wu=void 0}async function Sc(e){e.hu.forEach(((t,n)=>{vc(e,t)}))}async function kc(e,t){Tc(e),wc(e)?(e._u.uu(t),_c(e)):e._u.set("Unknown")}async function Ic(e,t,n){if(e._u.set("Online"),t instanceof Ns&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.hu.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.hu.delete(r),e.wu.removeTarget(r))}(e,t)}catch(n){Sr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Oc(e,n)}else if(t instanceof As?e.wu.Ut(t):t instanceof Ds?e.wu.zt(t):e.wu.Gt(t),!n.isEqual(Qr.min()))try{const t=await Ga(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.wu.Yt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.hu.get(t);if(!n)return;e.hu.set(t,n.withResumeToken(vi.EMPTY_BYTE_STRING,n.snapshotVersion)),bc(e,t);const r=new va(n.target,t,1,n.sequenceNumber);vc(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Sr("RemoteStore","Failed to raise snapshot:",t),await Oc(e,t)}}async function Oc(e,t,n){if(!ai(t))throw t;e.lu.add(1),await mc(e),e._u.set("Offline"),n||(n=()=>Ga(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Sr("RemoteStore","Retrying IndexedDB access"),await n(),e.lu.delete(1),await pc(e)}))}function Cc(e,t){return t().catch((n=>Oc(e,n,t)))}async function xc(e){const t=Ar(e),n=qc(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;Ac(t);)try{const e=await Ka(t.localStore,r);if(null===e){0===t.au.length&&n.ko();break}r=e.batchId,Dc(t,e)}catch(e){await Oc(t,e)}Nc(t)&&Pc(t)}function Ac(e){return Ec(e)&&e.au.length<10}function Dc(e,t){e.au.push(t);const n=qc(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Nc(e){return Ec(e)&&!qc(e).Do()&&e.au.length>0}function Pc(e){qc(e).start()}async function Rc(e){qc(e).Xo()}async function Mc(e){const t=qc(e);for(const n of e.au)t.Ho(n.mutations)}async function Lc(e,t,n){const r=e.au.shift(),i=ya.from(r,t,n);await Cc(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await xc(e)}async function jc(e,t){t&&qc(e).zo&&await async function(e,t){if(fs(n=t.code)&&n!==Dr.ABORTED){const n=e.au.shift();qc(e).No(),await Cc(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await xc(e)}var n}(e,t),Nc(e)&&Pc(e)}async function Fc(e,t){const n=Ar(e);n.asyncQueue.verifyOperationInProgress(),Sr("RemoteStore","RemoteStore received new credentials");const r=Ec(n);n.lu.add(3),await mc(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.lu.delete(3),await pc(n)}async function Uc(e,t){const n=Ar(e);t?(n.lu.delete(2),await pc(n)):t||(n.lu.add(2),await mc(n),n._u.set("Unknown"))}function Vc(e){return e.mu||(e.mu=function(e,t,n){const r=Ar(e);return r.tu(),new uc(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Sc.bind(null,e),Jr:kc.bind(null,e),Go:Ic.bind(null,e)}),e.fu.push((async t=>{t?(e.mu.No(),wc(e)?_c(e):e._u.set("Unknown")):(await e.mu.stop(),Tc(e))}))),e.mu}function qc(e){return e.gu||(e.gu=function(e,t,n){const r=Ar(e);return r.tu(),new lc(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Rc.bind(null,e),Jr:jc.bind(null,e),Yo:Mc.bind(null,e),Jo:Lc.bind(null,e)}),e.fu.push((async t=>{t?(e.gu.No(),await xc(e)):(await e.gu.stop(),e.au.length>0&&(Sr("RemoteStore",`Stopping write stream with ${e.au.length} pending writes`),e.au=[]))}))),e.gu}class Bc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Bc(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nr(Dr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $c(e,t){if(kr("AsyncQueue",`${t}: ${e}`),ai(e))return new Nr(Dr.UNAVAILABLE,`${t}: ${e}`);throw e}class zc{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Jr.comparator(t.key,n.key):(e,t)=>Jr.comparator(e.key,t.key),this.keyedMap=vs(),this.sortedSet=new fi(this.comparator)}static emptySet(e){return new zc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new zc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Gc{constructor(){this.yu=new fi(Jr.comparator)}track(e){const t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Cr():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Qc{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Qc(e,t,zc.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ko(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Kc{constructor(){this.Iu=void 0,this.listeners=[]}}class Wc{constructor(){this.queries=new ps((e=>Io(e)),ko),this.onlineState="Unknown",this.Tu=new Set}}async function Hc(e,t){const n=Ar(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Kc),i)try{o.Iu=await n.onListen(r)}catch(e){const n=$c(e,`Initialization of query '${Oo(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Eu(n.onlineState),o.Iu&&t.Au(o.Iu)&&Xc(n)}async function Yc(e,t){const n=Ar(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Jc(e,t){const n=Ar(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Au(i)&&(r=!0);t.Iu=i}}r&&Xc(n)}function Zc(e,t,n){const r=Ar(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Xc(e){e.Tu.forEach((e=>{e.next()}))}class eu{constructor(e,t,n){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}vu(e){if(e.docChanges.length>0)return!0;const t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Su(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class tu{constructor(e){this.key=e}}class nu{constructor(e){this.key=e}}class ru{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=ks(),this.mutatedKeys=ks(),this.Lu=Ao(e),this.Uu=new zc(this.Lu)}get qu(){return this.Fu}Ku(e,t){const n=t?t.Gu:new Gc,r=t?t.Uu:this.Uu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=Co(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let d=!1;u&&l?u.data.isEqual(l.data)?h!==f&&(n.track({type:3,doc:l}),d=!0):this.Qu(u,l)||(n.track({type:2,doc:l}),d=!0,(a&&this.Lu(l,a)>0||c&&this.Lu(l,c)<0)&&(s=!0)):!u&&l?(n.track({type:0,doc:l}),d=!0):u&&!l&&(n.track({type:1,doc:u}),d=!0,(a||c)&&(s=!0)),d&&(l?(o=o.add(l),i=f?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Uu:o,Gu:n,Oi:s,mutatedKeys:i}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const i=e.Gu.pu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cr()}};return n(e)-n(t)}(e.type,t.type)||this.Lu(e.doc,t.doc))),this.ju(n);const o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,a=s!==this.$u;return this.$u=s,0!==i.length||a?{snapshot:new Qc(this.query,e.Uu,r,i,e.mutatedKeys,0===s,a,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Gc,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach((e=>this.Fu=this.Fu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Fu=this.Fu.delete(e))),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ks(),this.Uu.forEach((e=>{this.Hu(e.key)&&(this.Bu=this.Bu.add(e.key))}));const t=[];return e.forEach((e=>{this.Bu.has(e)||t.push(new nu(e))})),this.Bu.forEach((n=>{e.has(n)||t.push(new tu(n))})),t}Ju(e){this.Fu=e.ji,this.Bu=ks();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Qc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class iu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ou{constructor(e){this.key=e,this.Xu=!1}}class su{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new ps((e=>Io(e)),ko),this.ec=new Map,this.nc=new Set,this.sc=new fi(Jr.comparator),this.ic=new Map,this.rc=new Da,this.oc={},this.uc=new Map,this.cc=ka.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}async function au(e,t){const n=ku(e);let r,i;const o=n.tc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Yu();else{const e=await Wa(n.localStore,To(t));n.isPrimaryClient&&yc(n.remoteStore,e);const o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await cu(n,t,r,"current"===o)}return i}async function cu(e,t,n,r){e.hc=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ku(n);i.Oi&&(i=await Ya(e.localStore,t.query,!1).then((({documents:e})=>t.view.Ku(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return bu(e,t.targetId,s.zu),s.snapshot}(e,t,n,r);const i=await Ya(e.localStore,t,!0),o=new ru(t,i.ji),s=o.Ku(i.documents),a=xs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=o.applyChanges(s,e.isPrimaryClient,a);bu(e,n,c.zu);const u=new iu(t,n,o);return e.tc.set(t,u),e.ec.has(n)?e.ec.get(n).push(t):e.ec.set(n,[t]),c.snapshot}async function uu(e,t){const n=Ar(e),r=n.tc.get(t),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter((e=>!ko(e,t)))),void n.tc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ha(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),gc(n.remoteStore,r.targetId),gu(n,r.targetId)})).catch(oi)):(gu(n,r.targetId),await Ha(n.localStore,r.targetId,!0))}async function lu(e,t){const n=Ar(e);try{const e=await function(e,t){const n=Ar(e),r=t.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Vs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Vs.addMatchingKeys(e,o.addedDocuments,a))));let u=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?u=u.withResumeToken(vi.EMPTY_BYTE_STRING,Qr.min()).withLastLimboFreeSnapshotVersion(Qr.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,o)&&s.push(n.Vs.updateTargetData(e,u))}));let a=ys(),c=ks();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Qa(e,o,t.documentUpdates).next((e=>{a=e.Gi,c=e.Qi}))),!r.isEqual(Qr.min())){const t=n.Vs.getLastRemoteSnapshotVersion(e).next((t=>n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return si.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.$i=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ic.get(t);r&&(xr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Xu=!0:e.modifiedDocuments.size>0?xr(r.Xu):e.removedDocuments.size>0&&(xr(r.Xu),r.Xu=!1))})),await Eu(n,e,t)}catch(e){await oi(e)}}function hu(e,t,n){const r=Ar(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.tc.forEach(((n,r)=>{const i=r.view.Eu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ar(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Eu(t)&&(r=!0)})),r&&Xc(n)}(r.eventManager,t),e.length&&r.Zu.Go(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function fu(e,t,n){const r=Ar(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ic.get(t),o=i&&i.key;if(o){let e=new fi(Jr.comparator);e=e.insert(o,Hi.newNoDocument(o,Qr.min()));const n=ks().add(o),i=new Cs(Qr.min(),new Map,new mi($r),e,n);await lu(r,i),r.sc=r.sc.remove(o),r.ic.delete(t),wu(r)}else await Ha(r.localStore,t,!1).then((()=>gu(r,t,n))).catch(oi)}async function du(e,t){const n=Ar(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ar(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=si.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);xr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ks();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);yu(n,r,null),mu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(n,e)}catch(e){await oi(e)}}async function pu(e,t,n){const r=Ar(e);try{const e=await function(e,t){const n=Ar(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(xr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);yu(r,t,n),mu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Eu(r,e)}catch(n){await oi(n)}}function mu(e,t){(e.uc.get(t)||[]).forEach((e=>{e.resolve()})),e.uc.delete(t)}function yu(e,t,n){const r=Ar(e);let i=r.oc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function gu(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ec.get(t))e.tc.delete(r),n&&e.Zu.lc(r,n);e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((t=>{e.rc.containsKey(t)||vu(e,t)}))}function vu(e,t){e.nc.delete(t.path.canonicalString());const n=e.sc.get(t);null!==n&&(gc(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),wu(e))}function bu(e,t,n){for(const r of n)r instanceof tu?(e.rc.addReference(r.key,t),_u(e,r)):r instanceof nu?(Sr("SyncEngine","Document no longer in limbo: "+r.key),e.rc.removeReference(r.key,t),e.rc.containsKey(r.key)||vu(e,r.key)):Cr()}function _u(e,t){const n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Sr("SyncEngine","New document in limbo: "+n),e.nc.add(r),wu(e))}function wu(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){const t=e.nc.values().next().value;e.nc.delete(t);const n=new Jr(Wr.fromString(t)),r=e.cc.next();e.ic.set(r,new ou(n)),e.sc=e.sc.insert(n,r),yc(e.remoteStore,new va(To(vo(n.path)),r,2,ci.ot))}}async function Eu(e,t,n){const r=Ar(e),i=[],o=[],s=[];r.tc.isEmpty()||(r.tc.forEach(((e,a)=>{s.push(r.hc(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Va.Vi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Zu.Go(i),await async function(e,t){const n=Ar(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>si.forEach(t,(t=>si.forEach(t.Pi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>si.forEach(t.vi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ai(e))throw e;Sr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.$i.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.$i=n.$i.insert(e,i)}}}(r.localStore,o))}async function Tu(e,t){const n=Ar(e);if(!n.currentUser.isEqual(t)){Sr("SyncEngine","User change. New user:",t.toKey());const e=await za(n.localStore,t);n.currentUser=t,function(e,t){e.uc.forEach((e=>{e.forEach((e=>{e.reject(new Nr(Dr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Eu(n,e.Ki)}}function Su(e,t){const n=Ar(e),r=n.ic.get(t);if(r&&r.Xu)return ks().add(r.key);{let e=ks();const r=n.ec.get(t);if(!r)return e;for(const t of r){const r=n.tc.get(t);e=e.unionWith(r.view.qu)}return e}}function ku(e){const t=Ar(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Su.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fu.bind(null,t),t.Zu.Go=Jc.bind(null,t.eventManager),t.Zu.lc=Zc.bind(null,t.eventManager),t}function Iu(e){const t=Ar(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=du.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pu.bind(null,t),t}class Ou{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=sc(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,t){return null}gc(e,t){return null}wc(e){return $a(this.persistence,new qa,e.initialUser,this.wt)}_c(e){return new ja(Ua.Ms,this.wt)}dc(e){return new Xa}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Cu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>hu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tu.bind(null,this.syncEngine),await Uc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wc}createDatastore(e){const t=sc(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new ic(r));var r;return function(e,t,n,r){return new hc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>hu(this.syncEngine,e,0),o=tc.V()?new tc:new ec,new dc(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new su(e,t,n,r,i,o);return s&&(a.ac=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ar(e);Sr("RemoteStore","RemoteStore shutting down."),t.lu.add(5),await mc(t),t.du.shutdown(),t._u.set("Unknown")}(this.remoteStore)}}class xu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Au{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=_r.UNAUTHENTICATED,this.clientId=Br.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Sr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Sr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nr(Dr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=$c(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Du(e,t){e.asyncQueue.verifyOperationInProgress(),Sr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await za(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function Nu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Pu(e);Sr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Fc(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Fc(t.remoteStore,n))),e.onlineComponents=t}async function Pu(e){return e.offlineComponents||(Sr("FirestoreClient","Using default OfflineComponentProvider"),await Du(e,new Ou)),e.offlineComponents}async function Ru(e){return e.onlineComponents||(Sr("FirestoreClient","Using default OnlineComponentProvider"),await Nu(e,new Cu)),e.onlineComponents}function Mu(e){return Ru(e).then((e=>e.syncEngine))}async function Lu(e){const t=await Ru(e),n=t.eventManager;return n.onListen=au.bind(null,t.syncEngine),n.onUnlisten=uu.bind(null,t.syncEngine),n}const ju=new Map;function Fu(e,t,n){if(!n)throw new Nr(Dr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Uu(e){if(!Jr.isDocumentKey(e))throw new Nr(Dr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Vu(e){if(Jr.isDocumentKey(e))throw new Nr(Dr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function qu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Cr()}function Bu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nr(Dr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qu(e);throw new Nr(Dr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class $u{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Nr(Dr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nr(Dr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Nr(Dr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zu{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $u({}),this._settingsFrozen=!1,e instanceof Oi?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nr(Dr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oi(e.options.projectId)}(e))}get app(){if(!this._app)throw new Nr(Dr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nr(Dr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $u(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mr;switch(e.type){case"gapi":const t=e.client;return xr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Fr(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Nr(Dr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ju.get(e);t&&(Sr("ComponentProvider","Removing Datastore"),ju.delete(e),t.terminate())}(this),Promise.resolve()}}class Gu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gu(this.firestore,e,this._key)}}class Qu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qu(this.firestore,e,this._query)}}class Ku extends Qu{constructor(e,t,n){super(e,t,vo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gu(this.firestore,null,new Jr(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function Wu(e,t,...n){if(e=(0,a.m9)(e),Fu("collection","path",t),e instanceof zu){const r=Wr.fromString(t,...n);return Vu(r),new Ku(e,null,r)}{if(!(e instanceof Gu||e instanceof Ku))throw new Nr(Dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Wr.fromString(t,...n));return Vu(r),new Ku(e.firestore,null,r)}}function Hu(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),e instanceof Qu&&t instanceof Qu&&e.firestore===t.firestore&&ko(e._query,t._query)&&e.converter===t.converter}class Yu{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ac(this,"async_queue_retry"),this.Kc=()=>{const e=oc();e&&Sr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const e=oc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=oc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise((()=>{}));const t=new Pr;return this.Qc((()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Mc.push(e),this.jc())))}async jc(){if(0!==this.Mc.length){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(w){if(!ai(w))throw w;Sr("AsyncQueue","Operation failed with retryable error: "+w)}this.Mc.length>0&&this.So.Io((()=>this.jc()))}}Qc(e){const t=this.Oc.then((()=>(this.Lc=!0,e().catch((e=>{this.Bc=e,this.Lc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw kr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Lc=!1,e))))));return this.Oc=t,t}enqueueAfterDelay(e,t,n){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=Bc.createAndSchedule(this,e,t,n,(e=>this.Wc(e)));return this.$c.push(r),r}Gc(){this.Bc&&Cr()}verifyOperationInProgress(){}async zc(){let e;do{e=this.Oc,await e}while(e!==this.Oc)}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then((()=>{this.$c.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()}))}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Ju(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Zu extends zu{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Yu,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tl(this),this._firestoreClient.terminate()}}function Xu(e=(0,i.Mq)()){return(0,i.qX)(e,"firestore").getImmediate()}function el(e){return e._firestoreClient||tl(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tl(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Ii(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Au(e._authCredentials,e._appCheckCredentials,e._queue,r)}class nl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nr(Dr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(vi.fromBase64String(e))}catch(e){throw new Nr(Dr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new rl(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class il{constructor(e){this._methodName=e}}class ol{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nr(Dr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nr(Dr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $r(this._lat,e._lat)||$r(this._long,e._long)}}const sl=/^__.*__$/;class al{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ns(e,this.data,t,this.fieldTransforms)}}function cl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cr()}}class ul{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.wt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new ul(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}ia(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return wl(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(cl(this.Zc)&&sl.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class ll{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=n||sc(e)}aa(e,t,n,r=!1){return new ul({Zc:e,methodName:t,ca:n,path:Yr.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function hl(e){const t=e._freezeSettings(),n=sc(e._databaseId);return new ll(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fl(e,t,n,r,i,o={}){const s=e.aa(o.merge||o.mergeFields?2:0,t,n,i);gl("Data must be an object, but it was:",s,r);const a=ml(r,s);let c,u;if(o.merge)c=new gi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=vl(t,r,n);if(!s.contains(i))throw new Nr(Dr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);El(e,i)||e.push(i)}c=new gi(e),u=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=s.fieldTransforms;return new al(new Ki(a),c,u)}function dl(e,t,n,r=!1){return pl(n,e.aa(r?4:3,t))}function pl(e,t){if(yl(e=(0,a.m9)(e)))return gl("Unsupported field value:",t,e),ml(e,t);if(e instanceof il)return function(e,t){if(!cl(t.Zc))throw t.oa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.oa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=pl(i,t.ra(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ro(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Gr.fromDate(e);return{timestampValue:Vs(t.wt,n)}}if(e instanceof Gr){const n=new Gr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vs(t.wt,n)}}if(e instanceof ol)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rl)return{bytesValue:qs(t.wt,e._byteString)};if(e instanceof Gu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.oa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:zs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa(`Unsupported field value: ${qu(e)}`)}(e,t)}function ml(e,t){const n={};return hi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):li(e,((e,r)=>{const i=pl(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gr||e instanceof ol||e instanceof rl||e instanceof Gu||e instanceof il)}function gl(e,t,n){if(!yl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=qu(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function vl(e,t,n){if((t=(0,a.m9)(t))instanceof nl)return t._internalPath;if("string"==typeof t)return _l(e,t);throw wl("Field path arguments must be of type string or ",e,!1,void 0,n)}const bl=new RegExp("[~\\*/\\[\\]]");function _l(e,t,n){if(t.search(bl)>=0)throw wl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new nl(...t.split("."))._internalPath}catch(r){throw wl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function wl(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Nr(Dr.INVALID_ARGUMENT,a+e+c)}function El(e,t){return e.some((e=>e.isEqual(t)))}class Tl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sl extends Tl{data(){return super.data()}}function kl(e,t){return"string"==typeof t?_l(e,t):t instanceof nl?t._internalPath:t._delegate._internalPath}class Il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends Tl{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(kl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Cl extends Ol{data(e={}){return super.data(e)}}class xl{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Il(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Cl(this._firestore,this._userDataWriter,n.key,n,new Il(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nr(Dr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Cl(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Il(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Cl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Il(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Al(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Al(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cr()}}function Dl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Nr(Dr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nl{}function Pl(e,...t){for(const n of t)e=n._apply(e);return e}class Rl extends Nl{constructor(e,t,n){super(),this.fa=e,this.da=t,this._a=n,this.type="where"}_apply(e){const t=hl(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Nr(Dr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){jl(s,o);const t=[];for(const n of s)t.push(Ll(r,e,n));a={arrayValue:{values:t}}}else a=Ll(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||jl(s,o),a=dl(n,"where",s,"in"===o||"not-in"===o);const c=to.create(i,o,a);return function(e,t){if(t.ht()){const n=_o(e);if(null!==n&&!n.isEqual(t.field))throw new Nr(Dr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=bo(e);null!==r&&Fl(e,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Nr(Dr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Nr(Dr.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Qu(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new yo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function Ml(e,t,n){const r=t,i=kl("where",e);return new Rl(i,r,n)}function Ll(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Nr(Dr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wo(t)&&-1!==n.indexOf("/"))throw new Nr(Dr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Wr.fromString(n));if(!Jr.isDocumentKey(r))throw new Nr(Dr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ui(e,new Jr(r))}if(n instanceof Gu)return Ui(e,n._key);throw new Nr(Dr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qu(n)}.`)}function jl(e,t){if(!Array.isArray(e)||0===e.length)throw new Nr(Dr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Nr(Dr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Fl(e,t,n){if(!n.isEqual(t))throw new Nr(Dr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Ul{convertValue(e,t="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Cr()}}convertObject(e,t){const n={};return li(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ol(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Si(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ki(e));default:return null}}convertTimestamp(e){const t=_i(e);return new Gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wr.fromString(e);xr(ha(n));const r=new Oi(n.get(1),n.get(3)),i=new Jr(n.popFirst(5));return r.isEqual(t)||kr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Vl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ql extends Ul{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gu(this.firestore,null,t)}}function Bl(e,t){const n=Bu(e.firestore,Zu),r=function(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=Br.I()),Fu("doc","path",t),e instanceof zu){const r=Wr.fromString(t,...n);return Uu(r),new Gu(e,null,new Jr(r))}{if(!(e instanceof Gu||e instanceof Ku))throw new Nr(Dr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Wr.fromString(t,...n));return Uu(r),new Gu(e.firestore,e instanceof Ku?e.converter:null,new Jr(r))}}(e),i=Vl(e.converter,t);return zl(n,[fl(hl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Wo.exists(!1))]).then((()=>r))}function $l(e,...t){var n,r,i;e=(0,a.m9)(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||Ju(t[s])||(o=t[s],s++);const c={includeMetadataChanges:o.includeMetadataChanges};if(Ju(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,l,h;if(e instanceof Gu)l=Bu(e.firestore,Zu),h=vo(e._key.path),u={next:n=>{t[s]&&t[s](Gl(l,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Bu(e,Qu);l=Bu(n.firestore,Zu),h=n._query;const r=new ql(l);u={next:e=>{t[s]&&t[s](new xl(l,r,n,e))},error:t[s+1],complete:t[s+2]},Dl(e._query)}return function(e,t,n,r){const i=new xu(r),o=new eu(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Hc(await Lu(e),o))),()=>{i.Tc(),e.asyncQueue.enqueueAndForget((async()=>Yc(await Lu(e),o)))}}(el(l),h,c,u)}function zl(e,t){return function(e,t){const n=new Pr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Iu(e);try{const e=await function(e,t){const n=Ar(e),r=Gr.now(),i=t.reduce(((e,t)=>e.add(t.key)),ks());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=ys(),c=ks();return n.Ui.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=es(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new rs(e.key,t,Wi(t.value.mapValue),Wo.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:bs(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.oc[e.currentUser.toKey()];r||(r=new fi($r)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Eu(r,e.changes),await xc(r.remoteStore)}catch(e){const t=$c(e,"Failed to persist write");n.reject(t)}}(await Mu(e),t,n))),n.promise}(el(e),t)}function Gl(e,t,n){const r=n.docs.get(t._key),i=new ql(e);return new Ol(e,i,t._key,r,new Il(n.hasPendingWrites,n.fromCache),t.converter)}!function(e,t=!0){!function(e){wr=e}(i.Jn),(0,i.Xd)(new o.wA("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new Zu(r,new Lr(e.getProvider("auth-internal")),new Vr(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),(0,i.KN)(br,"3.4.11",e),(0,i.KN)(br,"3.4.11","esm2017")}()},8679:function(e,t,n){"use strict";var r=n(21296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var s=l(n);h&&(s=s.concat(h(n)));for(var a=c(t),m=c(n),y=0;y<s.length;++y){var g=s[y];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!a||!a[g])){var v=f(n,g);try{u(t,g,v)}catch(b){}}}}return t}},96103:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case a:case s:case d:return e;default:switch(e=e&&e.$$typeof){case u:case f:case y:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=y,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===v||e.$$typeof===b||e.$$typeof===_||e.$$typeof===g)},t.typeOf=w},21296:function(e,t,n){"use strict";e.exports=n(96103)},83454:function(e,t,n){"use strict";var r,i;e.exports=(null===(r=n.g.process)||void 0===r?void 0:r.env)&&"object"===typeof(null===(i=n.g.process)||void 0===i?void 0:i.env)?n.g.process:n(77663)},52136:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(87553)}])},95400:function(e,t,n){"use strict";n.d(t,{Zr:function(){return o},J6:function(){return s}});var r={image:void 0,error:void 0,loading:void 0},i=(0,n(43034).oM)({name:"image",initialState:r,reducers:{uploadImage:function(e,t){e.loading=!0},uploadSuccess:function(e,t){e.loading=!1,e.image=t.payload},uploadFailure:function(e,t){e.loading=!1,e.error=t.payload}}}),o={ADD_ITEM:"IMAGE_ADD_ITEM"},s=i.actions;t.ZP=i.reducer},71406:function(e,t,n){"use strict";n.d(t,{LS:function(){return Ao},o3:function(){return Do},l8:function(){return Ro},m1:function(){return Lo},XH:function(){return Mo}});var r=n(34051),i=n.n(r),o=n(70655),s=n(18634);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var h=function(){return"function"===typeof Symbol},f=function(e){return h()&&Boolean(Symbol[e])},d=function(e){return f(e)?Symbol[e]:"@@"+e};h()&&!f("observable")&&(Symbol.observable=Symbol("observable"));var p=d("iterator"),m=d("observable"),y=d("species");function g(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function v(e){var t=e.constructor;return void 0!==t&&null===(t=t[y])&&(t=void 0),void 0!==t?t:O}function b(e){b.log?b.log(e):setTimeout((function(){throw e}))}function _(e){Promise.resolve().then((function(){try{e()}catch(t){b(t)}}))}function w(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=g(t,"unsubscribe");n&&n.call(t)}}catch(r){b(r)}}function E(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function T(e,t,n){e._state="running";var r=e._observer;try{var i=g(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(E(e),!i)throw n;i.call(r,n);break;case"complete":E(e),i&&i.call(r)}}catch(o){b(o)}"closed"===e._state?w(e):"running"===e._state&&(e._state="ready")}function S(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void _((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(T(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void T(e,t,n);e._queue.push({type:t,value:n})}}var k=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new I(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(E(this),w(this))},l(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),I=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){S(this._subscription,"next",e)},t.error=function(e){S(this._subscription,"error",e)},t.complete=function(){S(this._subscription,"complete")},l(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),O=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new k(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(v(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(v(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=v(this),r=arguments.length>1,i=!1,o=arguments[1],s=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{s=e(s,t)}catch(a){return n.error(a)}else s=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=v(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=v(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(a){return r.error(a)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[m]=function(){return this},e.from=function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=g(t,m);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return function(e){return e instanceof O}(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(f("iterator")&&(r=g(t,p)))return new n((function(e){_((function(){if(!e.closed){for(var n,i=a(r.call(t));!(n=i()).done;){var o=n.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){_((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"===typeof this?this:e;return new i((function(e){_((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},l(e,null,[{key:y,get:function(){return this}}]),e}();function C(e){return null!==e&&"object"===typeof e}function x(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw __DEV__?new s.ej("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new s.ej(41);"FragmentDefinition"===e.kind&&r.push(e)})),"undefined"===typeof n&&(__DEV__?(0,s.kG)(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):(0,s.kG)(1===r.length,42),n=r[0].name.value),(0,o.pi)((0,o.pi)({},e),{definitions:(0,o.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function A(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function D(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return __DEV__?(0,s.kG)(n,"No fragment named ".concat(e.name.value,".")):(0,s.kG)(n,43),n;default:return null}}function N(e){return{__ref:String(e)}}function P(e){return Boolean(e&&"object"===typeof e&&"string"===typeof e.__ref)}function R(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return R(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return R(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new s.ej('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new s.ej(52);e[t.value]=null}}h()&&Object.defineProperty(O,Symbol("extensions"),{value:{symbol:m,hostReportError:b},configurable:!0});var M=["connection","include","skip","client","rest","export"],L=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),"".concat(n.connection.key,"(").concat(j(i),")")}return n.connection.key}var o=e;if(t){var s=j(t);o+="(".concat(s,")")}return n&&Object.keys(n).forEach((function(e){-1===M.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(j(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=j;return j=e,t}}),j=function(e){return JSON.stringify(e,F)};function F(e,t){return C(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function U(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return R(n,r,i,t)})),n}return null}function V(e){return e.alias?e.alias.value:e.name.value}function q(e,t,n){if("string"===typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var o=i[r];if(B(o)){if("__typename"===o.name.value)return e[V(o)]}else{var s=q(e,D(o,n).selectionSet,n);if("string"===typeof s)return s}}}function B(e){return"Field"===e.kind}function $(e){return"InlineFragment"===e.kind}function z(e){__DEV__?(0,s.kG)(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,s.kG)(e&&"Document"===e.kind,44);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new s.ej('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new s.ej(45);return e}));return __DEV__?(0,s.kG)(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):(0,s.kG)(t.length<=1,46),e}function G(e){return z(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function Q(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function K(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function W(e){var t=G(e);return __DEV__?(0,s.kG)(t&&"query"===t.operation,"Must contain a query definition."):(0,s.kG)(t&&"query"===t.operation,47),t}function H(e){var t;z(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw __DEV__?new s.ej("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new s.ej(51)}function Y(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&R(t,e.variable.name,e.defaultValue)})),t}function J(e,t){return t?t(e):O.of()}function Z(e){return"function"===typeof e?new te(e):e}function X(e){return e.request.length<=1}var ee=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return(0,o.ZT)(t,e),t}(Error),te=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return O.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(Z).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=Z(n),o=Z(r||new e(J));return X(i)&&X(o)?new e((function(e){return t(e)?i.request(e)||O.of():o.request(e)||O.of()})):new e((function(e,n){return t(e)?i.request(e,n)||O.of():o.request(e,n)||O.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=(0,o.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"===typeof e?(0,o.pi)((0,o.pi)({},n),e(n)):(0,o.pi)((0,o.pi)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,o.pi)({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?Q(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw __DEV__?new s.ej("illegal argument: ".concat(i)):new s.ej(24)}return e}(t))))||O.of()},e.concat=function(t,n){var r=Z(t);if(X(r))return __DEV__&&s.kG.warn(new ee("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Z(n);return X(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||O.of()}))||O.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||O.of()}))||O.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(J)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new s.ej("request is not implemented"):new s.ej(19)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),ne=te.execute;function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}var ie=n(37826),oe=n(25821);class se{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class ae{constructor(e,t,n,r,i,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const ce={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ue=new Set(Object.keys(ce));function le(e){const t=null===e||void 0===e?void 0:e.kind;return"string"===typeof t&&ue.has(t)}let he,fe;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(he||(he={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(fe||(fe={}));const de=Object.freeze({});function pe(e,t,n=ce){const r=new Map;for(const g of Object.values(fe))r.set(g,me(t,g));let i,o,s,a=Array.isArray(e),c=[e],u=-1,l=[],h=e;const f=[],d=[];do{u++;const e=u===c.length,g=e&&0!==l.length;if(e){if(o=0===d.length?void 0:f[f.length-1],h=s,s=d.pop(),g)if(a){h=h.slice();let e=0;for(const[t,n]of l){const r=t-e;null===n?(h.splice(r,1),e++):h[r]=n}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(const[e,t]of l)h[e]=t}u=i.index,c=i.keys,l=i.edits,a=i.inArray,i=i.prev}else if(s){if(o=a?u:c[u],h=s[o],null===h||void 0===h)continue;f.push(o)}let v;if(!Array.isArray(h)){var p,m;le(h)||(0,ie.a)(!1,`Invalid AST Node: ${(0,oe.X)(h)}.`);const n=e?null===(p=r.get(h.kind))||void 0===p?void 0:p.leave:null===(m=r.get(h.kind))||void 0===m?void 0:m.enter;if(v=null===n||void 0===n?void 0:n.call(t,h,o,s,f,d),v===de)break;if(!1===v){if(!e){f.pop();continue}}else if(void 0!==v&&(l.push([o,v]),!e)){if(!le(v)){f.pop();continue}h=v}}var y;if(void 0===v&&g&&l.push([o,h]),e)f.pop();else i={inArray:a,index:u,keys:c,edits:l,prev:i},a=Array.isArray(h),c=a?h:null!==(y=n[h.kind])&&void 0!==y?y:[],u=-1,l=[],s&&d.push(s),s=h}while(void 0!==i);return 0!==l.length?l[l.length-1][1]:e}function me(e,t){const n=e[t];return"object"===typeof n?n:"function"===typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}var ye=function(e,t){var n;try{n=JSON.stringify(e)}catch(i){var r=__DEV__?new s.ej("Network request failed. ".concat(t," is not serializable: ").concat(i.message)):new s.ej(21);throw r.parseError=i,r}return n},ge=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},ve=Object.prototype.hasOwnProperty;function be(e){return 9===e||32===e}function _e(e){return e>=48&&e<=57}function we(e){return e>=97&&e<=122||e>=65&&e<=90}function Ee(e){return we(e)||95===e}function Te(e){return we(e)||_e(e)||95===e}function Se(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<e.length;++s){var o;const t=e[s],a=ke(t);a!==t.length&&(r=null!==(o=r)&&void 0!==o?o:s,i=s,0!==s&&a<n&&(n=a))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,i+1)}function ke(e){let t=0;for(;t<e.length&&be(e.charCodeAt(t));)++t;return t}const Ie=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Oe(e){return Ce[e.charCodeAt(0)]}const Ce=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function xe(e){return pe(e,Ae)}const Ae={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>De(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=Pe("(",De(e.variableDefinitions,", "),")"),n=De([e.operation,De([e.name,t]),De(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+Pe(" = ",n)+Pe(" ",De(r," "))},SelectionSet:{leave:({selections:e})=>Ne(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=Pe("",e,": ")+t;let s=o+Pe("(",De(n,", "),")");return s.length>80&&(s=o+Pe("(\n",Re(De(n,"\n")),"\n)")),De([s,De(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Pe(" ",De(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>De(["...",Pe("on ",e),De(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${Pe("(",De(n,", "),")")} on ${t} ${Pe("",De(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=1===r.length,o=r.length>1&&r.slice(1).every((e=>0===e.length||be(e.charCodeAt(0)))),s=n.endsWith('\\"""'),a=e.endsWith('"')&&!s,c=e.endsWith("\\"),u=a||c,l=!(null!==t&&void 0!==t&&t.minimize)&&(!i||e.length>70||u||o||s);let h="";const f=i&&be(e.charCodeAt(0));return(l&&!f||o)&&(h+="\n"),h+=n,(l||u)&&(h+="\n"),'"""'+h+'"""'}(e):`"${e.replace(Ie,Oe)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+De(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+De(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Pe("(",De(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>Pe("",e,"\n")+De(["schema",De(t," "),Ne(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>Pe("",e,"\n")+De(["scalar",t,De(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>Pe("",e,"\n")+De(["type",t,Pe("implements ",De(n," & ")),De(r," "),Ne(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>Pe("",e,"\n")+t+(Me(n)?Pe("(\n",Re(De(n,"\n")),"\n)"):Pe("(",De(n,", "),")"))+": "+r+Pe(" ",De(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>Pe("",e,"\n")+De([t+": "+n,Pe("= ",r),De(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>Pe("",e,"\n")+De(["interface",t,Pe("implements ",De(n," & ")),De(r," "),Ne(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>Pe("",e,"\n")+De(["union",t,De(n," "),Pe("= ",De(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>Pe("",e,"\n")+De(["enum",t,De(n," "),Ne(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>Pe("",e,"\n")+De([t,De(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>Pe("",e,"\n")+De(["input",t,De(n," "),Ne(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>Pe("",e,"\n")+"directive @"+t+(Me(n)?Pe("(\n",Re(De(n,"\n")),"\n)"):Pe("(",De(n,", "),")"))+(r?" repeatable":"")+" on "+De(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>De(["extend schema",De(e," "),Ne(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>De(["extend scalar",e,De(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>De(["extend type",e,Pe("implements ",De(t," & ")),De(n," "),Ne(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>De(["extend interface",e,Pe("implements ",De(t," & ")),De(n," "),Ne(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>De(["extend union",e,De(t," "),Pe("= ",De(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>De(["extend enum",e,De(t," "),Ne(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>De(["extend input",e,De(t," "),Ne(n)]," ")}};function De(e,t=""){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function Ne(e){return Pe("{\n",Re(De(e,"\n")),"\n}")}function Pe(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function Re(e){return Pe("  ",e.replace(/\n/g,"\n  "))}function Me(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var Le={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},je=function(e,t){return t(e)};function Fe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},s={};n.forEach((function(e){i=(0,o.pi)((0,o.pi)((0,o.pi)({},i),e.options),{headers:(0,o.pi)((0,o.pi)({},i.headers),Ue(e.headers))}),e.credentials&&(i.credentials=e.credentials),s=(0,o.pi)((0,o.pi)({},s),e.http)}));var a=e.operationName,c=e.extensions,u=e.variables,l=e.query,h={operationName:a,variables:u};return s.includeExtensions&&(h.extensions=c),s.includeQuery&&(h.query=t(l,xe)),{options:i,body:h}}function Ue(e){if(e){var t=Object.create(null);return Object.keys(Object(e)).forEach((function(n){t[n.toLowerCase()]=e[n]})),t}return e}function Ve(e){return new O((function(t){t.error(e)}))}var qe=(0,s.wY)((function(){return fetch})),Be=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.print,a=void 0===i?je:i,c=e.includeExtensions,u=e.useGETForQueries,l=e.includeUnusedVariables,h=void 0!==l&&l,f=(0,o._T)(e,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"===typeof fetch)throw __DEV__?new s.ej("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new s.ej(20)}(r||qe);var d={http:{includeExtensions:c},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new te((function(e){var t=function(e,t){return e.getContext().uri||("function"===typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),c={};if(i.clientAwareness){var l=i.clientAwareness,f=l.name,p=l.version;f&&(c["apollographql-client-name"]=f),p&&(c["apollographql-client-version"]=p)}var m,y=(0,o.pi)((0,o.pi)({},c),i.headers),g={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:y},v=Fe(e,a,Le,d,g),b=v.options,_=v.body;if(_.variables&&!h){var w=new Set(Object.keys(_.variables));pe(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&w.delete(e.name.value)}}),w.size&&(_.variables=(0,o.pi)({},_.variables),w.forEach((function(e){delete _.variables[e]})))}if(!b.signal){var E=function(){if("undefined"===typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),T=E.controller,S=E.signal;(m=T)&&(b.signal=S)}if(u&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(b.method="GET"),"GET"===b.method){var k=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=ye(t.variables,"Variables map")}catch(C){return{parseError:C}}r("variables",i)}if(t.extensions){var o=void 0;try{o=ye(t.extensions,"Extensions map")}catch(C){return{parseError:C}}r("extensions",o)}var s="",a=e,c=e.indexOf("#");-1!==c&&(s=e.substr(c),a=e.substr(0,c));var u=-1===a.indexOf("?")?"?":"&";return{newURI:a+u+n.join("&")+s}}(t,_),I=k.newURI,C=k.parseError;if(C)return Ve(C);t=I}else try{b.body=ye(_,"Payload")}catch(C){return Ve(C)}return new O((function(n){var i;return(r||(0,s.wY)((function(){return fetch}))||qe)(t,b).then((function(t){return e.setContext({response:t}),t})).then((i=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&ge(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||ve.call(t,"data")||ve.call(t,"errors")||ge(e,t,"Server response was missing for query '".concat(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName,"'.")),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){m&&m.abort()}}))}))},$e=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,Be(t).request)||this;return n.options=t,n}return(0,o.ZT)(t,e),t}(te),ze=Object.prototype,Ge=ze.toString,Qe=ze.hasOwnProperty,Ke=Function.prototype.toString,We=new Map;function He(e,t){try{return Ye(e,t)}finally{We.clear()}}function Ye(e,t){if(e===t)return!0;var n=Ge.call(e);if(n!==Ge.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(et(e,t))return!0;var r=Je(e),i=Je(t),o=r.length;if(o!==i.length)return!1;for(var s=0;s<o;++s)if(!Qe.call(t,r[s]))return!1;for(s=0;s<o;++s){var a=r[s];if(!Ye(e[a],t[a]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e===+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(et(e,t))return!0;for(var c=e.entries(),u="[object Map]"===n;;){var l=c.next();if(l.done)break;var h=l.value,f=h[0],d=h[1];if(!t.has(f))return!1;if(u&&!Ye(d,t.get(f)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var p=e.byteLength;if(p===t.byteLength)for(;p--&&e[p]===t[p];);return-1===p;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var m=Ke.call(e);return m===Ke.call(t)&&!function(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(m,Xe)}return!1}function Je(e){return Object.keys(e).filter(Ze,e)}function Ze(e){return void 0!==this[e]}var Xe="{ [native code] }";function et(e,t){var n=We.get(e);if(n){if(n.has(t))return!0}else We.set(e,n=new Set);return n.add(t),!1}var tt=function(){return Object.create(null)},nt=Array.prototype,rt=nt.forEach,it=nt.slice,ot=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=tt),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return rt.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(it.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}();var st=n(30320);function at(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?(0,s.kG)(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):(0,s.kG)(n&&1===n.length,38);var i=n[0];__DEV__?(0,s.kG)(i.name&&"if"===i.name.value,"Invalid argument for the @".concat(r," directive.")):(0,s.kG)(i.name&&"if"===i.name.value,39);var o=i.value;__DEV__?(0,s.kG)(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):(0,s.kG)(o&&("Variable"===o.kind||"BooleanValue"===o.kind),40),t.push({directive:e,ifArgument:i})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t&&t[r.value.name.value],__DEV__?(0,s.kG)(void 0!==i,"Invalid variable referenced in @".concat(n.name.value," directive.")):(0,s.kG)(void 0!==i,37)):i=r.value.value,"skip"===n.name.value?!i:i}))}function ct(e,t){return function(e){var t=[];return pe(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function ut(e){return e&&ct(["client"],e)&&ct(["export"],e)}var lt=Object.prototype.hasOwnProperty;function ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ft(e)}function ft(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new pt,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var dt=function(e,t,n){return this.merge(e[n],t[n])},pt=function(){function e(e){void 0===e&&(e=dt),this.reconciler=e,this.isObject=C,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return C(t)&&C(e)?(Object.keys(t).forEach((function(i){if(lt.call(e,i)){var s=e[i];if(t[i]!==s){var a=n.reconciler.apply(n,(0,o.ev)([e,t,i],r,!1));a!==s&&((e=n.shallowCopyForMerge(e))[i]=a)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){if(C(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}e=Array.isArray(e)?e.slice(0):(0,o.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},e}(),mt=Object.prototype.hasOwnProperty;function yt(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"===typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return"".concat(n,":").concat("number"===typeof r||"string"===typeof r?r:JSON.stringify(r))}var gt={dataIdFromObject:yt,addTypename:!0,resultCaching:!0,canonizeResults:!1};function vt(e){var t=e.canonizeResults;return void 0===t?gt.canonizeResults:t}var bt=/^[_a-z][_0-9a-z]*/i;function _t(e){var t=e.match(bt);return t?t[0]:e}function wt(e,t,n){return!!C(t)&&(Tt(t)?t.every((function(t){return wt(e,t,n)})):e.selections.every((function(e){if(B(e)&&at(e,n)){var r=V(e);return mt.call(t,r)&&(!e.selectionSet||wt(e.selectionSet,t[r],n))}return!0})))}function Et(e){return C(e)&&!P(e)&&!Tt(e)}var Tt=function(e){return Array.isArray(e)};var St,kt,It=function(){function e(){this.known=new(st.sy?WeakSet:Set),this.pool=new ot(st.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return C(e)&&this.known.has(e)},e.prototype.pass=function(e){if(C(e)){var t=function(e){return C(e)?Tt(e)?e.slice(0):(0,o.pi)({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(C(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(a=this.pool.lookupArray(r)).array||(this.known.add(a.array=r),__DEV__&&Object.freeze(r)),a.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],s=this.sortedKeys(e);o.push(s.json);var a,c=o.length;if(s.sorted.forEach((function(n){o.push(t.admit(e[n]))})),!(a=this.pool.lookupArray(o)).object){var u=a.object=Object.create(i);this.known.add(u),s.sorted.forEach((function(e,t){u[e]=o[c+t]})),__DEV__&&Object.freeze(u)}return a.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),Ot=Object.assign((function(e){if(C(e)){void 0===St&&Ct();var t=St.admit(e),n=kt.get(t);return void 0===n&&kt.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:Ct});function Ct(){St=new It,kt=new(st.mr?WeakMap:Map)}function xt(e,t,n){return new O((function(r){var i=r.next,o=r.error,s=r.complete,a=0,c=!1,u={then:function(e){return new Promise((function(t){return t(e())}))}};function l(e,t){return e?function(t){++a;var n=function(){return e(t)};u=u.then(n,n).then((function(e){--a,i&&i.call(r,e),c&&h.complete()}),(function(e){throw--a,e})).catch((function(e){o&&o.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var h={next:l(t,i),error:l(n,o),complete:function(){c=!0,a||s&&s.call(r)}},f=e.subscribe(h);return function(){return f.unsubscribe()}}))}function At(e){return e.errors&&e.errors.length>0||!1}function Dt(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var Nt={kind:"Field",name:{kind:"Name",value:"__typename"}};function Pt(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&Pt(t[e.name.value],t)}))}function Rt(e){return Pt(G(e)||function(e){__DEV__?(0,s.kG)("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,s.kG)("Document"===e.kind,48),__DEV__?(0,s.kG)(e.definitions.length<=1,"Fragment must have exactly one definition."):(0,s.kG)(e.definitions.length<=1,49);var t=e.definitions[0];return __DEV__?(0,s.kG)("FragmentDefinition"===t.kind,"Must be a fragment definition."):(0,s.kG)("FragmentDefinition"===t.kind,50),t}(e),A(K(e)))?null:e}function Mt(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function Lt(e,t){var n=Object.create(null),r=[],i=Object.create(null),s=[],a=Rt(pe(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(Mt(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&Ut(t.selectionSet).forEach((function(e){s.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(Mt(e)(t))return null}}}));return a&&Dt(r,(function(e){return!!e.name&&!n[e.name]})).length&&(a=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return Rt(pe(t,{OperationDefinition:{enter:function(t){return(0,o.pi)((0,o.pi)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&Dt(s,(function(e){return!!e.name&&!i[e.name]})).length&&(a=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return Rt(pe(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(s,a)),a}var jt=Object.assign((function(e){return pe(z(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return B(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(B(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return(0,o.pi)((0,o.pi)({},e),{selections:(0,o.ev)((0,o.ev)([],r,!0),[Nt],!1)})}}}}})}),{added:function(e){return e===Nt}}),Ft={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&s.kG.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function Ut(e){var t=[];return e.selections.forEach((function(e){(B(e)||$(e))&&e.selectionSet?Ut(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function Vt(e){return"query"===H(e).operation?e:pe(e,{OperationDefinition:{enter:function(e){return(0,o.pi)((0,o.pi)({},e),{operation:"query"})}}})}var qt=new Map;function Bt(e){var t=qt.get(e)||1;return qt.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function $t(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function zt(e){function t(t){Object.defineProperty(e,t,{value:O})}return st.aS&&Symbol.species&&t(Symbol.species),t("@@species"),e}function Gt(e){return e&&"function"===typeof e.then}var Qt=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],$t(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),$t(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?Gt(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),$t(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"===typeof t&&(t=[new O(t)]),Gt(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return(0,o.ZT)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(i),e())},i={next:r,error:r,complete:r},o=this.addCount;this.addObserver(i),this.addCount=o},t}(O);function Kt(e){return Array.isArray(e)&&e.length>0}zt(Qt);var Wt,Ht=function(e){function t(n){var r=n.graphQLErrors,i=n.clientErrors,o=n.networkError,s=n.errorMessage,a=n.extraInfo,c=e.call(this,s)||this;return c.graphQLErrors=r||[],c.clientErrors=i||[],c.networkError=o||null,c.message=s||function(e){var t="";return(Kt(e.graphQLErrors)||Kt(e.clientErrors))&&(e.graphQLErrors||[]).concat(e.clientErrors||[]).forEach((function(e){var n=e?e.message:"Error message not found.";t+="".concat(n,"\n")})),e.networkError&&(t+="".concat(e.networkError.message,"\n")),t=t.replace(/\n$/,"")}(c),c.extraInfo=a,c.__proto__=t.prototype,c}return(0,o.ZT)(t,e),t}(Error);function Yt(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Wt||(Wt={}));var Jt=Object.prototype.toString;function Zt(e){return Xt(e)}function Xt(e,t){switch(Jt.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=Xt(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=Xt(e[n],t)})),r;default:return e}}var en=Object.assign,tn=Object.hasOwnProperty,nn=!1,rn=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,i=t.options,o=e.call(this,(function(e){try{var n=e._subscription._observer;n&&!n.error&&(n.error=on)}catch(t){}var r=!o.observers.size;o.observers.add(e);var i=o.last;return i&&i.error?e.error&&e.error(i.error):i&&i.result&&e.next&&e.next(i.result),r&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.isTornDown=!1,o.options=i,o.queryId=r.queryId||n.generateQueryId();var s=G(i.query);return o.queryName=s&&s.name&&s.name.value,o.initialFetchPolicy=i.fetchPolicy||"cache-first",o.queryManager=n,o.queryInfo=r,o}return(0,o.ZT)(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||Wt.ready,r=(0,o.pi)((0,o.pi)({},t),{loading:Yt(n),networkStatus:n}),i=this.options.fetchPolicy,s=void 0===i?"cache-first":i;if("network-only"===s||"no-cache"===s||"standby"===s||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(r.data=a.result),He(r.data,{})&&(r.data=void 0),a.complete?(delete r.partial,!a.complete||r.networkStatus!==Wt.loading||"cache-first"!==s&&"cache-only"!==s||(r.networkStatus=Wt.ready,r.loading=!1)):r.partial=!0,!__DEV__||a.complete||this.options.partialRefetch||r.loading||r.data||r.error||sn(a.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!this.last||!He(this.last.result,e)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||He(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&tn.call(e,"variables")){var i=W(this.options.query),a=i.variableDefinitions;a&&a.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&s.kG.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=i.name)||void 0===t?void 0:t.value)||JSON.stringify(i),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!He(this.options.variables,e)&&(n.variables=this.options.variables=(0,o.pi)((0,o.pi)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,Wt.refetch)},t.prototype.fetchMore=function(e){var t=this,n=(0,o.pi)((0,o.pi)({},e.query?e:(0,o.pi)((0,o.pi)((0,o.pi)({},this.options),e),{variables:(0,o.pi)((0,o.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=Wt.fetchMore,this.observe()),this.queryManager.fetchQuery(r,n,Wt.fetchMore).then((function(r){var i=r.data,o=e.updateQuery;return o?(__DEV__&&!nn&&(__DEV__&&s.kG.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),nn=!0),t.updateQuery((function(e){return o(e,{fetchMoreResult:i,variables:n.variables})}))):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:i}),r})).finally((function(){t.queryManager.stopQuery(r),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):__DEV__&&s.kG.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return He(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:e},Wt.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?(0,s.kG)(n,"Attempted to start a polling query without a polling interval."):(0,s.kG)(n,10),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(Yt(e.queryInfo.networkStatus)?i():e.reobserve({fetchPolicy:"network-only"},Wt.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=(0,o.pi)((0,o.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?e:Zt(e),variables:t}),Kt(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var n=this;this.isTornDown=!1;var r=t===Wt.refetch||t===Wt.fetchMore||t===Wt.poll,i=this.options.variables,s=r?re(this.options,e):en(this.options,re(e));r||(this.updatePolling(),e&&e.variables&&!e.fetchPolicy&&!He(e.variables,i)&&(s.fetchPolicy=this.initialFetchPolicy,void 0===t&&(t=Wt.setVariables)));var a=s.variables&&(0,o.pi)({},s.variables),c=this.fetch(s,t),u={next:function(e){n.reportResult(e,a)},error:function(e){n.reportError(e,a)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=c,this.observer=u),c.addObserver(u),c.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this.getLastError();(n||this.isDifferentFromLastResult(e))&&((n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),$t(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=(0,o.pi)((0,o.pi)({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Wt.error,loading:!1});this.updateLastResult(n,t),$t(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(O);function on(e){__DEV__&&s.kG.error("Unhandled error",e.message,e.stack)}function sn(e){__DEV__&&e&&__DEV__&&s.kG.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}zt(rn);var an=null,cn={},un=1,ln="@wry/context:Slot",hn=Array,fn=hn[ln]||function(){var e=function(){function e(){this.id=["slot",un++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=an;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===cn)break;return e!==an&&(an.slots[this.id]=t),!0}return an&&(an.slots[this.id]=cn),!1},e.prototype.getValue=function(){if(this.hasValue())return an.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),s=an;an={parent:s,slots:o};try{return t.apply(r,n)}finally{an=s}},e.bind=function(e){var t=an;return function(){var n=an;try{return an=t,e.apply(this,arguments)}finally{an=n}}},e.noContext=function(e,t,n){if(!an)return e.apply(n,t);var r=an;try{return an=null,e.apply(n,t)}finally{an=r}},e}();try{Object.defineProperty(hn,ln,{value:hn[ln]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();fn.bind,fn.noContext;function dn(){}var pn,mn=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=dn),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),yn=new fn,gn=Object.prototype.hasOwnProperty,vn=void 0===(pn=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:pn;function bn(e){var t=e.unsubscribe;"function"===typeof t&&(e.unsubscribe=void 0,t())}var _n=[];function wn(e,t){if(!e)throw new Error(t||"assertion failure")}function En(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var Tn=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!In(this))return Sn(this),this.value[0]},e.prototype.recompute=function(e){return wn(!this.recomputing,"already recomputing"),Sn(this),In(this)?function(e,t){Pn(e),yn.withValue(e,kn,[e,t]),function(e,t){if("function"===typeof e.subscribe)try{bn(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(n){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,In(e))return;Cn(e)}(e);return En(e.value)}(this,e):En(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,On(this),bn(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),Pn(this),xn(this,(function(t,n){t.setDirty(),Rn(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=_n.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(vn(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),_n.push(this.deps),this.deps=null)},e.count=0,e}();function Sn(e){var t=yn.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),In(e)?An(t,e):Dn(t,e),t}function kn(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(n){e.value[1]=n}e.recomputing=!1}function In(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function On(e){xn(e,An)}function Cn(e){xn(e,Dn)}function xn(e,t){var n=e.parents.size;if(n)for(var r=vn(e.parents),i=0;i<n;++i)t(r[i],e)}function An(e,t){wn(e.childValues.has(t)),wn(In(t));var n=!In(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=_n.pop()||new Set;e.dirtyChildren.add(t),n&&On(e)}function Dn(e,t){wn(e.childValues.has(t)),wn(!In(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),Nn(e,t),In(e)||Cn(e)}function Nn(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(_n.length<100&&_n.push(n),e.dirtyChildren=null))}function Pn(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){Rn(e,n)})),e.forgetDeps(),wn(null===e.dirtyChildren)}function Rn(e,t){t.parents.delete(e),e.childValues.delete(t),Nn(e,t)}var Mn={setDirty:!0,dispose:!0,forget:!0};function Ln(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=yn.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"===typeof n&&(bn(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var i=n&&gn.call(Mn,n)?n:"setDirty";vn(r).forEach((function(e){return e[i]()})),t.delete(e),bn(r)}},r}function jn(){var e=new ot("function"===typeof WeakMap);return function(){return e.lookupArray(arguments)}}jn();var Fn=new Set;function Un(e,t){void 0===t&&(t=Object.create(null));var n=new mn(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,i=t.makeCacheKey||jn(),o=function(){var o=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var s=n.get(o);s||(n.set(o,s=new Tn(e)),s.subscribe=t.subscribe,s.forget=function(){return n.delete(o)});var a=s.recompute(Array.prototype.slice.call(arguments));return n.set(o,s),Fn.add(n),yn.hasValue()||(Fn.forEach((function(e){return e.clean()})),Fn.clear()),a};function s(e){var t=n.get(e);t&&t.setDirty()}function a(e){var t=n.get(e);if(t)return t.peek()}function c(e){return n.delete(e)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=s,o.dirty=function(){s(i.apply(null,arguments))},o.peekKey=a,o.peek=function(){return a(i.apply(null,arguments))},o.forgetKey=c,o.forget=function(){return c(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}var Vn=new fn,qn=new WeakMap;function Bn(e){var t=qn.get(e);return t||qn.set(e,t={vars:new Set,dep:Ln()}),t}function $n(e){Bn(e).vars.forEach((function(t){return t.forgetCache(e)}))}function zn(e){var t=new Set,n=new Set,r=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){Bn(e).dep.dirty(r),Gn(e)}));var s=Array.from(n);n.clear(),s.forEach((function(t){return t(e)}))}}else{var a=Vn.getValue();a&&(i(a),Bn(a).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),Bn(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function Gn(e){e.broadcastWatches&&e.broadcastWatches()}var Qn=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=ht(t.resolvers,e)})):this.resolvers=ht(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,s=e.onlyRunForcedResolvers,a=void 0!==s&&s;return(0,o.mG)(this,void 0,void 0,(function(){return(0,o.Jh)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,a).then((function(e){return(0,o.pi)((0,o.pi)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return ct(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){z(e);var t=Lt([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=pe(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return B(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,o.pi)((0,o.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,o.mG)(this,void 0,void 0,(function(){return(0,o.Jh)(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return(0,o.pi)((0,o.pi)({},t),e.exportedVariables)}))]:[2,(0,o.pi)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return pe(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return de}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Vt(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,s){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===s&&(s=!1),(0,o.mG)(this,void 0,void 0,(function(){var a,c,u,l,h,f,d,p,m;return(0,o.Jh)(this,(function(y){return a=H(e),c=K(e),u=A(c),l=a.operation,h=l?l.charAt(0).toUpperCase()+l.slice(1):"Query",d=(f=this).cache,p=f.client,m={fragmentMap:u,context:(0,o.pi)((0,o.pi)({},n),{cache:d,client:p}),variables:r,fragmentMatcher:i,defaultOperationType:h,exportedVariables:{},onlyRunForcedResolvers:s},[2,this.resolveSelectionSet(a.selectionSet,t,m).then((function(e){return{result:e,exportedVariables:m.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return(0,o.mG)(this,void 0,void 0,(function(){var r,i,a,c,u,l=this;return(0,o.Jh)(this,(function(h){return r=n.fragmentMap,i=n.context,a=n.variables,c=[t],u=function(e){return(0,o.mG)(l,void 0,void 0,(function(){var u,l;return(0,o.Jh)(this,(function(o){return at(e,a)?B(e)?[2,this.resolveField(e,t,n).then((function(t){var n;"undefined"!==typeof t&&c.push(((n={})[V(e)]=t,n))}))]:($(e)?u=e:(u=r[e.name.value],__DEV__?(0,s.kG)(u,"No fragment named ".concat(e.name.value)):(0,s.kG)(u,9)),u&&u.typeCondition&&(l=u.typeCondition.name.value,n.fragmentMatcher(t,l,i))?[2,this.resolveSelectionSet(u.selectionSet,t,n).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(u)).then((function(){return ft(c)}))]}))}))},e.prototype.resolveField=function(e,t,n){return(0,o.mG)(this,void 0,void 0,(function(){var r,i,s,a,c,u,l,h,f,d=this;return(0,o.Jh)(this,(function(o){return r=n.variables,i=e.name.value,s=V(e),a=i!==s,c=t[s]||t[i],u=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(l=t.__typename||n.defaultOperationType,(h=this.resolvers&&this.resolvers[l])&&(f=h[a?i:s])&&(u=Promise.resolve(Vn.withValue(this.cache,f,[t,U(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?d.resolveSubSelectedArray(e,t,n):e.selectionSet?d.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),Kn=new(st.mr?WeakMap:Map);function Wn(e,t){var n=e[t];"function"===typeof n&&(e[t]=function(){return Kn.set(e,(Kn.get(e)+1)%1e15),n.apply(this,arguments)})}function Hn(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Yn=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;Kn.has(n)||(Kn.set(n,0),Wn(n,"evict"),Wn(n,"modify"),Wn(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||Wt.loading;return this.variables&&this.networkStatus!==Wt.loading&&!He(this.variables,e.variables)&&(t=Wt.setVariables),He(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){Hn(this),this.lastDiff=void 0,this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&He(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||He(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;Hn(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Yt(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=(0,o.pi)((0,o.pi)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&He(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===Kn.get(this.cache)&&He(t,n.variables)&&He(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=Kt(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==n&&(Jn(e,t.errorPolicy)?this.cache.performTransaction((function(i){if(r.shouldWrite(e,t.variables))i.writeQuery({query:r.document,data:e.data,variables:t.variables,overwrite:1===n}),r.lastWrite={result:e,variables:t.variables,dmCount:Kn.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete)return void(e.data=r.lastDiff.diff.result);var o=r.getDiffOptions(t.variables),s=i.diff(o);r.stopped||r.updateWatch(t.variables),r.updateLastDiff(s,o),s.complete&&(e.data=s.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Wt.ready},e.prototype.markError=function(e){return this.networkStatus=Wt.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function Jn(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!At(e);return!r&&n&&e.data&&(r=!0),r}var Zn=Object.prototype.hasOwnProperty,Xn=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,i=void 0!==r&&r,o=e.onBroadcast,s=e.ssrMode,a=void 0!==s&&s,c=e.clientAwareness,u=void 0===c?{}:c,l=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(st.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=i,this.clientAwareness=u,this.localState=l||new Qn({cache:t}),this.ssrMode=a,this.assumeImmutableResults=!!h,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new s.ej("QueryManager stopped while query was in flight"):new s.ej(11))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,i=e.updateQueries,a=e.refetchQueries,c=void 0===a?[]:a,u=e.awaitRefetchQueries,l=void 0!==u&&u,h=e.update,f=e.onQueryUpdated,d=e.errorPolicy,p=void 0===d?"none":d,m=e.fetchPolicy,y=void 0===m?"network-only":m,g=e.keepRootFields,v=e.context;return(0,o.mG)(this,void 0,void 0,(function(){var e,a,u;return(0,o.Jh)(this,(function(d){switch(d.label){case 0:return __DEV__?(0,s.kG)(t,"mutation option is required. You must specify your GraphQL document in the mutation option."):(0,s.kG)(t,12),__DEV__?(0,s.kG)("network-only"===y||"no-cache"===y,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):(0,s.kG)("network-only"===y||"no-cache"===y,13),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,v)]:[3,2];case 1:n=d.sent(),d.label=2;case 2:return a=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:n,fetchPolicy:y,errorPolicy:p,context:v,updateQueries:i,update:h,keepRootFields:g}),this.broadcastQueries(),u=this,[2,new Promise((function(s,d){return xt(u.getObservableFromLink(t,(0,o.pi)((0,o.pi)({},v),{optimisticResponse:r}),n,!1),(function(s){if(At(s)&&"none"===p)throw new Ht({graphQLErrors:s.errors});a&&(a.loading=!1,a.error=null);var d=(0,o.pi)({},s);return"function"===typeof c&&(c=c(d)),"ignore"===p&&At(d)&&delete d.errors,u.markMutationResult({mutationId:e,result:d,document:t,variables:n,fetchPolicy:y,errorPolicy:p,context:v,update:h,updateQueries:i,awaitRefetchQueries:l,refetchQueries:c,removeOptimistic:r?e:void 0,onQueryUpdated:f,keepRootFields:g})})).subscribe({next:function(e){u.broadcastQueries(),s(e)},error:function(t){a&&(a.loading=!1,a.error=t),r&&u.cache.removeOptimistic(e),u.broadcastQueries(),d(t instanceof Ht?t:new Ht({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,i=[],s="no-cache"===e.fetchPolicy;if(!s&&Jn(r,e.errorPolicy)){i.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var a=e.updateQueries;a&&this.queries.forEach((function(e,o){var s=e.observableQuery,c=s&&s.queryName;if(c&&Zn.call(a,c)){var u=a[c],l=n.queries.get(o),h=l.document,f=l.variables,d=t.diff({query:h,variables:f,returnPartialData:!0,optimistic:!1}),p=d.result;if(d.complete&&p){var m=u(p,{mutationResult:r,queryName:h&&Q(h)||void 0,queryVariables:f});m&&i.push({result:m,dataId:"ROOT_QUERY",query:h,variables:f})}}}))}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(t){s||i.forEach((function(e){return t.write(e)}));var a=e.update;if(a){if(!s){var c=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});c.complete&&(r=(0,o.pi)((0,o.pi)({},r),{data:c.result}))}a(t,r,{context:e.context,variables:e.variables})}s||e.keepRootFields||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return c.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"===typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult((0,o.pi)((0,o.pi)({},t),{result:{data:r}}),e)}catch(i){__DEV__&&s.kG.error(i)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=(t=this.cache.transformForLink(r),Lt([Ft],z(t))),s=this.localState.clientQuery(r),a=i&&this.localState.serverQuery(i),c={document:r,hasClientExports:ut(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:s,serverQuery:a,defaultVars:Y(G(r)),asQuery:(0,o.pi)((0,o.pi)({},r),{definitions:r.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,o.pi)((0,o.pi)({},e),{operation:"query"}):e}))})},u=function(e){e&&!n.has(e)&&n.set(e,c)};u(e),u(r),u(s),u(a)}return n.get(e)},e.prototype.getVariables=function(e,t){return(0,o.pi)((0,o.pi)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){"undefined"===typeof(e=(0,o.pi)((0,o.pi)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new Yn(this),n=new rn({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?(0,s.kG)(e.query,"query option is required. You must specify your GraphQL document in the query option."):(0,s.kG)(e.query,14),__DEV__?(0,s.kG)("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):(0,s.kG)("Document"===e.query.kind,15),__DEV__?(0,s.kG)(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):(0,s.kG)(!e.returnPartialData,16),__DEV__?(0,s.kG)(!e.pollInterval,"pollInterval option only supported on watchQuery."):(0,s.kG)(!e.pollInterval,17),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new s.ej("Store reset while query was in flight (not completed in link chain)"):new s.ej(18)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Wt.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"===typeof e?r.set(e,!1):C(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):C(e)&&e.query&&i.add(e)})),this.queries.forEach((function(t,i){var o=t.observableQuery,s=t.document;if(o){if("all"===e)return void n.set(i,o);var a=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||a&&r.has(a)||s&&r.has(s))&&(n.set(i,o),a&&r.set(a,!0),s&&r.set(s,!0))}})),i.size&&i.forEach((function(e){var r=Bt("legacyOneTimeQuery"),i=t.getQuery(r).init({document:e.query,variables:e.variables}),a=new rn({queryManager:t,queryInfo:i,options:(0,o.pi)((0,o.pi)({},e),{fetchPolicy:"network-only"})});(0,s.kG)(a.queryId===r),i.setObservableQuery(a),n.set(r,a)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&s.kG.warn("Unknown query ".concat("string"===typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,i){var o=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&n.push(r.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,o=e.variables,s=e.context,a=void 0===s?{}:s;n=this.transform(n).document,o=this.getVariables(n,o);var c=function(e){return t.getObservableFromLink(n,a,e).map((function(o){if("no-cache"!==r&&(Jn(o,i)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),At(o))throw new Ht({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var u=this.localState.addExportedVariables(n,o,a).then(c);return new O((function(e){var t=null;return u.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return c(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,s,a=this;void 0===r&&(r=null!==(i=null===t||void 0===t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var c=this.transform(e).serverQuery;if(c){var u=this.inFlightLinkObservables,l=this.link,h={query:c,variables:n,operationName:Q(c)||void 0,context:this.prepareContext((0,o.pi)((0,o.pi)({},t),{forceFetch:!r}))};if(t=h.context,r){var f=u.get(c)||new Map;u.set(c,f);var d=Ot(n);if(!(s=f.get(d))){var p=new Qt([ne(l,h)]);f.set(d,s=p),p.cleanup((function(){f.delete(d)&&f.size<1&&u.delete(c)}))}}else s=new Qt([ne(l,h)])}else s=new Qt([O.of({data:{}})]),t=this.prepareContext(t);var m=this.transform(e).clientQuery;return m&&(s=xt(s,(function(e){return a.localState.runResolvers({document:m,remoteResult:e,context:t,variables:n})}))),s},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return xt(this.getObservableFromLink(e.document,n.context,n.variables),(function(i){var o=Kt(i.errors);if(r>=e.lastRequestId){if(o&&"none"===n.errorPolicy)throw e.markError(new Ht({graphQLErrors:i.errors}));e.markResult(i,n,t),e.markReady()}var s={data:i.data,loading:!1,networkStatus:e.networkStatus||Wt.ready};return o&&"ignore"!==n.errorPolicy&&(s.errors=i.errors),s}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new Ht({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=Wt.loading);var i=this.transform(t.query).document,o=this.getVariables(i,t.variables),s=this.getQuery(e),a=t.fetchPolicy,c=void 0===a?"cache-first":a,u=t.errorPolicy,l=void 0===u?"none":u,h=t.returnPartialData,f=void 0!==h&&h,d=t.notifyOnNetworkStatusChange,p=void 0!==d&&d,m=t.context,y=void 0===m?{}:m,g=Object.assign({},t,{query:i,variables:o,fetchPolicy:c,errorPolicy:l,returnPartialData:f,notifyOnNetworkStatusChange:p,context:y}),v=function(e){return g.variables=e,r.fetchQueryByPolicy(s,g,n)};this.fetchCancelFns.set(e,(function(e){setTimeout((function(){return b.cancel(e)}))}));var b=new Qt(this.transform(g.query).hasClientExports?this.localState.addExportedVariables(g.query,g.variables,g.context).then(v):v(g.variables));return b.cleanup((function(){r.fetchCancelFns.delete(e),function(e){var t=e.fetchPolicy,n=void 0===t?"cache-first":t,r=e.nextFetchPolicy;r&&(e.fetchPolicy="function"===typeof r?r.call(e,n):r)}(t)})),b},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,i=e.optimistic,o=void 0!==i&&i,s=e.removeOptimistic,a=void 0===s?o?Bt("refetchQueries"):void 0:s,c=e.onQueryUpdated,u=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){u.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var l=new Map;return n&&this.cache.batch({update:n,optimistic:o&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof Yn&&e.watcher.observableQuery;if(r){if(c){u.delete(r.queryId);var i=c(r,t,n);return!0===i&&(i=r.refetch()),!1!==i&&l.set(r,i),i}null!==c&&u.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),u.size&&u.forEach((function(e,n){var r,i=e.oq,o=e.lastDiff,s=e.diff;if(c){if(!s){var a=i.queryInfo;a.reset(),s=a.getDiff()}r=c(i,s,o)}c&&!0!==r||(r=i.refetch()),!1!==r&&l.set(i,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),a&&this.cache.removeOptimistic(a),l},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,i=t.query,s=t.variables,a=t.fetchPolicy,c=t.refetchWritePolicy,u=t.errorPolicy,l=t.returnPartialData,h=t.context,f=t.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:i,variables:s,networkStatus:n});var p=function(){return e.getDiff(s)},m=function(t,n){void 0===n&&(n=e.networkStatus||Wt.loading);var a=t.result;!__DEV__||l||He(a,{})||sn(t.missing);var c=function(e){return O.of((0,o.pi)({data:e,loading:Yt(n),networkStatus:n},t.complete?null:{partial:!0}))};return a&&r.transform(i).hasForcedResolvers?r.localState.runResolvers({document:i,remoteResult:{data:a},context:h,variables:s,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data||void 0)})):c(a)},y="no-cache"===a?0:n===Wt.refetch&&"merge"!==c?1:2,g=function(){return r.getResultsFromLink(e,y,{variables:s,context:h,fetchPolicy:a,errorPolicy:u})},v=f&&"number"===typeof d&&d!==n&&Yt(n);switch(a){default:case"cache-first":return(b=p()).complete?[m(b,e.markReady())]:l||v?[m(b),g()]:[g()];case"cache-and-network":var b;return(b=p()).complete||l||v?[m(b),g()]:[g()];case"cache-only":return[m(p(),e.markReady())];case"network-only":return v?[m(p()),g()]:[g()];case"no-cache":return v?[m(e.getDiff()),g()]:[g()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Yn(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,o.pi)((0,o.pi)({},t),{clientAwareness:this.clientAwareness})},e}(),er=!1;function tr(e,t){return re(e,t,t.variables&&{variables:(0,o.pi)((0,o.pi)({},e.variables),t.variables)})}var nr=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,o=e.cache,a=e.ssrMode,c=void 0!==a&&a,u=e.ssrForceFetchDelay,l=void 0===u?0:u,h=e.connectToDevTools,f=void 0===h?"object"===typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:h,d=e.queryDeduplication,p=void 0===d||d,m=e.defaultOptions,y=e.assumeImmutableResults,g=void 0!==y&&y,v=e.resolvers,b=e.typeDefs,_=e.fragmentMatcher,w=e.name,E=e.version,T=e.link;if(T||(T=n?new $e({uri:n,credentials:r,headers:i}):te.empty()),!o)throw __DEV__?new s.ej("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new s.ej(7);if(this.link=T,this.cache=o,this.disableNetworkFetches=c||l>0,this.queryDeduplication=p,this.defaultOptions=m||{},this.typeDefs=b,l&&setTimeout((function(){return t.disableNetworkFetches=!1}),l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),f&&"object"===typeof window&&(window.__APOLLO_CLIENT__=this),!er&&__DEV__&&(er=!0,"undefined"!==typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var S=window.navigator,k=S&&S.userAgent,I=void 0;"string"===typeof k&&(k.indexOf("Chrome/")>-1?I="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":k.indexOf("Firefox/")>-1&&(I="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),I&&__DEV__&&s.kG.log("Download the Apollo DevTools for a better development experience: "+I)}this.version="3.5.10",this.localState=new Qn({cache:o,client:this,resolvers:v,fragmentMatcher:_}),this.queryManager=new Xn({cache:this.cache,link:this.link,queryDeduplication:p,ssrMode:c,clientAwareness:{name:w,version:E},localState:this.localState,assumeImmutableResults:g,onBroadcast:f?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=tr(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,o.pi)((0,o.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=tr(this.defaultOptions.query,e)),__DEV__?(0,s.kG)("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):(0,s.kG)("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,o.pi)((0,o.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=tr(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return ne(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var i=Promise.all(r);return i.queries=n,i.results=r,i.catch((function(e){__DEV__&&s.kG.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),rr=function(){function e(){this.getFragmentDoc=Un(x)}return e.prototype.batch=function(e){var t,n=this,r="string"===typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,o.pi)((0,o.pi)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,o.pi)((0,o.pi)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=(0,o._T)(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,i=e.fragmentName,s=(0,o._T)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),i=t(r);return void 0===i||null===i?r:(n.writeQuery((0,o.pi)((0,o.pi)({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),i=t(r);return void 0===i||null===i?r:(n.writeFragment((0,o.pi)((0,o.pi)({},e),{data:i})),i)}})},e}(),ir=function(e,t,n,r){this.message=e,this.path=t,this.query=n,this.variables=r};function or(e){var t=new Set([e]);return t.forEach((function(e){C(e)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(n){C(e[n])&&t.add(e[n])}))})),e}function sr(e){return __DEV__&&or(e),e}var ar=Object.create(null),cr=function(){return ar},ur=Object.create(null),lr=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return sr(P(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return P(e)?n.has(e.__ref):"object"===typeof e},this.toReference=function(e,t){if("string"===typeof e)return N(e);if(P(e))return e;var r=n.policies.identify(e)[0];if(r){var i=N(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return(0,o.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),mt.call(this.data,e)){var n=this.data[e];if(n&&mt.call(n,t))return n[t]}return"__typename"===t&&mt.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof pr?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),mt.call(this.data,e)?this.data[e]:this instanceof pr?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;P(e)&&(e=e.__ref),P(t)&&(t=t.__ref);var i="string"===typeof e?this.lookup(n=e):e,o="string"===typeof t?this.lookup(n=t):t;if(o){__DEV__?(0,s.kG)("string"===typeof n,"store.merge expects a string ID"):(0,s.kG)("string"===typeof n,1);var a=new pt(yr).merge(i,o);if(this.data[n]=a,a!==i&&(delete this.refs[n],this.group.caching)){var c=Object.create(null);i||(c.__exists=1),Object.keys(o).forEach((function(e){if(!i||i[e]!==a[e]){c[e]=1;var t=_t(e);t===e||r.policies.hasKeyArgs(a.__typename,t)||(c[t]=1),void 0!==a[e]||r instanceof pr||delete a[e]}})),!c.__typename||i&&i.__typename||this.policies.rootTypenamesById[n]!==a.__typename||delete c.__typename,Object.keys(c).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),s=!1,a=!0,c={DELETE:ar,INVALIDATE:ur,isReference:P,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"===typeof t?{fieldName:t,from:r||N(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(u){var l=_t(u),h=r[u];if(void 0!==h){var f="function"===typeof t?t:t[u]||t[l];if(f){var d=f===cr?ar:f(sr(h),(0,o.pi)((0,o.pi)({},c),{fieldName:l,storeFieldName:u,storage:n.getStorage(e,u)}));d===ur?n.group.dirty(e,u):(d===ar&&(d=void 0),d!==h&&(i[u]=d,s=!0,h=d))}void 0!==h&&(a=!1)}})),s)return this.merge(e,i),a&&(this instanceof pr?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),s=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,s?((r={})[s]=cr,r):cr)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(mt.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof pr&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){mt.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&mt.call(e,n)||t.delete(n)})),e){var n=e.__META,r=(0,o._T)(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof pr?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){mt.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof pr;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!mt.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){P(e)&&(t[e.__ref]=!0),C(e)&&Object.keys(e).forEach((function(t){var n=e[t];C(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),hr=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?Ln():null,this.keyMaker=new ot(st.mr)},e.prototype.depend=function(e,t){if(this.d){this.d(fr(e,t));var n=_t(t);n!==t&&this.d(fr(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(fr(e,t),"__exists"===t?"forget":"setDirty")},e}();function fr(e,t){return t+"#"+e}function dr(e,t){gr(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,o=t.seed,s=e.call(this,n,new hr(i))||this;return s.stump=new mr(s),s.storageTrie=new ot(st.mr),o&&s.replace(o),s}return(0,o.ZT)(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(lr||(lr={}));var pr=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return(0,o.ZT)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach((function(n){He(r[n],i[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,o.pi)((0,o.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return mt.call(this.data,t)?(0,o.pi)((0,o.pi)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(lr),mr=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new hr(t.group.caching,t.group))||this}return(0,o.ZT)(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(pr);function yr(e,t,n){var r=e[n],i=t[n];return He(r,i)?r:i}function gr(e){return!!(e instanceof lr&&e.group.caching)}function vr(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var br=function(){function e(e){var t=this;this.knownResults=new(st.mr?WeakMap:Map),this.config=re(e,{addTypename:!1!==e.addTypename,canonizeResults:vt(e)}),this.canon=e.canon||new It,this.executeSelectionSet=Un((function(e){var n,r=e.context.canonizeResults,i=vr(e);i[3]=!r;var s=(n=t.executeSelectionSet).peek.apply(n,i);return s?r?(0,o.pi)((0,o.pi)({},s),{result:t.canon.admit(s.result)}):s:(dr(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:vr,makeCacheKey:function(e,t,n,r){if(gr(n.store))return n.store.makeCacheKey(e,P(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=Un((function(e){return dr(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(gr(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new It},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,s=e.variables,a=e.returnPartialData,c=void 0===a||a,u=e.canonizeResults,l=void 0===u?this.config.canonizeResults:u,h=this.config.cache.policies;s=(0,o.pi)((0,o.pi)({},Y(W(n))),s);var f,d=N(i),p=new pt,m=this.executeSelectionSet({selectionSet:H(n).selectionSet,objectOrReference:d,enclosingRef:d,context:{store:t,query:n,policies:h,variables:s,varString:Ot(s),canonizeResults:l,fragmentMap:A(K(n)),merge:function(e,t){return p.merge(e,t)}}});if(m.missing&&(f=[new ir(_r(m.missing),m.missing,n,s)],!c))throw f[0];return{result:m.result,complete:!f,missing:f}},e.prototype.isFresh=function(e,t,n,r){if(gr(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.enclosingRef,o=e.context;if(P(r)&&!o.policies.rootTypenamesById[r.__ref]&&!o.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var s,a=o.variables,c=o.policies,u=o.store.getFieldValue(r,"__typename"),l={};function h(e,t){var n;return e.missing&&(s=o.merge(s,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"===typeof u&&!c.rootIdsByTypename[u]&&(l={__typename:u});var f=new Set(n.selections);f.forEach((function(e){var n,d;if(at(e,a))if(B(e)){var p=c.readField({fieldName:e.name.value,field:e,variables:o.variables,from:r},o),m=V(e);void 0===p?jt.added(e)||(s=o.merge(s,((n={})[m]="Can't find field '".concat(e.name.value,"' on ").concat(P(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):Tt(p)?p=h(t.executeSubSelectedArray({field:e,array:p,enclosingRef:i,context:o}),m):e.selectionSet?null!=p&&(p=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:p,enclosingRef:P(p)?p:i,context:o}),m)):o.canonizeResults&&(p=t.canon.pass(p)),void 0!==p&&(l=o.merge(l,((d={})[m]=p,d)))}else{var y=D(e,o.fragmentMap);y&&c.fragmentMatches(y,u)&&y.selectionSet.selections.forEach(f.add,f)}}));var d={result:l,missing:s},p=o.canonizeResults?this.canon.admit(d):sr(d);return p.result&&this.knownResults.set(p.result,n),p},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,o=e.enclosingRef,a=e.context;function c(e,n){var r;return e.missing&&(t=a.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map((function(e,t){return null===e?null:Tt(e)?c(n.executeSubSelectedArray({field:r,array:e,enclosingRef:o,context:a}),t):r.selectionSet?c(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:P(e)?e:o,context:a}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){C(n)&&(__DEV__?(0,s.kG)(!P(n),"Missing selection set for object of type ".concat(function(e,t){return P(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)," returned for query field ").concat(t.name.value)):(0,s.kG)(!P(n),5),Object.values(n).forEach(r.add,r))}))}}(a.store,r,e),e)})),{result:a.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function _r(e){try{JSON.stringify(e,(function(e,t){if("string"===typeof t)throw t;return t}))}catch(t){return t}}var wr=Object.create(null);function Er(e){var t=JSON.stringify(e);return wr[t]||(wr[t]=Object.create(null))}function Tr(e){var t=Er(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},i=n.keyObject=kr(e,(function(e){var i=Cr(n.storeObject,e,r);return void 0===i&&t!==n.storeObject&&mt.call(t,e[0])&&(i=Cr(t,e,Or)),__DEV__?(0,s.kG)(void 0!==i,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):(0,s.kG)(void 0!==i,2),i}));return"".concat(n.typename,":").concat(JSON.stringify(i))})}function Sr(e){var t=Er(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,i=n.variables,o=n.fieldName,s=kr(e,(function(e){var n=e[0],o=n.charAt(0);if("@"!==o)if("$"!==o){if(t)return Cr(t,e)}else{var s=n.slice(1);if(i&&mt.call(i,s)){var a=e.slice(0);return a[0]=s,Cr(i,a)}}else if(r&&Kt(r.directives)){var c=n.slice(1),u=r.directives.find((function(e){return e.name.value===c})),l=u&&U(u,i);return l&&Cr(l,e.slice(1))}})),a=JSON.stringify(s);return(t||"{}"!==a)&&(o+=":"+a),o})}function kr(e,t){var n=new pt;return Ir(e).reduce((function(e,r){var i,o=t(r);if(void 0!==o){for(var s=r.length-1;s>=0;--s)(i={})[r[s]]=o,o=i;e=n.merge(e,o)}return e}),Object.create(null))}function Ir(e){var t=Er(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,i){Tt(t)?(Ir(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),Tt(e[i+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function Or(e,t){return e[t]}function Cr(e,t,n){return n=n||Or,xr(t.reduce((function e(t,r){return Tt(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function xr(e){return C(e)?Tt(e)?e.map(xr):kr(Object.keys(e).sort(),(function(t){return Cr(e,t)})):e}function Ar(e){return void 0!==e.args?e.args:e.field?U(e.field,e.variables):null}L.setStringify(Ot);var Dr=function(){},Nr=function(e,t){return t.fieldName},Pr=function(e,t,n){return(0,n.mergeObjects)(e,t)},Rr=function(e,t){return t},Mr=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,o.pi)({dataIdFromObject:yt},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,i=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s,a=t&&t.storeObject||e,c=(0,o.pi)((0,o.pi)({},t),{typename:i,storeObject:a,readField:t&&t.readField||function(){var e=jr(arguments,a);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),u=i&&this.getTypePolicy(i),l=u&&u.keyFn||this.config.dataIdFromObject;l;){var h=l(e,c);if(!Tt(h)){s=h;break}l=Tr(h)}return s=s?String(s):void 0,c.keyObject?[s,c.keyObject]:[s]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=r.queryType,s=r.mutationType,a=r.subscriptionType,c=(0,o._T)(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),s&&t.setRootTypename("Mutation",n),a&&t.setRootTypename("Subscription",n),mt.call(t.toBeAdded,n)?t.toBeAdded[n].push(c):t.toBeAdded[n]=[c]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function s(e,t){e.merge="function"===typeof t?t:!0===t?Pr:!1===t?Rr:e.merge}s(r,t.merge),r.keyFn=!1===i?Dr:Tt(i)?Tr(i):"function"===typeof i?i:r.keyFn,o&&Object.keys(o).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=o[t];if("function"===typeof i)r.read=i;else{var a=i.keyArgs,c=i.read,u=i.merge;r.keyFn=!1===a?Nr:Tt(a)?Sr(a):"function"===typeof a?a:r.keyFn,"function"===typeof c&&(r.read=c),s(r,u)}r.read&&r.merge&&(r.keyFn=r.keyFn||Nr)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?(0,s.kG)(!r||r===e,"Cannot change root ".concat(e," __typename more than once")):(0,s.kG)(!r||r===e,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(bt);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!mt.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),i=r.fields,s=(0,o._T)(r,["fields"]);Object.assign(n,s),Object.assign(n.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(t,!0),c=[a],u=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&c.indexOf(t)<0&&c.push(t)},l=!(!n||!this.fuzzySubtypes.size),h=!1,f=0;f<c.length;++f){var d=c[f];if(d.has(o))return a.has(o)||(h&&__DEV__&&s.kG.warn("Inferring subtype ".concat(t," of supertype ").concat(o)),a.add(o)),!0;d.forEach(u),l&&f===c.length-1&&wt(e.selectionSet,n,r)&&(l=!1,h=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&u(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var s={typename:n,fieldName:r,field:e.field||null,variables:e.variables},a=Ar(e);o;){var c=o(a,s);if(!Tt(c)){t=c||r;break}o=Sr(c)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return R(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return R(r,n,i,t)}))),L(e.name.value,r,n)}(e.field,e.variables):L(r,Ar(e))),!1===t?r:r===_t(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),o=_t(i),s=t.store.getFieldValue(n,i),a=this.getFieldPolicy(e.typename,o,!1),c=a&&a.read;if(c){var u=Lr(this,n,e,t,t.store.getStorage(P(n)?n.__ref:n,i));return Vn.withValue(this.cache,c,[s,u])}return s}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var o=n.field,s=n.typename,a=n.merge;return a===Pr?Fr(r.store)(e,t):a===Rr?t:(r.overwrite&&(e=void 0),a(e,t,Lr(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null))))},e}();function Lr(e,t,n,r,i){var o=e.getStoreFieldName(n),s=_t(o),a=n.variables||r.variables,c=r.store,u=c.toReference,l=c.canRead;return{args:Ar(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:P,toReference:u,storage:i,cache:e.cache,canRead:l,readField:function(){return e.readField(jr(arguments,t,r),r)},mergeObjects:Fr(r.store)}}function jr(e,t,n){var r,i=e[0],a=e[1],c=e.length;return"string"===typeof i?r={fieldName:i,from:c>1?a:t}:(r=(0,o.pi)({},i),mt.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&s.kG.warn("Undefined 'from' passed to readField with arguments ".concat(function(e){var t=Bt("stringifyForDisplay");return JSON.stringify(e,(function(e,n){return void 0===n?t:n})).split(JSON.stringify(t)).join("<undefined>")}(Array.from(e)))),void 0===r.variables&&(r.variables=n),r}function Fr(e){return function(t,n){if(Tt(t)||Tt(n))throw __DEV__?new s.ej("Cannot automatically merge arrays"):new s.ej(4);if(C(t)&&C(n)){var r=e.getFieldValue(t,"__typename"),i=e.getFieldValue(n,"__typename");if(r&&i&&r!==i)return n;if(P(t)&&Et(n))return e.merge(t.__ref,n),t;if(Et(t)&&P(n))return e.merge(t,n.__ref),n;if(Et(t)&&Et(n))return(0,o.pi)((0,o.pi)({},t),n)}return n}}function Ur(e,t,n){var r="".concat(t).concat(n),i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:(0,o.pi)((0,o.pi)({},e),{clientOnly:t,deferred:n})),i}var Vr=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,i=t.result,a=t.dataId,c=t.variables,u=t.overwrite,l=G(r),h=new pt;c=(0,o.pi)((0,o.pi)({},Y(l)),c);var f={store:e,written:Object.create(null),merge:function(e,t){return h.merge(e,t)},variables:c,varString:Ot(c),fragmentMap:A(K(r)),overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},d=this.processSelectionSet({result:i||Object.create(null),dataId:a,selectionSet:l.selectionSet,mergeTree:{map:new Map},context:f});if(!P(d))throw __DEV__?new s.ej("Could not identify object ".concat(JSON.stringify(i))):new s.ej(6);return f.incomingById.forEach((function(t,r){var i=t.storeObject,o=t.mergeTree,a=t.fieldNodeSet,c=N(r);if(o&&o.map.size){var u=n.applyMerges(o,c,i,f);if(P(u))return;i=u}if(__DEV__&&!f.overwrite){var l=Object.create(null);a.forEach((function(e){e.selectionSet&&(l[e.name.value]=!0)}));Object.keys(i).forEach((function(e){(function(e){return!0===l[_t(e)]})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"===typeof t&&t},o=i(e);if(!o)return;var a=i(t);if(!a)return;if(P(o))return;if(He(o,a))return;if(Object.keys(o).every((function(e){return void 0!==r.getFieldValue(a,e)})))return;var c=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),u=_t(n),l="".concat(c,".").concat(u);if(Qr.has(l))return;Qr.add(l);var h=[];Tt(o)||Tt(a)||[o,a].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!==typeof t||h.includes(t)||h.push(t)}));__DEV__&&s.kG.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(c," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(h.length?"either ensure all objects of type "+h.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(l," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(o).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(a).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}(c,i,e,f.store)}))}e.merge(r,i)})),e.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,a=e.context,c=e.mergeTree,u=this.cache.policies,l=Object.create(null),h=n&&u.rootTypenamesById[n]||q(r,i,a.fragmentMap)||n&&a.store.get(n,"__typename");"string"===typeof h&&(l.__typename=h);var f=function(){var e=jr(arguments,l,a.variables);if(P(e.from)){var t=a.incomingById.get(e.from.__ref);if(t){var n=u.readField((0,o.pi)((0,o.pi)({},e),{from:t.storeObject}),a);if(void 0!==n)return n}}return u.readField(e,a)},d=new Set;this.flattenFields(i,r,a,h).forEach((function(e,n){var i,o=V(n),a=r[o];if(d.add(n),void 0!==a){var p=u.getStoreFieldName({typename:h,fieldName:n.name.value,field:n,variables:e.variables}),m=Br(c,p),y=t.processFieldValue(a,n,n.selectionSet?Ur(e,!1,!1):e,m),g=void 0;n.selectionSet&&(P(y)||Et(y))&&(g=f("__typename",y));var v=u.getMergeFunction(h,n.name.value,g);v?m.info={field:n,typename:h,merge:v}:Gr(c,p),l=e.merge(l,((i={})[p]=y,i))}else!__DEV__||e.clientOnly||e.deferred||jt.added(n)||u.getReadFunction(h,n.name.value)||__DEV__&&s.kG.error("Missing field '".concat(V(n),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))}));try{var p=u.identify(r,{typename:h,selectionSet:i,fragmentMap:a.fragmentMap,storeObject:l,readField:f}),m=p[0],y=p[1];n=n||m,y&&(l=a.merge(l,y))}catch(_){if(!n)throw _}if("string"===typeof n){var g=N(n),v=a.written[n]||(a.written[n]=[]);if(v.indexOf(i)>=0)return g;if(v.push(i),this.reader&&this.reader.isFresh(r,g,i,a))return g;var b=a.incomingById.get(n);return b?(b.storeObject=a.merge(b.storeObject,l),b.mergeTree=$r(b.mergeTree,c),d.forEach((function(e){return b.fieldNodeSet.add(e)}))):a.incomingById.set(n,{storeObject:l,mergeTree:zr(c)?void 0:c,fieldNodeSet:d}),g}return l},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?Tt(e)?e.map((function(e,o){var s=i.processFieldValue(e,t,n,Br(r,o));return Gr(r,o),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?Zt(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=q(t,e,n.fragmentMap));var i=new Map,o=this.cache.policies,s=new ot(!1);return function e(a,c){var u=s.lookup(a,c.clientOnly,c.deferred);u.visited||(u.visited=!0,a.selections.forEach((function(s){if(at(s,n.variables)){var a=c.clientOnly,u=c.deferred;if(a&&u||!Kt(s.directives)||s.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(a=!0),"defer"===t){var r=U(e,n.variables);r&&!1===r.if||(u=!0)}})),B(s)){var l=i.get(s);l&&(a=a&&l.clientOnly,u=u&&l.deferred),i.set(s,Ur(n,a,u))}else{var h=D(s,n.fragmentMap);h&&o.fragmentMatches(h,r,t,n.variables)&&e(h.selectionSet,Ur(n,a,u))}}})))}(e,n),i},e.prototype.applyMerges=function(e,t,n,r,i){var a,c=this;if(e.map.size&&!P(n)){var u,l=Tt(n)||!P(t)&&!Et(t)?void 0:t,h=n;l&&!i&&(i=[P(l)?l.__ref:l]);var f=function(e,t){return Tt(e)?"number"===typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=f(l,t),o=f(h,t);if(void 0!==o){i&&i.push(t);var a=c.applyMerges(e,n,o,r,i);a!==o&&(u=u||new Map).set(t,a),i&&(0,s.kG)(i.pop()===t)}})),u&&(n=Tt(h)?h.slice(0):(0,o.pi)({},h),u.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(a=r.store).getStorage.apply(a,i)):n},e}(),qr=[];function Br(e,t){var n=e.map;return n.has(t)||n.set(t,qr.pop()||{map:new Map}),n.get(t)}function $r(e,t){if(e===t||!t||zr(t))return e;if(!e||zr(e))return t;var n=e.info&&t.info?(0,o.pi)((0,o.pi)({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var s=new Set(t.map.keys());e.map.forEach((function(e,n){i.map.set(n,$r(e,t.map.get(n))),s.delete(n)})),s.forEach((function(n){i.map.set(n,$r(t.map.get(n),e.map.get(n)))}))}return i}function zr(e){return!e||!(e.info||e.map.size)}function Gr(e,t){var n=e.map,r=n.get(t);r&&zr(r)&&(qr.push(r),n.delete(t))}var Qr=new Set;var Kr=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=zn,n.txCount=0,n.config=function(e){return re(gt,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new Mr({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return(0,o.ZT)(t,e),t.prototype.init=function(){var e=this.data=new lr.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader;this.storeWriter=new Vr(this,this.storeReader=new br({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:vt(this.config),canon:e?void 0:n&&n.canon})),this.maybeBroadcastWatch=Un((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(gr(n)){var r=e.optimistic,i=e.rootId,o=e.variables;return n.makeCacheKey(e.query,e.callback,Ot({optimistic:r,rootId:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore((0,o.pi)((0,o.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof ir)return null;throw r}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(mt.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,o.pi)((0,o.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,n=this;return this.watches.size||Bn(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&$n(n),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){Ot.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(P(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(t){__DEV__&&s.kG.warn(t)}},t.prototype.evict=function(e){if(!e.id){if(mt.call(e,"id"))return!1;e=(0,o.pi)((0,o.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),Ot.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),$n(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,i=e.optimistic,s=void 0===i||i,a=e.removeOptimistic,c=e.onWatchUpdated,u=function(e){var i=n,o=i.data,s=i.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=o,n.optimisticData=s}},l=new Set;return c&&!this.txCount&&this.broadcastWatches((0,o.pi)((0,o.pi)({},e),{onWatchUpdated:function(e){return l.add(e),!1}})),"string"===typeof s?this.optimisticData=this.optimisticData.addLayer(s,u):!1===s?u(this.data):u(),"string"===typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),c&&l.size?(this.broadcastWatches((0,o.pi)((0,o.pi)({},e),{onWatchUpdated:function(e,t){var n=c.call(this,e,t);return!1!==n&&l.delete(e),n}})),l.size&&l.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=jt(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"===typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&He(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(rr);function Wr(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const Hr=/\r\n|[\n\r]/g;function Yr(e,t){let n=0,r=1;for(const i of e.body.matchAll(Hr)){if("number"===typeof i.index||Wr(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function Jr(e){return Zr(e.source,Yr(e.source,e.start))}function Zr(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,c=t.column+a,u=`${e.name}:${s}:${c}\n`,l=r.split(/\r\n|[\n\r]/g),h=l[i];if(h.length>120){const e=Math.floor(c/80),t=c%80,n=[];for(let r=0;r<h.length;r+=80)n.push(h.slice(r,r+80));return u+Xr([[`${s} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return u+Xr([[s-1+" |",l[i-1]],[`${s} |`,h],["|","^".padStart(c)],[`${s+1} |`,l[i+1]]])}function Xr(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class ei extends Error{constructor(e,...t){var n,r,i;const{nodes:o,source:s,positions:a,path:c,originalError:u,extensions:l}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!==c&&void 0!==c?c:void 0,this.originalError=null!==u&&void 0!==u?u:void 0,this.nodes=ti(Array.isArray(o)?o:o?[o]:void 0);const h=ti(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!==s&&void 0!==s?s:null===h||void 0===h||null===(r=h[0])||void 0===r?void 0:r.source,this.positions=null!==a&&void 0!==a?a:null===h||void 0===h?void 0:h.map((e=>e.start)),this.locations=a&&s?a.map((e=>Yr(s,e))):null===h||void 0===h?void 0:h.map((e=>Yr(e.source,e.start)));const f="object"==typeof(d=null===u||void 0===u?void 0:u.extensions)&&null!==d?null===u||void 0===u?void 0:u.extensions:void 0;var d;this.extensions=null!==(i=null!==l&&void 0!==l?l:f)&&void 0!==i?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==u&&void 0!==u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,ei):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+="\n\n"+Jr(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+Zr(this.source,t);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function ti(e){return void 0===e||0===e.length?void 0:e}function ni(e,t,n){return new ei(`Syntax Error: ${n}`,void 0,e,[t])}let ri,ii;!function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(ri||(ri={})),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(ii||(ii={}));class oi{constructor(e){const t=new ae(ii.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;return this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==ii.EOF)do{if(e.next)e=e.next;else{const t=fi(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===ii.COMMENT);return e}}function si(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function ai(e,t){return ci(e.charCodeAt(t))&&ui(e.charCodeAt(t+1))}function ci(e){return e>=55296&&e<=56319}function ui(e){return e>=56320&&e<=57343}function li(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return ii.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function hi(e,t,n,r,i){const o=e.line,s=1+n-e.lineStart;return new ae(t,n,r,o,s,i)}function fi(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const t=n.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return di(e,i);case 33:return hi(e,ii.BANG,i,i+1);case 36:return hi(e,ii.DOLLAR,i,i+1);case 38:return hi(e,ii.AMP,i,i+1);case 40:return hi(e,ii.PAREN_L,i,i+1);case 41:return hi(e,ii.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return hi(e,ii.SPREAD,i,i+3);break;case 58:return hi(e,ii.COLON,i,i+1);case 61:return hi(e,ii.EQUALS,i,i+1);case 64:return hi(e,ii.AT,i,i+1);case 91:return hi(e,ii.BRACKET_L,i,i+1);case 93:return hi(e,ii.BRACKET_R,i,i+1);case 123:return hi(e,ii.BRACE_L,i,i+1);case 124:return hi(e,ii.PIPE,i,i+1);case 125:return hi(e,ii.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?Ei(e,i):yi(e,i)}if(_e(t)||45===t)return pi(e,i,t);if(Ee(t))return Ti(e,i);throw ni(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":si(t)||ai(n,i)?`Unexpected character: ${li(e,i)}.`:`Invalid character: ${li(e,i)}.`)}return hi(e,ii.EOF,r,r)}function di(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const e=n.charCodeAt(i);if(10===e||13===e)break;if(si(e))++i;else{if(!ai(n,i))break;i+=2}}return hi(e,ii.COMMENT,t,i,n.slice(t+1,i))}function pi(e,t,n){const r=e.source.body;let i=t,o=n,s=!1;if(45===o&&(o=r.charCodeAt(++i)),48===o){if(o=r.charCodeAt(++i),_e(o))throw ni(e.source,i,`Invalid number, unexpected digit after 0: ${li(e,i)}.`)}else i=mi(e,i,o),o=r.charCodeAt(i);if(46===o&&(s=!0,o=r.charCodeAt(++i),i=mi(e,i,o),o=r.charCodeAt(i)),69!==o&&101!==o||(s=!0,o=r.charCodeAt(++i),43!==o&&45!==o||(o=r.charCodeAt(++i)),i=mi(e,i,o),o=r.charCodeAt(i)),46===o||Ee(o))throw ni(e.source,i,`Invalid number, expected digit but got: ${li(e,i)}.`);return hi(e,s?ii.FLOAT:ii.INT,t,i,r.slice(t,i))}function mi(e,t,n){if(!_e(n))throw ni(e.source,t,`Invalid number, expected digit but got: ${li(e,t)}.`);const r=e.source.body;let i=t+1;for(;_e(r.charCodeAt(i));)++i;return i}function yi(e,t){const n=e.source.body,r=n.length;let i=t+1,o=i,s="";for(;i<r;){const r=n.charCodeAt(i);if(34===r)return s+=n.slice(o,i),hi(e,ii.STRING,t,i+1,s);if(92!==r){if(10===r||13===r)break;if(si(r))++i;else{if(!ai(n,i))throw ni(e.source,i,`Invalid character within String: ${li(e,i)}.`);i+=2}}else{s+=n.slice(o,i);const t=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?gi(e,i):vi(e,i):wi(e,i);s+=t.value,i+=t.size,o=i}}throw ni(e.source,i,"Unterminated string.")}function gi(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const e=n.charCodeAt(t+i++);if(125===e){if(i<5||!si(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|_i(e),r<0)break}throw ni(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function vi(e,t){const n=e.source.body,r=bi(n,t+2);if(si(r))return{value:String.fromCodePoint(r),size:6};if(ci(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=bi(n,t+8);if(ui(e))return{value:String.fromCodePoint(r,e),size:12}}throw ni(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function bi(e,t){return _i(e.charCodeAt(t))<<12|_i(e.charCodeAt(t+1))<<8|_i(e.charCodeAt(t+2))<<4|_i(e.charCodeAt(t+3))}function _i(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function wi(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw ni(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Ei(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,o=t+3,s=o,a="";const c=[];for(;o<r;){const r=n.charCodeAt(o);if(34===r&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){a+=n.slice(s,o),c.push(a);const r=hi(e,ii.BLOCK_STRING,t,o+3,Se(c).join("\n"));return e.line+=c.length-1,e.lineStart=i,r}if(92!==r||34!==n.charCodeAt(o+1)||34!==n.charCodeAt(o+2)||34!==n.charCodeAt(o+3))if(10!==r&&13!==r)if(si(r))++o;else{if(!ai(n,o))throw ni(e.source,o,`Invalid character within String: ${li(e,o)}.`);o+=2}else a+=n.slice(s,o),c.push(a),13===r&&10===n.charCodeAt(o+1)?o+=2:++o,a="",s=o,i=o;else a+=n.slice(s,o),s=o+1,o+=4}throw ni(e.source,o,"Unterminated string.")}function Ti(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){if(!Te(n.charCodeAt(i)))break;++i}return hi(e,ii.NAME,t,i,n.slice(t,i))}var Si=n(51270);class ki{constructor(e,t){const n=(0,Si.T)(e)?e:new Si.H(e);this._lexer=new oi(n),this._options=t}parseName(){const e=this.expectToken(ii.NAME);return this.node(e,{kind:fe.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:fe.DOCUMENT,definitions:this.many(ii.SOF,this.parseDefinition,ii.EOF)})}parseDefinition(){if(this.peek(ii.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===ii.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw ni(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(ii.BRACE_L))return this.node(e,{kind:fe.OPERATION_DEFINITION,operation:he.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(ii.NAME)&&(n=this.parseName()),this.node(e,{kind:fe.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(ii.NAME);switch(e.value){case"query":return he.QUERY;case"mutation":return he.MUTATION;case"subscription":return he.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(ii.PAREN_L,this.parseVariableDefinition,ii.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:fe.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ii.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ii.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(ii.DOLLAR),this.node(e,{kind:fe.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:fe.SELECTION_SET,selections:this.many(ii.BRACE_L,this.parseSelection,ii.BRACE_R)})}parseSelection(){return this.peek(ii.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(ii.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:fe.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ii.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(ii.PAREN_L,t,ii.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(ii.COLON),this.node(t,{kind:fe.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(ii.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(ii.NAME)?this.node(e,{kind:fe.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:fe.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacyFragmentVariables)?this.node(t,{kind:fe.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:fe.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case ii.BRACKET_L:return this.parseList(e);case ii.BRACE_L:return this.parseObject(e);case ii.INT:return this._lexer.advance(),this.node(t,{kind:fe.INT,value:t.value});case ii.FLOAT:return this._lexer.advance(),this.node(t,{kind:fe.FLOAT,value:t.value});case ii.STRING:case ii.BLOCK_STRING:return this.parseStringLiteral();case ii.NAME:switch(this._lexer.advance(),t.value){case"true":return this.node(t,{kind:fe.BOOLEAN,value:!0});case"false":return this.node(t,{kind:fe.BOOLEAN,value:!1});case"null":return this.node(t,{kind:fe.NULL});default:return this.node(t,{kind:fe.ENUM,value:t.value})}case ii.DOLLAR:if(e){if(this.expectToken(ii.DOLLAR),this._lexer.token.kind===ii.NAME){const e=this._lexer.token.value;throw ni(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:fe.STRING,value:e.value,block:e.kind===ii.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:fe.LIST,values:this.any(ii.BRACKET_L,(()=>this.parseValueLiteral(e)),ii.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:fe.OBJECT,fields:this.any(ii.BRACE_L,(()=>this.parseObjectField(e)),ii.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(ii.COLON),this.node(t,{kind:fe.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(ii.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(ii.AT),this.node(t,{kind:fe.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(ii.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(ii.BRACKET_R),t=this.node(e,{kind:fe.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(ii.BANG)?this.node(e,{kind:fe.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:fe.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(ii.STRING)||this.peek(ii.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(ii.BRACE_L,this.parseOperationTypeDefinition,ii.BRACE_R);return this.node(e,{kind:fe.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(ii.COLON);const n=this.parseNamedType();return this.node(e,{kind:fe.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:fe.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:fe.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(ii.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(ii.BRACE_L,this.parseFieldDefinition,ii.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(ii.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:fe.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(ii.PAREN_L,this.parseInputValueDef,ii.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(ii.COLON);const r=this.parseTypeReference();let i;this.expectOptionalToken(ii.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:fe.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:fe.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:fe.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(ii.EQUALS)?this.delimitedMany(ii.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:fe.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(ii.BRACE_L,this.parseEnumValueDefinition,ii.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:fe.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw ni(this._lexer.source,this._lexer.token.start,`${Ii(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:fe.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(ii.BRACE_L,this.parseInputValueDef,ii.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===ii.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(ii.BRACE_L,this.parseOperationTypeDefinition,ii.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:fe.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:fe.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:fe.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:fe.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:fe.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:fe.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:fe.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ii.AT);const n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:fe.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(ii.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(ri,t.value))return t;throw this.unexpected(e)}node(e,t){var n;return!0!==(null===(n=this._options)||void 0===n?void 0:n.noLocation)&&(t.loc=new se(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw ni(this._lexer.source,t.start,`Expected ${Oi(e)}, found ${Ii(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this._lexer.advance(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==ii.NAME||t.value!==e)throw ni(this._lexer.source,t.start,`Expected "${e}", found ${Ii(t)}.`);this._lexer.advance()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===ii.NAME&&t.value===e&&(this._lexer.advance(),!0)}unexpected(e){const t=null!==e&&void 0!==e?e:this._lexer.token;return ni(this._lexer.source,t.start,`Unexpected ${Ii(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}}function Ii(e){const t=e.value;return Oi(e.kind)+(null!=t?` "${t}"`:"")}function Oi(e){return function(e){return e===ii.BANG||e===ii.DOLLAR||e===ii.AMP||e===ii.PAREN_L||e===ii.PAREN_R||e===ii.SPREAD||e===ii.COLON||e===ii.EQUALS||e===ii.AT||e===ii.BRACKET_L||e===ii.BRACKET_R||e===ii.BRACE_L||e===ii.PIPE||e===ii.BRACE_R}(e)?`"${e}"`:e}var Ci=new Map,xi=new Map,Ai=!0,Di=!1;function Ni(e){return e.replace(/[\s,]+/g," ").trim()}function Pi(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,i=Ni((s=e.loc).source.body.substring(s.start,s.end)),o=xi.get(r);o&&!o.has(i)?Ai&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||xi.set(r,o=new Set),o.add(i),t.has(i)||(t.add(i),n.push(e))}else n.push(e);var s})),(0,o.pi)((0,o.pi)({},e),{definitions:n})}function Ri(e){var t=Ni(e);if(!Ci.has(t)){var n=function(e,t){return new ki(e,t).parseDocument()}(e,{experimentalFragmentVariables:Di,allowLegacyFragmentVariables:Di});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");Ci.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"===typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(Pi(n)))}return Ci.get(t)}function Mi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"===typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),Ri(r)}var Li,ji=Mi,Fi=function(){Ci.clear(),xi.clear()},Ui=function(){Ai=!1},Vi=function(){Di=!0},qi=function(){Di=!1};(Li=Mi||(Mi={})).gql=ji,Li.resetCaches=Fi,Li.disableFragmentWarnings=Ui,Li.enableExperimentalFragmentVariables=Vi,Li.disableExperimentalFragmentVariables=qi,Mi.default=Mi;var Bi=n(49329),$i=n.n(Bi)(),zi=function(e,t){return zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},zi(e,t)};var Gi=n(83454),Qi="Invariant Violation",Ki=Object.setPrototypeOf,Wi=void 0===Ki?function(e,t){return e.__proto__=t,e}:Ki,Hi=function(e){function t(n){void 0===n&&(n=Qi);var r=e.call(this,"number"===typeof n?Qi+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Qi,Wi(r,t.prototype),r}return function(e,t){function n(){this.constructor=e}zi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function Yi(e,t){if(!e)throw new Hi(t)}function Ji(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=Ji("warn"),e.error=Ji("error")}(Yi||(Yi={}));var Zi={env:{}};if("object"===typeof Gi)Zi=Gi;else try{Function("stub","process = stub")(Zi)}catch(jo){}var Xi=function(e,t){return Xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Xi(e,t)};var eo=function(){return eo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eo.apply(this,arguments)};n(35035);var to=Object.prototype;to.toString,to.hasOwnProperty,new Map;n(83454);"function"===typeof WeakMap&&"object"===typeof navigator&&navigator.product,Object.prototype.toString;Object.prototype.hasOwnProperty;Object.create({});!function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}(function(e,t){function n(){this.constructor=e}Xi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e)}(Error);function no(e){return e.request.length<=1}function ro(e){return new $i((function(t){t.error(e)}))}function io(e,t){var n=eo({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=eo({},n,"function"===typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return eo({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){var t=e.query,n=e.variables,r=e.operationName;return JSON.stringify([r,t,n])}(t)}}),t}function oo(e,t){return t?t(e):$i.of()}function so(e){return"function"===typeof e?new lo(e):e}function ao(){return new lo((function(){return $i.of()}))}function co(e){return 0===e.length?ao():e.map(so).reduce((function(e,t){return e.concat(t)}))}function uo(e,t,n){var r=so(t),i=so(n||new lo(oo));return no(r)&&no(i)?new lo((function(t){return e(t)?r.request(t)||$i.of():i.request(t)||$i.of()})):new lo((function(t,n){return e(t)?r.request(t,n)||$i.of():i.request(t,n)||$i.of()}))}var lo=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return this.concat(uo(t,n,r||new e(oo)))},e.prototype.concat=function(e){return function(e,t){var n=so(e);if(no(n))return n;var r=so(t);return no(r)?new lo((function(e){return n.request(e,(function(e){return r.request(e)||$i.of()}))||$i.of()})):new lo((function(e,t){return n.request(e,(function(e){return r.request(e,t)||$i.of()}))||$i.of()}))}(this,e)},e.prototype.request=function(e,t){throw new Hi(1)},e.empty=ao,e.from=co,e.split=uo,e.execute=ho,e}();function ho(e,t){return e.request(io(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?t.query.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw new Hi(2)}return e}(t))))||$i.of()}var fo=n(31955),po=function(e,t){return po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},po(e,t)};var mo=function(){return mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mo.apply(this,arguments)};var yo=function(){return yo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yo.apply(this,arguments)};var go={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},vo=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},bo=function(e,t){var n;try{n=JSON.stringify(e)}catch(i){var r=new Hi(2);throw r.parseError=i,r}return n},_o=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.includeExtensions,o=e.useGETForQueries,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"===typeof fetch)throw new Hi(1)}(r),r||(r=fetch);var a={http:{includeExtensions:i},options:s.fetchOptions,credentials:s.credentials,headers:s.headers};return new lo((function(e){var t=function(e,t){return e.getContext().uri||("function"===typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),s={};if(i.clientAwareness){var c=i.clientAwareness,u=c.name,l=c.version;u&&(s["apollographql-client-name"]=u),l&&(s["apollographql-client-version"]=l)}var h,f=mo({},s,i.headers),d={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:f},p=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=yo({},t.options,{headers:t.headers,credentials:t.credentials}),o=t.http;n.forEach((function(e){i=yo({},i,e.options,{headers:yo({},i.headers,e.headers)}),e.credentials&&(i.credentials=e.credentials),o=yo({},o,e.http)}));var s=e.operationName,a=e.extensions,c=e.variables,u=e.query,l={operationName:s,variables:c};return o.includeExtensions&&(l.extensions=a),o.includeQuery&&(l.query=xe(u)),{options:i,body:l}}(e,go,a,d),m=p.options,y=p.body;if(!m.signal){var g=function(){if("undefined"===typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),v=g.controller,b=g.signal;(h=v)&&(m.signal=b)}if(o&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(m.method="GET"),"GET"===m.method){var _=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};"query"in t&&r("query",t.query);t.operationName&&r("operationName",t.operationName);if(t.variables){var i=void 0;try{i=bo(t.variables)}catch(E){return{parseError:E}}r("variables",i)}if(t.extensions){var o=void 0;try{o=bo(t.extensions)}catch(E){return{parseError:E}}r("extensions",o)}var s="",a=e,c=e.indexOf("#");-1!==c&&(s=e.substr(c),a=e.substr(0,c));var u=-1===a.indexOf("?")?"?":"&";return{newURI:a+u+n.join("&")+s}}(t,y),w=_.newURI,E=_.parseError;if(E)return ro(E);t=w}else try{m.body=bo(y)}catch(E){return ro(E)}return new $i((function(n){var i;return r(t,m).then((function(t){return e.setContext({response:t}),t})).then((i=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}})).then((function(t){return e.status>=300&&vo(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||vo(e,t,"Server response was missing for query '"+(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName)+"'."),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){h&&h.abort()}}))}))};var wo=function(e){function t(t){return e.call(this,_o(t).request)||this}return function(e,t){function n(){this.constructor=e}po(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(lo);function Eo(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function To(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Eo(o,r,i,s,a,"next",e)}function a(e){Eo(o,r,i,s,a,"throw",e)}s(void 0)}))}}function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){So(e,t,n[t])}))}return e}function Io(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Oo(){var e=Io(["\n      ","\n    "]);return Oo=function(){return e},e}function Co(){var e=Io(["\n      ","\n    "]);return Co=function(){return e},e}function xo(){var e=Io(["\n      ","\n    "]);return xo=function(){return e},e}var Ao="https://apigate.moringapp.com/",Do=fo.Z.get("token"),No=new wo({uri:"".concat(Ao,"graphql/")}),Po=new lo((function(e,t){return e.setContext((function(e){var t=e.headers;return{headers:ko({},void 0===t?{}:t,{authorization:"Bearer "+Do})}})),t(e)})),Ro=new nr({cache:new Kr,link:co([Po,No])}),Mo=(function(){var e=To(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ro.subscribe({query:Mi(Oo(),t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=To(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ro.query({query:Mi(Co(),t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Lo=function(){var e=To(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ro.mutate({mutation:Mi(xo(),t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},87553:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Rh},firebaseApp:function(){return Nh},firebaseDB:function(){return Ph}});var r=n(85893),i=(n(16774),n(43034)),o=function(e){return"@@redux-saga/"+e},s=o("CANCEL_PROMISE"),a=o("CHANNEL_END"),c=o("IO"),u=o("MATCH"),l=o("MULTICAST"),h=o("SAGA_ACTION"),f=o("SELF_CANCELLATION"),d=o("TASK"),p=o("TASK_CANCEL"),m=o("TERMINATE"),y=o("LOCATION"),g=n(87462),v=n(63366),b=function(e){return null===e||void 0===e},_=function(e){return null!==e&&void 0!==e},w=function(e){return"function"===typeof e},E=function(e){return"string"===typeof e},T=Array.isArray,S=function(e){return e&&w(e.then)},k=function(e){return e&&w(e.next)&&w(e.throw)},I=function e(t){return t&&(E(t)||x(t)||w(t)||T(t)&&t.every(e))},O=function(e){return e&&w(e.take)&&w(e.close)},C=function(e){return w(e)&&e.hasOwnProperty("toString")},x=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var A=function(e){return function(){return e}}(!0),D=function(){};var N=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var P=function(e,t){(0,g.Z)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function R(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var M=function(e){throw e},L=function(e){return{value:e,done:!0}};function j(e,t,n){void 0===t&&(t=M),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:L,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function F(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var U=function(e){return Array.apply(null,new Array(e))},V=function(e){return function(t){return e(Object.defineProperty(t,h,{value:!0}))}},q=function(e){return e===m},B=function(e){return e===p},$=function(e){return q(e)||B(e)};function z(e,t){var n=Object.keys(e),r=n.length;var i,o=0,s=T(e)?U(r):{},a={};return n.forEach((function(e){var n=function(n,a){i||(a||$(n)?(t.cancel(),t(n,a)):(s[e]=n,++o===r&&(i=!0,t(s))))};n.cancel=D,a[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return a[e].cancel()})))},a}function G(e){return{name:e.name||"anonymous",location:Q(e)}}function Q(e){return e[y]}function K(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,o=0,s=function(t){n[i]=t,i=(i+1)%e,r++},a=function(){if(0!=r){var t=n[o];return n[o]=null,r--,o=(o+1)%e,t}},c=function(){for(var e=[];r;)e.push(a());return e};return{isEmpty:function(){return 0==r},put:function(a){var u;if(r<e)s(a);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=a,o=i=(i+1)%e;break;case 4:u=2*e,n=c(),r=n.length,i=n.length,o=0,n.length=u,e=u,s(a)}},take:a,flush:c}}var W=function(e){return K(e,4)},H="TAKE",Y="PUT",J="CALL",Z="FORK",X=function(e,t){var n;return(n={})[c]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function ee(e,t){return void 0===e&&(e="*"),I(e)?X(H,{pattern:e}):O(n=e)&&n[l]&&_(t)&&I(t)?X(H,{channel:e,pattern:t}):O(e)?X(H,{channel:e}):void 0;var n}function te(e,t){return b(t)&&(t=e,e=void 0),X(Y,{channel:e,action:t})}function ne(e,t){var n,r=null;return w(e)?n=e:(T(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&E(n)&&w(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X(J,ne(e,n))}function ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X(Z,ne(e,n))}"function"===typeof Symbol&&Symbol.observable;var oe=function(){return Math.random().toString(36).substring(7).split("").join(".")};oe(),oe();function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ae(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var ce=ae,ue=[],le=0;function he(e){try{pe(),e()}finally{me()}}function fe(e){ue.push(e),le||(pe(),ye())}function de(e){try{return pe(),e()}finally{ye()}}function pe(){le++}function me(){le--}function ye(){var e;for(me();!le&&void 0!==(e=ue.shift());)he(e)}var ge=function(e){return function(t){return e.some((function(e){return Ee(e)(t)}))}},ve=function(e){return function(t){return e(t)}},be=function(e){return function(t){return t.type===String(e)}},_e=function(e){return function(t){return t.type===e}},we=function(){return A};function Ee(e){var t="*"===e?we:E(e)?be:T(e)?ge:C(e)?be:w(e)?ve:x(e)?_e:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var Te={type:a},Se=function(e){return e&&e.type===a};function ke(e){void 0===e&&(e=W());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(Te):e.isEmpty()?(n.push(r),r.cancel=function(){R(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(Te):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(Te)}}}}}function Ie(){var e=function(){var e,t=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},o=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(Te)}))};return(e={})[l]=!0,e.put=function(e){if(!t)if(Se(e))o();else for(var i=n=r,s=0,a=i.length;s<a;s++){var c=i[s];c[u](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=we),t?e(Te):(e[u]=n,i(),r.push(e),e.cancel=function(e){var t=!1;return function(){t||(t=!0,e())}}((function(){i(),R(r,e)})))},e.close=o,e}(),t=e.put;return e.put=function(e){e[h]?t(e):fe((function(){t(e)}))},e}function Oe(e,t){var n=e[s];w(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Ce,xe=0,Ae=function(){return++xe};function De(e){e.isRunning()&&e.cancel()}var Ne=((Ce={}).TAKE=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,o=t.pattern,s=t.maybe,a=function(e){e instanceof Error?n(e,!0):!Se(e)||s?n(e):n(m)};try{i.take(a,_(o)?Ee(o):null)}catch(c){return void n(c,!0)}n.cancel=a.cancel},Ce.PUT=function(e,t,n){var r=t.channel,i=t.action,o=t.resolve;fe((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(eo){return void n(eo,!0)}o&&S(t)?Oe(t,n):n(t)}))},Ce.ALL=function(e,t,n,r){var i=r.digestEffect,o=xe,s=Object.keys(t);if(0!==s.length){var a=z(t,n);s.forEach((function(e){i(t[e],o,a[e],e)}))}else n(T(t)?[]:{})},Ce.RACE=function(e,t,n,r){var i=r.digestEffect,o=xe,s=Object.keys(t),a=T(t)?U(s.length):{},c={},u=!1;s.forEach((function(e){var t=function(t,r){u||(r||$(t)?(n.cancel(),n(t,r)):(n.cancel(),u=!0,a[e]=t,n(a)))};t.cancel=D,c[e]=t})),n.cancel=function(){u||(u=!0,s.forEach((function(e){return c[e].cancel()})))},s.forEach((function(e){u||i(t[e],o,c[e],e)}))},Ce.CALL=function(e,t,n,r){var i=t.context,o=t.fn,s=t.args,a=r.task;try{var c=o.apply(i,s);if(S(c))return void Oe(c,n);if(k(c))return void Be(e,c,a.context,xe,G(o),!1,n);n(c)}catch(eo){n(eo,!0)}},Ce.CPS=function(e,t,n){var r=t.context,i=t.fn,o=t.args;try{var s=function(e,t){b(e)?n(t):n(e,!0)};i.apply(r,o.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(eo){n(eo,!0)}},Ce.FORK=function(e,t,n,r){var i=t.context,o=t.fn,s=t.args,a=t.detached,c=r.task,u=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(k(i))return i;var o=!1;return j((function(e){return o?{value:e,done:!0}:(o=!0,{value:i,done:!S(i)})}))}catch(s){return j((function(){throw s}))}}({context:i,fn:o,args:s}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:G(t)}(u,o);de((function(){var t=Be(e,u,c.context,xe,l,a,void 0);a?n(t):t.isRunning()?(c.queue.addTask(t),n(t)):t.isAborted()?c.queue.abort(t.error()):n(t)}))},Ce.JOIN=function(e,t,n,r){var i=r.task,o=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&R(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(T(t)){if(0===t.length)return void n([]);var s=z(t,n);t.forEach((function(e,t){o(e,s[t])}))}else o(t,n)},Ce.CANCEL=function(e,t,n,r){var i=r.task;t===f?De(i):T(t)?t.forEach(De):De(t),n()},Ce.SELECT=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(eo){n(eo,!0)}},Ce.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,i=ke(t.buffer),o=Ee(r),s=function t(n){Se(n)||e.channel.take(t,o),i.put(n)},a=i.close;i.close=function(){s.cancel(),a()},e.channel.take(s,o),n(i)},Ce.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},Ce.FLUSH=function(e,t,n){t.flush(n)},Ce.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},Ce.SET_CONTEXT=function(e,t,n,r){var i=r.task;P(i.context,t),n()},Ce);function Pe(e,t){return e+"?"+t}function Re(e){var t=e.name,n=e.location;return n?t+"  "+Pe(n.fileName,n.lineNumber):t}function Me(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Le=null,je=[],Fe=function(e){e.crashedEffect=Le,je.push(e)},Ue=function(){Le=null,je.length=0},Ve=function(){var e=je[0],t=je.slice(1),n=e.crashedEffect?function(e){var t=Q(e);return t?t.code+"  "+Pe(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Re(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+Re(e.meta)})),[Me(je)]).join("\n")};function qe(e,t,n,r,i,o,s){var a;void 0===s&&(s=D);var c,u,l=0,h=null,f=[],m=Object.create(n),y=function(e,t,n){var r,i=[],o=!1;function s(e){t(),c(),n(e,!0)}function a(t){i.push(t),t.cont=function(a,c){o||(R(i,t),t.cont=D,c?s(a):(t===e&&(r=a),i.length||(o=!0,n(r))))}}function c(){o||(o=!0,i.forEach((function(e){e.cont=D,e.cancel()})),i=[])}return a(e),{addTask:a,cancelAll:c,abort:s,getTasks:function(){return i}}}(t,(function(){f.push.apply(f,y.getTasks().map((function(e){return e.meta.name})))}),g);function g(t,n){if(n){if(l=2,Fe({meta:i,cancelledTasks:f}),v.isRoot){var r=Ve();Ue(),e.onError(t,{sagaStack:r})}u=t,h&&h.reject(t)}else t===p?l=1:1!==l&&(l=3),c=t,h&&h.resolve(t);v.cont(t,n),v.joiners.forEach((function(e){e.cb(t,n)})),v.joiners=null}var v=((a={})[d]=!0,a.id=r,a.meta=i,a.isRoot=o,a.context=m,a.joiners=[],a.queue=y,a.cancel=function(){0===l&&(l=1,y.cancelAll(),g(p,!1))},a.cont=s,a.end=g,a.setContext=function(e){P(m,e)},a.toPromise=function(){return h||(h=ce(),2===l?h.reject(u):0!==l&&h.resolve(c)),h.promise},a.isRunning=function(){return 0===l},a.isCancelled=function(){return 1===l||0===l&&1===t.status},a.isAborted=function(){return 2===l},a.result=function(){return c},a.error=function(){return u},a);return v}function Be(e,t,n,r,i,o,s){var a=e.finalizeRunEffect((function(t,n,r){if(S(t))Oe(t,r);else if(k(t))Be(e,t,l.context,n,i,!1,r);else if(t&&t[c]){(0,Ne[t.type])(e,t.payload,r,h)}else r(t)}));f.cancel=D;var u={meta:i,cancel:function(){0===u.status&&(u.status=1,f(p))},status:0},l=qe(e,u,n,r,i,o,s),h={task:l,digestEffect:d};return s&&(s.cancel=l.cancel),f(),l;function f(e,n){try{var i;n?(i=t.throw(e),Ue()):B(e)?(u.status=1,f.cancel(),i=w(t.return)?t.return(p):{done:!0,value:p}):i=q(e)?w(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==u.status&&(u.status=3),u.cont(i.value)):d(i.value,r,f)}catch(eo){if(1===u.status)throw eo;u.status=2,u.cont(eo,!0)}}function d(t,n,r,i){void 0===i&&(i="");var o,s=Ae();function c(n,i){o||(o=!0,r.cancel=D,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(s,n):e.sagaMonitor.effectResolved(s,n)),i&&function(e){Le=e}(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:s,parentEffectId:n,label:i,effect:t}),c.cancel=D,r.cancel=function(){o||(o=!0,c.cancel(),c.cancel=D,e.sagaMonitor&&e.sagaMonitor.effectCancelled(s))},a(t,s,c)}}function $e(e,t){var n=e.channel,r=void 0===n?Ie():n,i=e.dispatch,o=e.getState,s=e.context,a=void 0===s?{}:s,c=e.sagaMonitor,u=e.effectMiddlewares,l=e.onError,h=void 0===l?F:l;for(var f=arguments.length,d=new Array(f>2?f-2:0),p=2;p<f;p++)d[p-2]=arguments[p];var m=t.apply(void 0,d);var y,g=Ae();if(c&&(c.rootSagaStarted=c.rootSagaStarted||D,c.effectTriggered=c.effectTriggered||D,c.effectResolved=c.effectResolved||D,c.effectRejected=c.effectRejected||D,c.effectCancelled=c.effectCancelled||D,c.actionDispatched=c.actionDispatched||D,c.rootSagaStarted({effectId:g,saga:t,args:d})),u){var v=se.apply(void 0,u);y=function(e){return function(t,n,r){return v((function(t){return e(t,n,r)}))(t)}}}else y=N;var b={channel:r,dispatch:V(i),getState:o,sagaMonitor:c,onError:h,finalizeRunEffect:y};return de((function(){var e=Be(b,m,a,g,G(t),!0,void 0);return c&&c.effectResolved(g,e),e}))}var ze=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,o=n.channel,s=void 0===o?Ie():o,a=n.sagaMonitor,c=(0,v.Z)(n,["context","channel","sagaMonitor"]);function u(e){var n=e.getState,r=e.dispatch;return t=$e.bind(null,(0,g.Z)({},c,{context:i,channel:s,dispatch:r,getState:n,sagaMonitor:a})),function(e){return function(t){a&&a.actionDispatched&&a.actionDispatched(t);var n=e(t);return s.put(t),n}}}return u.run=function(){return t.apply(void 0,arguments)},u.setContext=function(e){P(i,e)},u},Ge=ze,Qe=n(52789),Ke=n(95400),We=n(67377),He=n(72973),Ye=n(64493),Je=n(42723),Ze=n(33963),Xe=n(31829),et=n(11786),tt=n(17829),nt=n(33791);function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e){return function(e){if(Array.isArray(e))return rt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ot={list:[],job:void 0,error:void 0,isLoading:!1,success:!1},st=(0,i.oM)({name:"job",initialState:ot,reducers:{resetJobAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeJobAction:function(e,t){e.isLoading=!0,e.error=void 0},addJobSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateJobSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.job=t.payload,e.list=it(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionJobFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getJobItemsSuccess:function(e,t){e.list=t.payload}}}),at=(st.actions,st.reducer);function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ut(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lt={list:[],payment:void 0,error:void 0,isLoading:!1,success:!1},ht=(0,i.oM)({name:"payment",initialState:lt,reducers:{resetPaymentAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activePaymentAction:function(e,t){e.isLoading=!0,e.error=void 0},addPaymentSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updatePaymentSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.payment=t.payload,e.list=ut(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionPaymentFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getPaymentItemsSuccess:function(e,t){e.list=t.payload}}}),ft=(ht.actions,ht.reducer),dt=n(43818),pt=n(35112),mt=n(6001),yt=n(11469),gt=(0,Qe.UY)({auth:We.ZP,home:nt.ZP,category:He.ZP,city:Je.ZP,country:et.ZP,condition:Ze.ZP,job:at,payment:ft,role:dt.ZP,service:pt.ZP,task:mt.ZP,user:yt.ZP,image:Ke.ZP,forum:tt.ZP,chat:Ye.ZP,content:Xe.ZP}),vt=n(34051),bt=n.n(vt),_t=function(e){return{done:!0,value:e}},wt={};function Et(e){return O(e)?"channel":C(e)?String(e):w(e)?e.name:String(e)}function Tt(e,t,n){var r,i,o,s=t;function a(t,n){if(s===wt)return _t(t);if(n&&!i)throw s=wt,n;r&&r(t);var a=n?e[i](n):e[s]();return s=a.nextState,o=a.effect,r=a.stateUpdater,i=a.errorState,s===wt?_t(t):o}return j(a,(function(e){return a(null,e)}),n)}function St(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o,s={done:!1,value:ee(e)},a=function(e){return{done:!1,value:ie.apply(void 0,[t].concat(r,[e]))}},c=function(e){return o=e};return Tt({q1:function(){return{nextState:"q2",effect:s,stateUpdater:c}},q2:function(){return{nextState:"q1",effect:a(o)}}},"q1","takeEvery("+Et(e)+", "+t.name+")")}function kt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return ie.apply(void 0,[St,e,t].concat(r))}var It,Ot=n(71406),Ct=new Uint8Array(16);function xt(){if(!It&&!(It="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return It(Ct)}var At=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Dt=function(e){return"string"===typeof e&&At.test(e)},Nt=[],Pt=0;Pt<256;++Pt)Nt.push((Pt+256).toString(16).substr(1));var Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Nt[e[t+0]]+Nt[e[t+1]]+Nt[e[t+2]]+Nt[e[t+3]]+"-"+Nt[e[t+4]]+Nt[e[t+5]]+"-"+Nt[e[t+6]]+Nt[e[t+7]]+"-"+Nt[e[t+8]]+Nt[e[t+9]]+"-"+Nt[e[t+10]]+Nt[e[t+11]]+Nt[e[t+12]]+Nt[e[t+13]]+Nt[e[t+14]]+Nt[e[t+15]]).toLowerCase();if(!Dt(n))throw TypeError("Stringified UUID is invalid");return n};var Mt=function(e,t,n){var r=(e=e||{}).random||(e.rng||xt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Rt(r)},Lt=function(e){var t,n,r='mutation{\n        createCategory(input:{\n            id: "'.concat(Mt(),'",\n            name:"').concat(e.name,'"\n            name_fr:"').concat(e.name_fr,'"\n            description:"').concat(e.description,'"\n            image:"').concat(e.image,'"\n            slug:"').concat(e.slug,'"\n            slug_fr:"').concat(e.slug_fr,'"\n            condition:{connect:"').concat(null===(t=e.condition)||void 0===t?void 0:t.id,'"}\n            service:{connect:"').concat(null===(n=e.service)||void 0===n?void 0:n.id,'"}\n        }){\n            id\n            name\n            name_fr\n            image\n            condition{\n                id\n                name\n                value\n            }\n            service{\n                id\n                name\n            }\n        }\n    }');return(0,Ot.m1)(r)},jt=function(e){var t,n,r='mutation{\n          updateCategory(input:{\n            id:"'.concat(e.id,'", \n            name:"').concat(e.name,'"\n            name_fr:"').concat(e.name_fr,'"\n            description:"').concat(e.description,'"\n            image:"').concat(e.image,'"\n            slug:"').concat(e.slug,'"\n            slug_fr:"').concat(e.slug_fr,'"\n            condition:{connect:"').concat(null===(t=e.condition)||void 0===t?void 0:t.id,'"}\n            service:{connect:"').concat(null===(n=e.service)||void 0===n?void 0:n.id,'"}\n          }){\n            id\n            name\n            name_fr\n            image\n            condition{\n                id\n                name\n                value\n            }\n            service{\n                id\n                name\n            }        \n          }\n      }');return(0,Ot.m1)(r)},Ft=bt().mark($t),Ut=bt().mark(Bt),Vt=bt().mark(qt);function qt(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Lt,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(He.QX.actionCategoryFailed(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(He.QX.addCategorySuccess(n.data.createCategory));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(He.QX.actionCategoryFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),Vt,null,[[0,14]])}function Bt(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(jt,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(He.QX.actionCategoryFailed(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(He.QX.updateCategorySuccess(n.data.updateCategory));case 12:r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(0),console.error(r.t0),r.next=19,te(He.QX.actionCategoryFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 19:case"end":return r.stop()}}),Ut,null,[[0,14]])}function $t(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(He.xC.ADD_ITEM,qt);case 2:return e.next=4,kt(He.xC.UPDATE_ITEM,Bt);case 4:case"end":return e.stop()}}),Ft)}var zt=function(e){var t,n='mutation{\n        createCity(input:{\n            id: "'.concat(Mt(),'",\n            name:"').concat(e.name,'"\n            name_fr:"').concat(e.name_fr,'"\n            country:{connect:"').concat(null===(t=e.country)||void 0===t?void 0:t.id,'"}\n        }){\n            id\n            name\n            name_fr\n            country{\n                id\n                name\n            }\n            created_at\n        }\n    }');return(0,Ot.m1)(n)},Gt=function(e){var t,n='mutation{\n          updateCity(input:{\n            id:"'.concat(e.id,'"\n            name:"').concat(e.name,'"\n            name_fr:"').concat(e.name_fr,'"\n            country:{connect:"').concat(null===(t=e.country)||void 0===t?void 0:t.id,'"}\n          }){\n            id\n            name\n            name_fr\n            country{\n                id\n                name\n            }\n            created_at\n          }\n      }');return(0,Ot.m1)(n)},Qt=bt().mark(Jt),Kt=bt().mark(Yt),Wt=bt().mark(Ht);function Ht(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(zt,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(Je.S_.actionCityFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(Je.S_.addCitySuccess(n.data.createCity));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(Je.S_.actionCityFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),Wt,null,[[0,14]])}function Yt(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Gt,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(Je.S_.actionCityFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(Je.S_.updateCitySuccess(n.data.updateCity));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(Je.S_.actionCityFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),Kt,null,[[0,14]])}function Jt(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(Je.aZ.ADD_ITEM,Ht);case 2:return e.next=4,kt(Je.aZ.UPDATE_ITEM,Yt);case 4:case"end":return e.stop()}}),Qt)}var Zt=function(e){var t='mutation{\n        createCondition(input:{\n            id: "'.concat(Mt(),'",\n            name:"').concat(e.name,'",\n            value:').concat(e.value,"\n        }){\n            id\n            name\n            value\n            created_at\n        }\n    }");return(0,Ot.m1)(t)},Xt=function(e){var t='mutation{\n          updateCondition(input:{\n            id:"'.concat(e.id,'"\n            name:"').concat(e.name,'",\n            value:').concat(e.value,"\n          }){\n            id\n            name\n            value\n            created_at\n          }\n      }");return(0,Ot.m1)(t)},en=bt().mark(sn),tn=bt().mark(on),nn=bt().mark(rn);function rn(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Zt,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(Ze.Im.actionConditionFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(Ze.Im.addConditionSuccess(n.data.createCondition));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(Ze.Im.actionConditionFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),nn,null,[[0,14]])}function on(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Xt,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(Ze.Im.actionConditionFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(Ze.Im.updateConditionSuccess(n.data.updateCondition));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(Ze.Im.actionConditionFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),tn,null,[[0,14]])}function sn(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(Ze._1.ADD_ITEM,rn);case 2:return e.next=4,kt(Ze._1.UPDATE_ITEM,on);case 4:case"end":return e.stop()}}),en)}var an=function(e){var t='mutation{\n        createCountry(input:{\n            id: "'.concat(Mt(),'",\n            name:"').concat(e.name,'"\n            name_fr:"').concat(e.name_fr,'"\n        }){\n            id\n            name\n            name_fr\n            cities{\n                id\n                name\n            }\n            created_at\n        }\n    }');return(0,Ot.m1)(t)},cn=function(e){var t='mutation{\n          updateCountry(input:{\n            id:"'.concat(e.id,'", \n            name:"').concat(e.name,'"\n            name_fr:"').concat(e.name_fr,'"\n          }){\n            id\n            name\n            name_fr\n            cities{\n                id\n                name\n            }\n            created_at\n          }\n      }');return(0,Ot.m1)(t)},un=bt().mark(pn),ln=bt().mark(dn),hn=bt().mark(fn);function fn(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(an,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(et.UM.actionCountryFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(et.UM.addCountrySuccess(n.data.createCountry));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(et.UM.actionCountryFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),hn,null,[[0,14]])}function dn(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(cn,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(et.UM.actionCountryFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(et.UM.updateCountrySuccess(n.data.updateCountry));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(et.UM.actionCountryFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),ln,null,[[0,14]])}function pn(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(et.wG.ADD_ITEM,fn);case 2:return e.next=4,kt(et.wG.UPDATE_ITEM,dn);case 4:case"end":return e.stop()}}),un)}var mn="\n    id\n    deleted_from\n    deleted_to\n    chats{\n        id\n        content\n        image\n        created_at\n        user{\n            id\n            first_name\n            last_name\n            avatar\n        }\n    }\n    user_from{\n        id\n        first_name\n        last_name\n        avatar\n    }\n    user_to{\n        id\n        first_name\n        last_name\n        avatar\n    }\n    created_at\n",yn="\n    id\n    first_name\n    last_name\n    email\n    gender\n    avatar\n    birth_year\n    street\n    mobile\n    certificate\n    bio\n    zip_code\n    url\n    user_rooms{".concat(mn,"}\n    user_invited_rooms{").concat(mn,"}\n    role{\n        id\n        name\n        value\n    }\n    condition{\n        id\n        name\n        value\n    }\n    city{\n        id\n        name\n        country{\n            id\n            name\n        }\n    }\n    jobs{\n          id\n          is_completed\n          price_by_hour\n          total_hours\n          street\n          description\n          the_date\n          the_time\n          payment_due_date\n          city{\n              id\n              name\n              country{\n                  id\n                  name\n              }\n          }\n          condition{\n              id\n              name\n          }\n      }\n    tasks{\n        id\n        name\n        description\n        image\n        can_be_booked\n        can_be_urgent\n        accept_offer\n        min_price\n        price_by_hour\n        created_at\n        jobs{\n            id\n            is_completed\n            price_by_hour\n            total_hours\n            street\n            description\n            the_date\n            the_time\n            payment_due_date\n            city{\n                id\n                name\n                country{\n                    id\n                    name\n                }\n            }\n            condition{\n                id\n                name\n                value\n            }\n        }\n        category{\n            id\n            name\n        }\n        condition{\n            id\n            name\n            value\n        }\n    }\n    created_at\n    updated_at\n\n\n"),gn=function(){var e="{\n    me:me{".concat(yn,"}\n    roles:").concat("roles{\n    id\n    name\n    value\n    created_at\n}","\n    users:users{").concat(yn,"}\n    tasks:").concat("tasks{\n    id\n    name\n    image\n    description\n    can_be_booked\n    can_be_urgent\n    accept_offer\n    price_by_hour\n    min_price\n    min_price\n    category{\n        id\n        name\n    }\n    condition{\n        id\n        name\n        value\n    }\n}","\n    services:").concat("services{\n    id\n    name\n    name_fr\n    image\n    description\n    categories{\n        id\n        name\n    }\n    condition{\n        id\n        name\n        value\n    }\n}","\n    categories:").concat("categories{\n    id\n    name\n    name_fr\n    image\n    description\n    parent{\n        id\n        name\n    }\n    service{\n        id\n        name\n    }\n    condition{\n        id\n        name\n        value\n    }\n}","\n    cities:").concat("cities{\n    id\n    name\n    name_fr\n    country{\n        id\n        name\n        name_fr\n    }\n}","\n    conditions:").concat("conditions{\n    id\n    name\n    name_fr\n    value\n    created_at\n}","\n    countries:").concat("countries{\n    id\n    name\n    name_fr\n}","\n    pages:").concat("pages{\n    id\n    title\n    content\n    image\n    value\n    label\n    link\n}","\n    questions:").concat("questions{\n    id\n    content\n    image\n    likes{\n        id\n        user{\n            id\n            first_name\n            last_name\n            avatar\n        }\n    }\n    replies{\n        id\n        image\n        content\n        created_at\n        user{\n            id\n            first_name\n            last_name\n            avatar\n        }\n    }\n    user{\n        id\n        first_name\n        last_name\n        avatar\n    }\n    created_at\n}","\n  }");return(0,Ot.XH)(e)};function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bn(e){return function(e){if(Array.isArray(e))return vn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _n=bt().mark(Tn),wn=bt().mark(En);function En(){var e,t,n,r,i,o,s;return bt().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=4,re(gn);case 4:if(o=a.sent,!(null===(e=o.data)||void 0===e?void 0:e.hasOwnProperty("errors"))&&!o.hasOwnProperty("errors")){a.next=11;break}return a.next=9,te(nt.T6.actionFailed(null===(s=o.data)||void 0===s?void 0:s.errors));case 9:return console.error(null===o||void 0===o?void 0:o.errors),a.abrupt("return");case 11:return a.next=13,te(nt.T6.getHomeItemsSuccess(o.data.me));case 13:return a.next=15,te(pt._r.getServiceItemsSuccess(o.data.services||o.data.services));case 15:return a.next=17,te(mt.mE.getTaskItemsSuccess(o.data.tasks||o.data.tasks));case 17:return a.next=19,te(tt.dg.getForumItemsSuccess(o.data.questions||o.data.questions));case 19:return a.next=21,te(Ye.Lx.getRoomItemsSuccess(bn(null===(t=o.data.me)||void 0===t?void 0:t.user_rooms).concat(bn(null===(n=o.data.me)||void 0===n?void 0:n.user_invited_rooms))));case 21:if(1!=(null===(r=o.data.me)||void 0===r||null===(i=r.role)||void 0===i?void 0:i.value)){a.next=36;break}return a.next=24,te(dt._1.getRoleItemsSuccess(o.data.roles));case 24:return a.next=26,te(He.QX.getCategoryItemsSuccess(o.data.categories));case 26:return a.next=28,te(Ze.Im.getConditionItemsSuccess(o.data.conditions));case 28:return a.next=30,te(et.UM.getCountryItemsSuccess(o.data.countries));case 30:return a.next=32,te(Je.S_.getCityItemsSuccess(o.data.cities));case 32:return a.next=34,te(yt.ul.getUserItemsSuccess(o.data.users));case 34:return a.next=36,te(Xe.sT.getContentItemsSuccess(o.data.pages));case 36:a.next=43;break;case 38:return a.prev=38,a.t0=a.catch(0),a.next=42,te(nt.T6.actionHomeFailed("".concat(a.t0)));case 42:console.error(a.t0);case 43:case"end":return a.stop()}}),wn,null,[[0,38]])}function Tn(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(nt.mz.GET_ITEM,En);case 2:case"end":return e.stop()}}),_n)}function Sn(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(eo){return void n(eo)}a.done?t(c):Promise.resolve(c).then(r,i)}var kn=n(9669).default,In=function(){var e,t=(e=bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),e.next=4,kn.post("".concat(Ot.LS,"api/upload/image"),n,{headers:{"content-type":"multipart/form-data",authorization:"Bearer "+Ot.o3}});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Sn(o,r,i,s,a,"next",e)}function a(e){Sn(o,r,i,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),On=bt().mark(An),Cn=bt().mark(xn);function xn(e){var t;return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,re(In,e.payload);case 3:if(!(t=n.sent).data){n.next=9;break}return n.next=7,te(Ke.J6.uploadSuccess(t.data));case 7:n.next=11;break;case 9:return n.next=11,te(Ke.J6.uploadFailure("Could not upload image, try with an other"));case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,te(Ke.J6.uploadFailure("".concat(n.t0)));case 17:case"end":return n.stop()}}),Cn,null,[[0,13]])}function An(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(Ke.Zr.ADD_ITEM,xn);case 2:case"end":return e.stop()}}),On)}var Dn=function(e){var t,n,r,i,o='mutation{\n        createJob(input:{\n            id: "'.concat(Mt(),'",\n            is_completed:"').concat(e.is_completed,'"\n            price_by_hour:"').concat(e.price_by_hour,'"\n            total_hours:"').concat(e.total_hours,'"\n            street:"').concat(e.street,'"\n            the_date:"').concat(e.the_date,'"\n            the_time:"').concat(e.the_time,'"\n            description:"').concat(e.description,'"\n            payment_due_date:"').concat(e.payment_due_date,'"\n            task:{connect:').concat(null===(t=e.task)||void 0===t?void 0:t.id,"}\n            city:{connect:").concat(null===(n=e.city)||void 0===n?void 0:n.id,"}\n            condition:{connect:").concat(null===(r=e.condition)||void 0===r?void 0:r.id,'}\n            user:"{connect:').concat(null===(i=e.user)||void 0===i?void 0:i.id,'}"\n        }){\n            id\n            is_completed\n            price_by_hour\n            total_hours\n            street\n            the_date\n            the_time\n            description\n            payment_due_date\n            task{\n                id\n                title\n            }\n            city{\n                id\n                name\n            }\n            condition{\n                id\n                name\n            }\n            user{\n                id\n                email\n            }\n\n        }\n    }');return(0,Ot.m1)(o)},Nn=function(e){var t,n,r,i,o='mutation{\n          updateJob(id:"'.concat(e.id,'", input:{\n            is_completed:"').concat(e.is_completed,'"\n            price_by_hour:"').concat(e.price_by_hour,'"\n            total_hours:"').concat(e.total_hours,'"\n            street:"').concat(e.street,'"\n            the_date:"').concat(e.the_date,'"\n            the_time:"').concat(e.the_time,'"\n            description:"').concat(e.description,'"\n            payment_due_date:"').concat(e.payment_due_date,'"\n            task:{connect:').concat(null===(t=e.task)||void 0===t?void 0:t.id,"}\n            city:{connect:").concat(null===(n=e.city)||void 0===n?void 0:n.id,"}\n            condition:{connect:").concat(null===(r=e.condition)||void 0===r?void 0:r.id,'}\n            user:"{connect:').concat(null===(i=e.user)||void 0===i?void 0:i.id,'}"\n          }){\n            id\n            is_completed\n            price_by_hour\n            total_hours\n            street\n            the_date\n            the_time\n            description\n            payment_due_date\n            task{\n                id\n                title\n            }\n            city{\n                id\n                name\n            }\n            condition{\n                id\n                name\n            }\n            user{\n                id\n                email\n            }\n          }\n      }');return(0,Ot.m1)(o)},Pn=function(e){var t='mutation{\n            deleteJob(id:"'.concat(e.id,'"){\n                id\n                is_completed\n                price_by_hour\n                total_hours\n                street\n                the_date\n                the_time\n                description\n                payment_due_date\n                task{\n                    id\n                    title\n                }\n                city{\n                    id\n                    name\n                }\n                condition{\n                    id\n                    name\n                }\n                user{\n                    id\n                    email\n                }\n            }\n        }');return(0,Ot.m1)(t)},Rn="job/GET_JOB_LIST",Mn="job/GET_JOB",Ln=function(e){return{type:"job/ADD_JOB_FAILURE",error:e}},jn=function(){return{type:Rn}},Fn=function(e){return{type:"job/GET_JOB_LIST_FAILURE",error:e}},Un=function(e){return{type:"job/UPDATE_JOB_FAILURE",error:e}},Vn=function(e){return{type:"job/DELETE_JOB_FAILURE",error:e}},qn=function(e){return{type:Mn,data:e}},Bn=function(e){return{type:"job/GET_JOB_FAILURE",error:e}},$n=bt().mark(er),zn=bt().mark(Xn),Gn=bt().mark(Zn),Qn=bt().mark(Jn),Kn=bt().mark(Yn),Wn=bt().mark(Hn);function Hn(){var e,t,n,r;return bt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=4,re(jn);case 4:if(t=i.sent,!(null===(e=t.data)||void 0===e?void 0:e.hasOwnProperty("errors"))&&!t.hasOwnProperty("errors")){i.next=11;break}return i.next=9,te(Fn((null===(n=t.data)||void 0===n?void 0:n.errors)||t.errors));case 9:i.next=14;break;case 11:return i.next=14,te({type:"job/GET_JOB_LIST_SUCCESS",data:null===(r=t.data)||void 0===r?void 0:r.jobs});case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(0),i.next=20,te(Fn("".concat(i.t0)));case 20:case"end":return i.stop()}}),Wn,null,[[0,16]])}function Yn(e){var t,n,r,i;return bt().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=4,re(qn,e.data);case 4:if(n=o.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){o.next=11;break}return o.next=9,te(Bn((null===(r=n.data)||void 0===r?void 0:r.errors)||n.errors));case 9:o.next=14;break;case 11:return o.next=14,te({type:"job/GET_JOB_SUCCESS",data:null===(i=n.data)||void 0===i?void 0:i.jobs});case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(0),o.next=20,te(Bn("".concat(o.t0)));case 20:case"end":return o.stop()}}),Kn,null,[[0,16]])}function Jn(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Dn,e.data);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(Ln(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te({type:"job/ADD_JOB_SUCCESS",data:n.data.Job});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(Ln(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),Qn,null,[[0,14]])}function Zn(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Nn,e.data);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(Un(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te({type:"job/UPDATE_JOB_SUCCESS",data:n.data.Job});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(Un(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),Gn,null,[[0,14]])}function Xn(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Pn,e.data);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(Vn(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te({type:"job/DELETE_JOB_SUCCESS",id:n.data.Job});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(Vn(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),zn,null,[[0,14]])}function er(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(Mn,Yn);case 2:return e.next=4,kt(Rn,Hn);case 4:return e.next=6,kt("job/ADD_JOB",Jn);case 6:return e.next=8,kt("job/UPDATE_JOB",Zn);case 8:return e.next=10,kt("job/DELETE_JOB",Xn);case 10:case"end":return e.stop()}}),$n)}var tr=function(e){var t='mutation{\n        login(email:"'.concat(e.email,'",password:"').concat(e.password,'"){\n            token\n        }\n    }');return(0,Ot.m1)(t)},nr=function(){return(0,Ot.m1)("mutation{\n        logout{\n            token\n        }\n    }")},rr=function(e){var t='mutation{\n        resetPassword(\n          email:"'.concat(e.email,'",\n          password:"').concat(e.password,'",\n          confirmNewPassword:"').concat(e.confirmNewPassword,'"\n          ){\n            token\n        }\n    }');return(0,Ot.m1)(t)},ir=function(e){var t,n,r='mutation{\n        register(\n          input:{\n            id: "'.concat(Mt(),'",\n            first_name:"').concat(e.first_name,'",\n            auth:"').concat(e.auth,'",\n            last_name:"').concat(e.last_name,'",\n            email:"').concat(e.email,'",\n            password:"').concat(e.password,'",\n            confirm_password:"').concat(e.confirm_password,'",\n            role:"').concat(null===(t=e.role)||void 0===t?void 0:t.id,'",\n            condition:"').concat(null===(n=e.condition)||void 0===n?void 0:n.id,'"\n          }\n          ){\n            token\n        }\n    }');return console.log(r),(0,Ot.m1)(r)},or=n(31955),sr=bt().mark(mr),ar=bt().mark(pr),cr=bt().mark(dr),ur=bt().mark(fr),lr=bt().mark(hr);function hr(e){var t,n,r,i,o,s,a;return bt().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=4,re(tr,e.payload);case 4:if(r=c.sent,null===(t=r.data)||void 0===t||null===(n=t.login)||void 0===n?void 0:n.token){c.next=10;break}return c.next=8,te(We.vA.loginFailure("credentials not found or invalid"));case 8:c.next=15;break;case 10:return c.next=13,te(We.vA.loginSuccess(null===(i=r.data)||void 0===i||null===(o=i.login)||void 0===o?void 0:o.token));case 13:or.Z.set("token",null===(s=r.data)||void 0===s||null===(a=s.login)||void 0===a?void 0:a.token,{expires:7}),window.location.href="/page/home";case 15:c.next=21;break;case 17:return c.prev=17,c.t0=c.catch(0),c.next=21,te(We.vA.loginFailure("".concat(c.t0)));case 21:case"end":return c.stop()}}),lr,null,[[0,17]])}function fr(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(nr);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,or.Z.remove("token"),window.location.href="/auth/login",e.finish(7);case 11:case"end":return e.stop()}}),ur,null,[[0,5,7,11]])}function dr(e){var t,n,r;return bt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=4,re(ir,e.payload);case 4:if(r=i.sent,null===(t=r.data)||void 0===t||null===(n=t.register)||void 0===n?void 0:n.token){i.next=10;break}return i.next=8,te(yt.ul.actionUserFailure("credentials not found or invalid"));case 8:i.next=13;break;case 10:return i.next=12,te(yt.ul.addUserSuccess());case 12:window.location.reload();case 13:i.next=19;break;case 15:return i.prev=15,i.t0=i.catch(0),i.next=19,te(yt.ul.actionUserFailure("".concat(i.t0)));case 19:case"end":return i.stop()}}),cr,null,[[0,15]])}function pr(e){var t,n,r;return bt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=4,te(yt.ul.activePasswordAction());case 4:return i.next=6,re(rr,e.payload);case 6:if(r=i.sent,null===(t=r.data)||void 0===t||null===(n=t.updatePassword)||void 0===n?void 0:n.token){i.next=12;break}return i.next=10,te(yt.ul.passwordFailed("credentials not found or invalid"));case 10:i.next=14;break;case 12:return i.next=14,te(yt.ul.passwordSuccess());case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(0),i.next=20,te(yt.ul.passwordFailed("".concat(i.t0)));case 20:case"end":return i.stop()}}),ar,null,[[0,16]])}function mr(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(We.J0.LOGIN,hr);case 2:return e.next=4,kt(We.J0.LOGOUT,fr);case 4:return e.next=6,kt(yt.pY.ADD_ITEM,dr);case 6:return e.next=8,kt(yt.pY.UPDATE_PASSWORD,pr);case 8:case"end":return e.stop()}}),sr)}var yr=function(e){var t,n,r='mutation{\n        createPayment(input:{\n            id: "'.concat(Mt(),'",\n            is_completed:').concat(e.is_completed,'\n            token:"').concat(e.token,'"\n            gateway:"').concat(e.gateway,'"\n            job:{connect:').concat(null===(t=e.job)||void 0===t?void 0:t.id,'}\n            user:"{connect:').concat(null===(n=e.user)||void 0===n?void 0:n.id,'}"\n        }){\n            id\n            user{\n                id\n                email\n            }\n            job{\n                id\n            }\n            token\n            is_completed\n            gateway\n        }\n    }');return(0,Ot.m1)(r)},gr=function(e){var t,n,r='mutation{\n          createPayment(id:"'.concat(e.id,'", input:{\n            id: "').concat(Mt(),'",\n            is_completed:').concat(e.is_completed,'\n            token:"').concat(e.token,'"\n            gateway:"').concat(e.gateway,'"\n            job:{connect:').concat(null===(t=e.job)||void 0===t?void 0:t.id,'}\n            user:"{connect:').concat(null===(n=e.user)||void 0===n?void 0:n.id,'}"\n          }){\n            id\n            user{\n                id\n                email\n            }\n            job{\n                id\n            }\n            token\n            is_completed\n            gateway\n          }\n      }');return(0,Ot.m1)(r)},vr=function(e){var t='mutation{\n            deletePayment(id:"'.concat(e.id,'"){\n                id\n                user{\n                    id\n                    email\n                }\n                job{\n                    id\n                }\n                token\n                is_completed\n                gateway\n            }\n        }');return(0,Ot.m1)(t)},br="payment/GET_PAYMENT_LIST",_r="payment/GET_PAYMENT",wr=function(e){return{type:"payment/ADD_PAYMENT_FAILURE",error:e}},Er=function(){return{type:br}},Tr=function(e){return{type:"payment/GET_PAYMENT_LIST_FAILURE",error:e}},Sr=function(e){return{type:"payment/UPDATE_PAYMENT_FAILURE",error:e}},kr=function(e){return{type:"payment/DELETE_PAYMENT_FAILURE",error:e}},Ir=function(e){return{type:_r,data:e}},Or=function(e){return{type:"payment/GET_PAYMENT_FAILURE",error:e}},Cr=bt().mark(Ur),xr=bt().mark(Fr),Ar=bt().mark(jr),Dr=bt().mark(Lr),Nr=bt().mark(Mr),Pr=bt().mark(Rr);function Rr(){var e,t,n,r;return bt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=4,re(Er);case 4:if(t=i.sent,!(null===(e=t.data)||void 0===e?void 0:e.hasOwnProperty("errors"))&&!t.hasOwnProperty("errors")){i.next=11;break}return i.next=9,te(Tr((null===(n=t.data)||void 0===n?void 0:n.errors)||t.errors));case 9:i.next=14;break;case 11:return i.next=14,te({type:"payment/GET_PAYMENT_LIST_SUCCESS",data:null===(r=t.data)||void 0===r?void 0:r.payments});case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(0),i.next=20,te(Tr("".concat(i.t0)));case 20:case"end":return i.stop()}}),Pr,null,[[0,16]])}function Mr(e){var t,n,r,i;return bt().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=4,re(Ir,e.data);case 4:if(n=o.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){o.next=11;break}return o.next=9,te(Or((null===(r=n.data)||void 0===r?void 0:r.errors)||n.errors));case 9:o.next=14;break;case 11:return o.next=14,te({type:"payment/GET_PAYMENT_SUCCESS",data:null===(i=n.data)||void 0===i?void 0:i.payments});case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(0),o.next=20,te(Or("".concat(o.t0)));case 20:case"end":return o.stop()}}),Nr,null,[[0,16]])}function Lr(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(yr,e.data);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(wr(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te({type:"payment/ADD_PAYMENT_SUCCESS",data:n.data.Payment});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(wr(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),Dr,null,[[0,14]])}function jr(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(gr,e.data);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(Sr(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te({type:"payment/UPDATE_PAYMENT_SUCCESS",data:n.data.Payment});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(Sr(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),Ar,null,[[0,14]])}function Fr(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(vr,e.data);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(kr(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te({type:"payment/DELETE_PAYMENT_SUCCESS",id:n.data.Payment});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(kr(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),xr,null,[[0,14]])}function Ur(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(_r,Mr);case 2:return e.next=4,kt(br,Rr);case 4:return e.next=6,kt("payment/ADD_PAYMENT",Lr);case 6:return e.next=8,kt("payment/UPDATE_PAYMENT",jr);case 8:return e.next=10,kt("payment/DELETE_PAYMENT",Fr);case 10:case"end":return e.stop()}}),Cr)}var Vr=function(e){var t='mutation{\n        createRole(input:{\n            id: "'.concat(Mt(),'",\n            name:"').concat(e.name,'",\n            value:').concat(e.value,"\n        }){\n            id\n            name\n            value\n            created_at\n        }\n    }");return(0,Ot.m1)(t)},qr=function(e){var t='mutation{\n          updateRole(input:{\n            id:"'.concat(e.id,'", \n            name:"').concat(e.name,'",\n            value:').concat(e.value,"\n          }){\n            id\n            name\n            value\n            created_at\n          }\n      }");return(0,Ot.m1)(t)},Br=bt().mark(Kr),$r=bt().mark(Qr),zr=bt().mark(Gr);function Gr(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Vr,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(dt._1.actionRoleFailed(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(dt._1.addRoleSuccess(n.data.createRole));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(dt._1.actionRoleFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),zr,null,[[0,14]])}function Qr(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(qr,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(dt._1.actionRoleFailed(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(dt._1.updateRoleSuccess(n.data.updateRole));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(dt._1.actionRoleFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),$r,null,[[0,14]])}function Kr(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(dt.zo.ADD_ITEM,Gr);case 2:return e.next=4,kt(dt.zo.UPDATE_ITEM,Qr);case 4:case"end":return e.stop()}}),Br)}var Wr=n(31304),Hr=function(e){var t,n='mutation{\n        createService(input:{\n            id: "'.concat(Mt(),'"\n            name:"').concat(e.name,'"\n            name_fr:"').concat(e.name_fr,'"\n            description:"').concat(e.description,'"\n            image:"').concat(e.image,'"\n            slug:"').concat(Wr("".concat(e.name)),'"\n            slug_fr:"').concat(Wr("".concat(e.name_fr)),'"\n            condition:{connect:"').concat(null===(t=e.condition)||void 0===t?void 0:t.id,'"}\n        }){\n            id\n            name\n            name_fr\n            slug\n            slug_fr\n            description\n            image\n            categories{\n              id\n              name\n            }\n            condition{\n              id\n              name\n              value\n            }\n            created_at\n        }\n    }');return(0,Ot.m1)(n)},Yr=function(e){var t,n='mutation{\n          updateService(input:{\n            id:"'.concat(e.id,'", \n            name:"').concat(e.name,'"\n            name_fr:"').concat(e.name_fr,'"\n            description:"').concat(e.description,'"\n            image:"').concat(e.image,'"\n            slug:"').concat(Wr("".concat(e.name)),'"\n            slug_fr:"').concat(Wr("".concat(e.name_fr)),'"\n            condition:{connect:"').concat(null===(t=e.condition)||void 0===t?void 0:t.id,'"}\n          }){\n            id\n            name\n            name_fr\n            slug\n            slug_fr\n            description\n            categories{\n              id\n              name\n            }\n            condition{\n              id\n              name\n              value\n            }\n            image\n            created_at\n          }\n      }');return(0,Ot.m1)(n)},Jr=bt().mark(ni),Zr=bt().mark(ti),Xr=bt().mark(ei);function ei(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Hr,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(pt._r.actionServiceFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(pt._r.addServiceSuccess(n.data.createService));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(pt._r.actionServiceFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),Xr,null,[[0,14]])}function ti(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(Yr,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(pt._r.actionServiceFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(pt._r.updateServiceSuccess(n.data.updateService));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(pt._r.actionServiceFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),Zr,null,[[0,14]])}function ni(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(pt.VZ.ADD_ITEM,ei);case 2:return e.next=4,kt(pt.VZ.UPDATE_ITEM,ti);case 4:case"end":return e.stop()}}),Jr)}var ri=function(e){var t,n,r,i='mutation{\n        createTask(input:{\n            id: "'.concat(Mt(),'",\n            name:"').concat(e.name,'"\n            description:"').concat(e.description,'"\n            image:"').concat(e.image,'"\n            can_be_booked:').concat(e.can_be_booked,"\n            can_be_urgent:").concat(e.can_be_urgent,"\n            accept_offer:").concat(e.accept_offer,"\n            price_by_hour:").concat(e.price_by_hour,"\n            min_price:").concat(e.min_price||0,'\n            category:{connect:"').concat(null===(t=e.category)||void 0===t?void 0:t.id,'"}\n            condition:{connect:"').concat(null===(n=e.condition)||void 0===n?void 0:n.id,'"}\n            user:{connect:"').concat(null===(r=e.user)||void 0===r?void 0:r.id,'"}\n        }){\n            id\n            name\n            description\n            image\n            can_be_booked\n            can_be_urgent\n            accept_offer\n            price_by_hour\n            min_price\n            category{\n                id\n                name\n            }\n            condition{\n                id\n                name\n            }\n            user{\n                id\n                email\n            }\n            created_at\n        }\n    }');return(0,Ot.m1)(i)},ii=function(e){var t,n,r,i='mutation{\n          updateTask(input:{\n              id:"'.concat(e.id,'"\n              name:"').concat(e.name,'"\n              description:"').concat(e.description,'"\n              image:"').concat(e.image,'"\n              can_be_booked:').concat(e.can_be_booked,"\n              can_be_urgent:").concat(e.can_be_urgent,"\n              accept_offer:").concat(e.accept_offer,"\n              min_price:").concat(e.min_price,"\n              price_by_hour:").concat(e.price_by_hour,'\n              category:{connect:"').concat(null===(t=e.category)||void 0===t?void 0:t.id,'"}\n              condition:{connect:"').concat(null===(n=e.condition)||void 0===n?void 0:n.id,'"}\n              user:{connect:"').concat(null===(r=e.user)||void 0===r?void 0:r.id,'"}\n          }){\n              id\n              name\n              description\n              image\n              can_be_booked\n              can_be_urgent\n              accept_offer\n              min_price\n              price_by_hour\n              category{\n                  id\n                  name\n              }\n              condition{\n                  id\n                  name\n                  value\n              }\n              user{\n                  id\n                  email\n              }\n              created_at\n          }\n      }');return(0,Ot.m1)(i)},oi=bt().mark(li),si=bt().mark(ui),ai=bt().mark(ci);function ci(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(ri,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(mt.mE.actionTaskFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(mt.mE.addTaskSuccess(n.data.createTask));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(mt.mE.actionTaskFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),ai,null,[[0,14]])}function ui(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(ii,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(mt.mE.actionTaskFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(mt.mE.updateTaskSuccess(n.data.updateTask));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(0),r.next=18,te(mt.mE.actionTaskFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 18:case"end":return r.stop()}}),si,null,[[0,14]])}function li(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(mt.XY.ADD_ITEM,ci);case 2:return e.next=4,kt(mt.XY.UPDATE_ITEM,ui);case 4:case"end":return e.stop()}}),oi)}var hi=function(e){var t,n,r,i,o,s,a='mutation{\n          updateUser(input:{\n              id:"'.concat(e.id,'", \n              ').concat(e.first_name?'first_name:"'.concat(e.first_name,'"'):"","\n              ").concat(e.last_name?'last_name:"'.concat(e.last_name,'"'):"","\n              ").concat(e.avatar?'avatar:"'.concat(e.avatar,'"'):"","\n              ").concat(e.street?'street:"'.concat(e.street,'"'):"","\n              ").concat(e.mobile?'mobile:"'.concat(e.mobile,'"'):"","\n              ").concat(e.certificate?'certificate:"'.concat(e.certificate,'"'):"","\n              ").concat(e.bio?'bio:"'.concat(e.bio,'"'):"","\n              ").concat(e.zip_code?'zip_code:"'.concat(e.zip_code,'"'):"","\n              ").concat(e.url?'url:"'.concat(e.url,'"'):"","\n              ").concat((null===(t=e.city)||void 0===t?void 0:t.id)?'city:{connect:"'.concat(null===(n=e.city)||void 0===n?void 0:n.id,'"}'):"","\n              ").concat((null===(r=e.role)||void 0===r?void 0:r.id)?'role:{connect:"'.concat(null===(i=e.role)||void 0===i?void 0:i.id,'"}'):"","\n              ").concat((null===(o=e.condition)||void 0===o?void 0:o.id)?'condition:{connect:"'.concat(null===(s=e.condition)||void 0===s?void 0:s.id,'"}'):"","\n              \n          }){\n            id\n            first_name\n            last_name\n            email\n            avatar\n            street\n            mobile\n            certificate\n            bio\n            zip_code\n            url\n            role{\n                id\n                name\n                value\n            }\n            condition{\n                id\n                name\n                value\n            }\n            city{\n                id\n                name\n                country{\n                    id\n                    name\n                }\n            }\n            created_at\n            updated_at\n          }\n      }");return console.log("req",a),(0,Ot.m1)(a)},fi=bt().mark(mi),di=bt().mark(pi);function pi(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,re(hi,e.payload);case 4:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=10;break}return r.next=8,te(yt.ul.actionUserFailure(n.errors));case 8:r.next=12;break;case 10:return r.next=12,te(yt.ul.updateUserSuccess(n.data.updateUser));case 12:r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(0),console.error(r.t0),r.next=19,te(yt.ul.actionUserFailure(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 19:case"end":return r.stop()}}),di,null,[[0,14]])}function mi(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(yt.pY.UPDATE_ITEM,pi);case 2:case"end":return e.stop()}}),fi)}var yi=function(e){var t='mutation{\n        createQuestion(input:{\n            id: "'.concat(Mt(),'",\n            image:"').concat(e.image,'",\n            content:"').concat(e.content,'",\n            condition: {connect:"').concat(e.condition.id,'"}\n            user:{connect:"').concat(e.user.id,'"}\n            ').concat(e.category?'category:{connect:"'.concat(e.category.id,'"}'):"","\n            ").concat(e.service?'service:{connect:"'.concat(e.service.id,'"}'):"","\n        }){\n            id\n            image\n            content\n            condition{\n                id\n                name\n                value\n            }\n            category{\n                id\n                name\n            }\n            service{\n                id\n                name\n            }\n            replies{\n                id\n                content\n                image\n                user{\n                    id\n                    first_name\n                    last_name\n                }\n            }\n            likes{\n                id\n                user{\n                    id\n                    first_name\n                    last_name\n                }\n            }\n            user{\n                id\n                first_name\n                last_name\n                avatar\n            }\n            created_at\n        }\n    }");return(0,Ot.m1)(t)},gi=function(e){var t='mutation{\n          updateQuestion(input:{\n              id: "'.concat(e.id,'",\n              condition: {connect:"').concat(e.condition.id,'"}\n          }){\n              id\n              image\n              content\n              condition{\n                  id\n                  name\n                  value\n              }\n              category{\n                  id\n                  name\n              }\n              service{\n                  id\n                  name\n              }\n              replies{\n                  id\n                  content\n                  image\n                  user{\n                      id\n                      first_name\n                      last_name\n                  }\n              }\n              like{\n                  id\n                  user{\n                      id\n                      first_name\n                      last_name\n                  }\n              }\n              user{\n                  id\n                  first_name\n                  last_name\n                  avatar\n              }\n              created_at\n          }\n      }');return(0,Ot.m1)(t)},vi=function(e){var t,n,r='mutation{\n          createReply(input:{\n              id: "'.concat(Mt(),'",\n              image:"').concat(e.image,'",\n              content:"').concat(e.content,'",\n              user:{connect:"').concat(null===(t=e.user)||void 0===t?void 0:t.id,'"}\n              question:{connect:"').concat(null===(n=e.question)||void 0===n?void 0:n.id,'"}\n          }){\n              id\n              image\n              content\n              likes{\n                  id\n                  user{\n                      id\n                      first_name\n                      last_name\n                  }\n              }\n              user{\n                  id\n                  first_name\n                  last_name\n                  avatar\n              }\n              created_at\n          }\n      }');return(0,Ot.m1)(r)},bi=function(e){var t='mutation{\n            deleteQuestion(id:"'.concat(e.id,'"){\n                id\n            }\n        }');return(0,Ot.m1)(t)},_i=function(e){var t='mutation{\n              deleteReply(id:"'.concat(e.id,'"){\n                  id\n              }\n          }');return(0,Ot.m1)(t)},wi=bt().mark(Di),Ei=bt().mark(Ai),Ti=bt().mark((function(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,te(tt.dg.activeForumAction());case 4:return r.next=6,re(_i,e.payload);case 6:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=12;break}return r.next=10,te(tt.dg.actionForumFailed(n.errors));case 10:r.next=13;break;case 12:window.location.reload();case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(0),r.next=19,te(tt.dg.actionForumFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 19:case"end":return r.stop()}}),Ti,null,[[0,15]])})),Si=bt().mark(xi),ki=bt().mark(Ci),Ii=bt().mark(Oi);function Oi(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,te(tt.dg.activeForumAction());case 4:return r.next=6,re(yi,e.payload);case 6:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=12;break}return r.next=10,te(tt.dg.actionForumFailed(n.errors));case 10:r.next=14;break;case 12:return r.next=14,te(tt.dg.addForumSuccess(n.data.createQuestion));case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,te(tt.dg.actionForumFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 20:case"end":return r.stop()}}),Ii,null,[[0,16]])}function Ci(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,te(tt.dg.activeForumAction());case 4:return r.next=6,re(gi,e.payload);case 6:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=12;break}return r.next=10,te(tt.dg.actionForumFailed(n.errors));case 10:r.next=14;break;case 12:return r.next=14,te(tt.dg.addForumSuccess(n.data.updateQuestion));case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,te(tt.dg.actionForumFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 20:case"end":return r.stop()}}),ki,null,[[0,16]])}function xi(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,te(tt.dg.activeForumAction());case 4:return r.next=6,re(vi,e.payload);case 6:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=12;break}return r.next=10,te(tt.dg.actionForumFailed(n.errors));case 10:r.next=14;break;case 12:return r.next=14,te(tt.dg.addReplySuccess(n.data.createReply));case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,te(tt.dg.actionForumFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 20:case"end":return r.stop()}}),Si,null,[[0,16]])}function Ai(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,te(tt.dg.activeForumAction());case 4:return r.next=6,re(bi,e.payload);case 6:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=12;break}return r.next=10,te(tt.dg.actionForumFailed(n.errors));case 10:r.next=14;break;case 12:return r.next=14,te(tt.dg.deleteReplySuccess(n.data.deleteReply));case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,te(tt.dg.actionForumFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 20:case"end":return r.stop()}}),Ei,null,[[0,16]])}function Di(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(tt.gG.ADD_ITEM,Oi);case 2:return e.next=4,kt(tt.gG.UPDATE_ITEM,Ci);case 4:return e.next=6,kt(tt.gG.DELETE_ITEM,Ai);case 6:return e.next=8,kt(tt.Qv.ADD_ITEM,xi);case 8:return e.next=10,kt(tt.Qv.DELETE_ITEM,Ai);case 10:case"end":return e.stop()}}),wi)}var Ni=n(32238),Pi=n(8463),Ri=n(74444),Mi=n(53333),Li=n(83454);const ji="@firebase/database",Fi="0.13.2";let Ui="";class Vi{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,Ri.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,Ri.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class qi{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,Ri.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Bi=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Vi(t)}}catch(t){}return new qi},$i=Bi("localStorage"),zi=Bi("sessionStorage"),Gi=new Mi.Yd("@firebase/database"),Qi=function(){let e=1;return function(){return e++}}(),Ki=function(e){const t=(0,Ri.dS)(e),n=new Ri.gQ;n.update(t);const r=n.digest();return Ri.US.encodeByteArray(r)},Wi=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=Wi.apply(null,r):t+="object"===typeof r?(0,Ri.Pz)(r):r,t+=" "}return t};let Hi=null,Yi=!0;const Ji=function(e,t){(0,Ri.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Gi.logLevel=Mi.in.VERBOSE,Hi=Gi.log.bind(Gi),t&&zi.set("logging_enabled",!0)):"function"===typeof e?Hi=e:(Hi=null,zi.remove("logging_enabled"))},Zi=function(...e){if(!0===Yi&&(Yi=!1,null===Hi&&!0===zi.get("logging_enabled")&&Ji(!0)),Hi){const t=Wi.apply(null,e);Hi(t)}},Xi=function(e){return function(...t){Zi(e,...t)}},eo=function(...e){const t="FIREBASE INTERNAL ERROR: "+Wi(...e);Gi.error(t)},to=function(...e){const t=`FIREBASE FATAL ERROR: ${Wi(...e)}`;throw Gi.error(t),new Error(t)},no=function(...e){const t="FIREBASE WARNING: "+Wi(...e);Gi.warn(t)},ro=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},io="[MIN_NAME]",oo="[MAX_NAME]",so=function(e,t){if(e===t)return 0;if(e===io||t===oo)return-1;if(t===io||e===oo)return 1;{const n=go(e),r=go(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},ao=function(e,t){return e===t?0:e<t?-1:1},co=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,Ri.Pz)(t))},uo=function(e){if("object"!==typeof e||null===e)return(0,Ri.Pz)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,Ri.Pz)(t[r]),n+=":",n+=uo(e[t[r]]);return n+="}",n},lo=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ho(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const fo=function(e){(0,Ri.hu)(!ro(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const c=a.join("");let u="";for(s=0;s<64;s+=8){let e=parseInt(c.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const po=new RegExp("^-?(0*)\\d{1,10}$"),mo=-2147483648,yo=2147483647,go=function(e){if(po.test(e)){const t=Number(e);if(t>=mo&&t<=yo)return t}return null},vo=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw no("Exception was thrown by user callback.",e),t}),Math.floor(0))}},bo=function(e,t){const n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n};class _o{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){no(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wo{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Zi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',no(e)}}class Eo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Eo.OWNER="owner";const To="5",So=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ko="websocket",Io="long_polling";class Oo{constructor(e,t,n,r,i=!1,o="",s=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$i.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$i.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Co(e,t,n){let r;if((0,Ri.hu)("string"===typeof t,"typeof type must == string"),(0,Ri.hu)("object"===typeof n,"typeof params must == object"),t===ko)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Io)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return ho(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class xo{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,Ri.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,Ri.p$)(this.counters_)}}const Ao={},Do={};function No(e){const t=e.toString();return Ao[t]||(Ao[t]=new xo),Ao[t]}class Po{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&vo((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Ro="start";class Mo{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xi(e),this.stats_=No(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),Co(t,Io,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Po(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,Ri.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lo(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Ro)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=To,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&So.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mo.forceAllow_=!0}static forceDisallow(){Mo.forceDisallow_=!0}static isAvailable(){return!(0,Ri.Yr)()&&(!!Mo.forceAllow_||!Mo.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,Ri.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,Ri.h$)(t),r=lo(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,Ri.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,Ri.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Lo{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Ri.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Qi(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Lo.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Zi("frame writing exception"),i.stack&&Zi(i.stack),Zi(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Zi("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){(0,Ri.Yr)()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Zi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let jo=null;"undefined"!==typeof MozWebSocket?jo=MozWebSocket:"undefined"!==typeof WebSocket&&(jo=WebSocket);class Fo{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xi(this.connId),this.stats_=No(t),this.connURL=Fo.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=To,!(0,Ri.Yr)()&&"undefined"!==typeof location&&location.hostname&&So.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),i&&(o.p=i),Co(e,ko,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$i.set("previous_websocket_failure",!0);try{let e;if((0,Ri.Yr)()){const e=this.nodeAdmin?"AdminNode":"Node",t={headers:{"User-Agent":`Firebase/5/${Ui}/${Li.platform}/${e}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(t.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n=Li.env,r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(t.proxy={origin:r})}this.mySock=new jo(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Fo.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==jo&&!Fo.forceDisallow_}static previouslyFailed(){return $i.isInMemoryStorage||!0===$i.get("previous_websocket_failure")}markConnectionHealthy(){$i.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,Ri.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Ri.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,Ri.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=lo(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fo.responsesRequiredToBeHealthy=2,Fo.healthyTimeout=3e4;class Uo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Mo,Fo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Fo&&Fo.isAvailable();let n=t&&!Fo.previouslyFailed();if(e.webSocketOnly&&(t||no("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Fo];else{const e=this.transports_=[];for(const t of Uo.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Uo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Uo.globalTransportInitialized_=!1;class Vo{constructor(e,t,n,r,i,o,s,a,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xi("c:"+this.id+":"),this.transportManager_=new Uo(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=bo((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=co("t",e),n=co("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=co("t",e),n=co("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=co("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?eo("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eo("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),To!==n&&no("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),bo((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bo((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class qo{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Bo{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,Ri.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){(0,Ri.hu)(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class $o extends Bo{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,Ri.uI)()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new $o}getInitialEvent(e){return(0,Ri.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class zo{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Go(){return new zo("")}function Qo(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ko(e){return e.pieces_.length-e.pieceNum_}function Wo(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new zo(e.pieces_,t)}function Ho(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Yo(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Jo(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new zo(t,0)}function Zo(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof zo)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new zo(n,0)}function Xo(e){return e.pieceNum_>=e.pieces_.length}function es(e,t){const n=Qo(e),r=Qo(t);if(null===n)return t;if(n===r)return es(Wo(e),Wo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ts(e,t){if(Ko(e)!==Ko(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ns(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ko(e)>Ko(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class rs{constructor(e,t){this.errorPrefix_=t,this.parts_=Yo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,Ri.ug)(this.parts_[n]);is(this)}}function is(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+os(e))}function os(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class ss extends Bo{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new ss}getInitialEvent(e){return(0,Ri.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const as=1e3;class cs extends qo{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=cs.nextPersistentConnectionId_++,this.log_=Xi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=as,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!(0,Ri.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ss.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&$o.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,Ri.Pz)(i)),(0,Ri.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ri.BH,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_||setTimeout((()=>{const e=this.outstandingGets_[r];void 0!==e&&n===e&&(delete this.outstandingGets_[r],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+r+" timed out on connection"),t.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),(0,Ri.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Ri.hu)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;cs.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&(0,Ri.r3)(e,"w")){const n=(0,Ri.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();no(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Ri.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,Ri.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,Ri.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Ri.Pz)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):eo("Unrecognized action received from server: "+(0,Ri.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Ri.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=as,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=as,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=as),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+cs.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},c=function(e){(0,Ri.hu)(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,c]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Zi("getToken() completed but was canceled"):(Zi("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=c&&c.token,s=new Vo(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{no(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(eo){this.log_("Failed to get token: "+eo),o||(this.repoInfo_.nodeAdmin&&no(eo),a())}}}interrupt(e){Zi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Ri.xb)(this.interruptReasons_)&&(this.reconnectDelay_=as,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>uo(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new zo(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Zi("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Zi("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,Ri.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ui.replace(/\./g,"-")]=1,(0,Ri.uI)()?e["framework.cordova"]=1:(0,Ri.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$o.getInstance().currentlyOnline();return(0,Ri.xb)(this.interruptReasons_)&&e}}cs.nextPersistentConnectionId_=0,cs.nextConnectionId_=0;class us{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new us(e,t)}}class ls{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new us(io,e),r=new us(io,t);return 0!==this.compare(n,r)}minPost(){return us.MIN}}let hs;class fs extends ls{static get __EMPTY_NODE(){return hs}static set __EMPTY_NODE(e){hs=e}compare(e,t){return so(e.name,t.name)}isDefinedOn(e){throw(0,Ri.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return us.MIN}maxPost(){return new us(oo,hs)}makePost(e,t){return(0,Ri.hu)("string"===typeof e,"KeyIndex indexValue must always be a string."),new us(e,hs)}toString(){return".key"}}const ds=new fs;class ps{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ms{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ms.RED,this.left=null!=r?r:ys.EMPTY_NODE,this.right=null!=i?i:ys.EMPTY_NODE}copy(e,t,n,r,i){return new ms(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ys.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ys.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ms.RED=!0,ms.BLACK=!1;class ys{constructor(e,t=ys.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ys(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ms.BLACK,null,null))}remove(e){return new ys(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ms.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ps(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ps(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ps(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ps(this.root_,null,this.comparator_,!0,e)}}function gs(e,t){return so(e.name,t.name)}function vs(e,t){return so(e,t)}let bs;ys.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new ms(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _s=function(e){return"number"===typeof e?"number:"+fo(e):"string:"+e},ws=function(e){if(e.isLeafNode()){const t=e.val();(0,Ri.hu)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,Ri.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Ri.hu)(e===bs||e.isEmpty(),"priority of unexpected type.");(0,Ri.hu)(e===bs||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Es,Ts,Ss;class ks{constructor(e,t=ks.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,Ri.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ws(this.priorityNode_)}static set __childrenNodeConstructor(e){Es=e}static get __childrenNodeConstructor(){return Es}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ks(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:ks.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xo(e)?this:".priority"===Qo(e)?this.priorityNode_:ks.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:ks.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Qo(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,Ri.hu)(".priority"!==n||1===Ko(e),".priority must be the last token in a path"),this.updateImmediateChild(n,ks.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wo(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_s(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?fo(this.value_):this.value_,this.lazyHash_=Ki(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ks.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ks.__childrenNodeConstructor?-1:((0,Ri.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=ks.VALUE_TYPE_ORDER.indexOf(t),i=ks.VALUE_TYPE_ORDER.indexOf(n);return(0,Ri.hu)(r>=0,"Unknown leaf type: "+t),(0,Ri.hu)(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}ks.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Is=new class extends ls{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?so(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return us.MIN}maxPost(){return new us(oo,new ks("[PRIORITY-POST]",Ss))}makePost(e,t){const n=Ts(e);return new us(t,new ks("[PRIORITY-POST]",n))}toString(){return".priority"}},Os=Math.log(2);class Cs{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Os,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xs=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new ms(a,s.node,ms.BLACK,null,null);{const c=parseInt(o/2,10)+t,u=i(t,c),l=i(c+1,r);return s=e[c],a=n?n(s):s,new ms(a,s.node,ms.BLACK,u,l)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const u=i(o+1,a),l=e[o],h=n?n(l):l;c(new ms(h,l.node,r,null,u))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,ms.BLACK):(a(r,ms.BLACK),a(r,ms.RED))}return o}(new Cs(e.length));return new ys(r||t,o)};let As;const Ds={};class Ns{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,Ri.hu)(Ds&&Is,"ChildrenNode.ts has not been loaded"),As=As||new Ns({".priority":Ds},{".priority":Is}),As}get(e){const t=(0,Ri.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ys?t:null}hasIndex(e){return(0,Ri.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,Ri.hu)(e!==ds,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(us.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?xs(n,e.getCompare()):Ds;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=o,new Ns(u,c)}addToIndexes(e,t){const n=(0,Ri.UI)(this.indexes_,((n,r)=>{const i=(0,Ri.DV)(this.indexSet_,r);if((0,Ri.hu)(i,"Missing index implementation for "+r),n===Ds){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(us.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),xs(n,i.getCompare())}return Ds}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new us(e.name,r))),i.insert(e,e.node)}}));return new Ns(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,Ri.UI)(this.indexes_,(n=>{if(n===Ds)return n;{const r=t.get(e.name);return r?n.remove(new us(e.name,r)):n}}));return new Ns(n,this.indexSet_)}}let Ps;class Rs{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ws(this.priorityNode_),this.children_.isEmpty()&&(0,Ri.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ps||(Ps=new Rs(new ys(vs),null,Ns.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ps}updatePriority(e){return this.children_.isEmpty()?this:new Rs(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ps:t}}getChild(e){const t=Qo(e);return null===t?this:this.getImmediateChild(t).getChild(Wo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,Ri.hu)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new us(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Ps:this.priorityNode_;return new Rs(r,o,i)}}updateChild(e,t){const n=Qo(e);if(null===n)return t;{(0,Ri.hu)(".priority"!==Qo(e)||1===Ko(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Wo(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Is,((o,s)=>{t[o]=s.val(e),n++,i&&Rs.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+_s(this.getPriority().val())+":"),this.forEachChild(Is,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Ki(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new us(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new us(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new us(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,us.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,us.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ms?-1:0}withIndex(e){if(e===ds||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Rs(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ds||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Is),n=t.getIterator(Is);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===ds?null:this.indexMap_.get(e.toString())}}Rs.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Ms=new class extends Rs{constructor(){super(new ys(vs),Rs.EMPTY_NODE,Ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Rs.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(us,{MIN:{value:new us(io,Rs.EMPTY_NODE)},MAX:{value:new us(oo,Ms)}}),fs.__EMPTY_NODE=Rs.EMPTY_NODE,ks.__childrenNodeConstructor=Rs,bs=Ms,function(e){Ss=e}(Ms);function Ls(e,t=null){if(null===e)return Rs.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,Ri.hu)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new ks(e,Ls(t))}if(e instanceof Array){let n=Rs.EMPTY_NODE;return ho(e,((t,r)=>{if((0,Ri.r3)(e,t)&&"."!==t.substring(0,1)){const e=Ls(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Ls(t))}{const n=[];let r=!1;if(ho(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Ls(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new us(e,i)))}})),0===n.length)return Rs.EMPTY_NODE;const i=xs(n,gs,(e=>e.name),vs);if(r){const e=xs(n,Is.getCompare());return new Rs(i,Ls(t),new Ns({".priority":e},{".priority":Is}))}return new Rs(i,Ls(t),Ns.Default)}}!function(e){Ts=e}(Ls);class js extends ls{constructor(e){super(),this.indexPath_=e,(0,Ri.hu)(!Xo(e)&&".priority"!==Qo(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?so(e.name,t.name):i}makePost(e,t){const n=Ls(e),r=Rs.EMPTY_NODE.updateChild(this.indexPath_,n);return new us(t,r)}maxPost(){const e=Rs.EMPTY_NODE.updateChild(this.indexPath_,Ms);return new us(oo,e)}toString(){return Yo(this.indexPath_,0).join("/")}}const Fs=new class extends ls{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?so(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return us.MIN}maxPost(){return us.MAX}makePost(e,t){const n=Ls(e);return new us(t,n)}toString(){return".value"}},Us="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();function Vs(e){return{type:"value",snapshotNode:e}}function qs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Bs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function $s(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class zs{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Is}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Ri.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Ri.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:io}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Ri.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Ri.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Ri.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Is}copy(){const e=new zs;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Gs(e){const t={};if(e.isDefault())return t;let n;return e.index_===Is?n="$priority":e.index_===Fs?n="$value":e.index_===ds?n="$key":((0,Ri.hu)(e.index_ instanceof js,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,Ri.Pz)(n),e.startSet_&&(t.startAt=(0,Ri.Pz)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+(0,Ri.Pz)(e.indexStartName_))),e.endSet_&&(t.endAt=(0,Ri.Pz)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+(0,Ri.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Qs(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Is&&(t.i=e.index_.toString()),t}class Ks extends qo{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Xi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,Ri.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Ks.getListenId_(e,n),s={};this.listens_[o]=s;const a=Gs(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),(0,Ri.DV)(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Ks.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Gs(e._queryParams),n=e._path.toString(),r=new Ri.BH;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,Ri.xO)(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let t=null;if(s.status>=200&&s.status<300){try{t=(0,Ri.cI)(s.responseText)}catch(e){no("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&no("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()}))}}class Ws{constructor(){this.rootNode_=Rs.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Hs(){return{value:null,children:new Map}}function Ys(e,t,n){if(Xo(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Qo(t);e.children.has(r)||e.children.set(r,Hs());Ys(e.children.get(r),t=Wo(t),n)}}function Js(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Js(r,new zo(t.toString()+"/"+e),n)}))}class Zs{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ho(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Xs{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Zs(e);const n=1e4+2e4*Math.random();bo(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;ho(e,((e,r)=>{r>0&&(0,Ri.r3)(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),bo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ea;function ta(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ea||(ea={}));class na{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ea.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Xo(this.path)){if(null!=this.affectedTree.value)return(0,Ri.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new zo(e));return new na(Go(),t,this.revert)}}return(0,Ri.hu)(Qo(this.path)===e,"operationForChild called for unrelated child."),new na(Wo(this.path),this.affectedTree,this.revert)}}class ra{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ea.OVERWRITE}operationForChild(e){return Xo(this.path)?new ra(this.source,Go(),this.snap.getImmediateChild(e)):new ra(this.source,Wo(this.path),this.snap)}}class ia{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ea.MERGE}operationForChild(e){if(Xo(this.path)){const t=this.children.subtree(new zo(e));return t.isEmpty()?null:t.value?new ra(this.source,Go(),t.value):new ia(this.source,Go(),t)}return(0,Ri.hu)(Qo(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ia(this.source,Wo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class oa{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xo(e))return this.isFullyInitialized()&&!this.filtered_;const t=Qo(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function sa(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,Ri.g5)("Should only compare child_ events.");const r=new us(t.childName,t.snapshotNode),i=new us(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function aa(e,t){return{eventCache:e,serverCache:t}}function ca(e,t,n,r){return aa(new oa(t,n,r),e.serverCache)}function ua(e,t,n,r){return aa(e.eventCache,new oa(t,n,r))}function la(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ha(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let fa;class da{constructor(e,t=(()=>(fa||(fa=new ys(ao)),fa))()){this.value=e,this.children=t}static fromObject(e){let t=new da(null);return ho(e,((e,n)=>{t=t.set(new zo(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Go(),value:this.value};if(Xo(e))return null;{const n=Qo(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Wo(e),t);if(null!=i){return{path:Zo(new zo(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Xo(e))return this;{const t=Qo(e),n=this.children.get(t);return null!==n?n.subtree(Wo(e)):new da(null)}}set(e,t){if(Xo(e))return new da(t,this.children);{const n=Qo(e),r=(this.children.get(n)||new da(null)).set(Wo(e),t),i=this.children.insert(n,r);return new da(this.value,i)}}remove(e){if(Xo(e))return this.children.isEmpty()?new da(null):new da(null,this.children);{const t=Qo(e),n=this.children.get(t);if(n){const r=n.remove(Wo(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new da(null):new da(this.value,i)}return this}}get(e){if(Xo(e))return this.value;{const t=Qo(e),n=this.children.get(t);return n?n.get(Wo(e)):null}}setTree(e,t){if(Xo(e))return t;{const n=Qo(e),r=(this.children.get(n)||new da(null)).setTree(Wo(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new da(this.value,i)}}fold(e){return this.fold_(Go(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Zo(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Go(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Xo(e))return null;{const r=Qo(e),i=this.children.get(r);return i?i.findOnPath_(Wo(e),Zo(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Go(),t)}foreachOnPath_(e,t,n){if(Xo(e))return this;{this.value&&n(t,this.value);const r=Qo(e),i=this.children.get(r);return i?i.foreachOnPath_(Wo(e),Zo(t,r),n):new da(null)}}foreach(e){this.foreach_(Go(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Zo(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class pa{constructor(e){this.writeTree_=e}static empty(){return new pa(new da(null))}}function ma(e,t,n){if(Xo(t))return new pa(new da(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=es(i,t);return o=o.updateChild(s,n),new pa(e.writeTree_.set(i,o))}{const r=new da(n),i=e.writeTree_.setTree(t,r);return new pa(i)}}}function ya(e,t,n){let r=e;return ho(n,((e,n)=>{r=ma(r,Zo(t,e),n)})),r}function ga(e,t){if(Xo(t))return pa.empty();{const n=e.writeTree_.setTree(t,new da(null));return new pa(n)}}function va(e,t){return null!=ba(e,t)}function ba(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(es(n.path,t)):null}function _a(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Is,((e,n)=>{t.push(new us(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new us(e,n.value))})),t}function wa(e,t){if(Xo(t))return e;{const n=ba(e,t);return new pa(null!=n?new da(n):e.writeTree_.subtree(t))}}function Ea(e){return e.writeTree_.isEmpty()}function Ta(e,t){return Sa(Go(),e.writeTree_,t)}function Sa(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?((0,Ri.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Sa(Zo(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Zo(e,".priority"),r)),n}}function ka(e,t){return Fa(t,e)}function Ia(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));(0,Ri.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Oa(t,r.path)?i=!1:ns(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=xa(e.allWrites,Ca,Go()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=ga(e.visibleWrites,r.path);else{ho(r.children,(t=>{e.visibleWrites=ga(e.visibleWrites,Zo(r.path,t))}))}return!0}return!1}function Oa(e,t){if(e.snap)return ns(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ns(Zo(e.path,n),t))return!0;return!1}function Ca(e){return e.visible}function xa(e,t,n){let r=pa.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)ns(n,e)?(t=es(n,e),r=ma(r,t,o.snap)):ns(e,n)&&(t=es(e,n),r=ma(r,Go(),o.snap.getChild(t)));else{if(!o.children)throw(0,Ri.g5)("WriteRecord should have .snap or .children");if(ns(n,e))t=es(n,e),r=ya(r,t,o.children);else if(ns(e,n))if(t=es(e,n),Xo(t))r=ya(r,Go(),o.children);else{const e=(0,Ri.DV)(o.children,Qo(t));if(e){const n=e.getChild(Wo(t));r=ma(r,Go(),n)}}}}}return r}function Aa(e,t,n,r,i){if(r||i){const o=wa(e.visibleWrites,t);if(!i&&Ea(o))return n;if(i||null!=n||va(o,Go())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ns(e.path,t)||ns(t,e.path))};return Ta(xa(e.allWrites,o,t),n||Rs.EMPTY_NODE)}return null}{const r=ba(e.visibleWrites,t);if(null!=r)return r;{const r=wa(e.visibleWrites,t);if(Ea(r))return n;if(null!=n||va(r,Go())){return Ta(r,n||Rs.EMPTY_NODE)}return null}}}function Da(e,t,n,r){return Aa(e.writeTree,e.treePath,t,n,r)}function Na(e,t){return function(e,t,n){let r=Rs.EMPTY_NODE;const i=ba(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Is,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=wa(e.visibleWrites,t);return n.forEachChild(Is,((e,t)=>{const n=Ta(wa(i,new zo(e)),t);r=r.updateImmediateChild(e,n)})),_a(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return _a(wa(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Pa(e,t,n,r){return function(e,t,n,r,i){(0,Ri.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Zo(t,n);if(va(e.visibleWrites,o))return null;{const t=wa(e.visibleWrites,o);return Ea(t)?i.getChild(n):Ta(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Ra(e,t){return function(e,t){return ba(e.visibleWrites,t)}(e.writeTree,Zo(e.treePath,t))}function Ma(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const c=wa(e.visibleWrites,t),u=ba(c,Go());if(null!=u)a=u;else{if(null==n)return[];a=Ta(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let c=n.getNext();for(;c&&e.length<i;)0!==t(c,r)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function La(e,t,n){return function(e,t,n,r){const i=Zo(t,n),o=ba(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return Ta(wa(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function ja(e,t){return Fa(Zo(e.treePath,t),e.writeTree)}function Fa(e,t){return{treePath:e,writeTree:t}}class Ua{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,Ri.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,Ri.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,$s(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Bs(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,qs(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,Ri.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,$s(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Va=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class qa{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new oa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return La(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ha(this.viewCache_),i=Ma(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Ba(e,t,n,r,i){const o=new Ua;let s,a;if(n.type===ea.OVERWRITE){const c=n;c.source.fromUser?s=Ga(e,t,c.path,c.snap,r,i,o):((0,Ri.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Xo(c.path),s=za(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===ea.MERGE){const c=n;c.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,c)=>{const u=Zo(n,r);Qa(t,Qo(u))&&(a=Ga(e,a,u,c,i,o,s))})),r.foreach(((r,c)=>{const u=Zo(n,r);Qa(t,Qo(u))||(a=Ga(e,a,u,c,i,o,s))})),a}(e,t,c.path,c.children,r,i,o):((0,Ri.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Wa(e,t,c.path,c.children,r,i,a,o))}else if(n.type===ea.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=Ra(r,n))return t;{const a=new qa(r,t,i),c=t.eventCache.getNode();let u;if(Xo(n)||".priority"===Qo(n)){let n;if(t.serverCache.isFullyInitialized())n=Da(r,ha(t));else{const e=t.serverCache.getNode();(0,Ri.hu)(e instanceof Rs,"serverChildren would be complete if leaf node"),n=Na(r,e)}n=n,u=e.filter.updateFullNode(c,n,o)}else{const i=Qo(n);let l=La(r,i,t.serverCache);null==l&&t.serverCache.isCompleteForChild(i)&&(l=c.getImmediateChild(i)),u=null!=l?e.filter.updateChild(c,i,l,Wo(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,Rs.EMPTY_NODE,Wo(n),a,o):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Da(r,ha(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Ra(r,Go()),ca(t,u,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=Ra(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(Xo(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return za(e,t,n,c.getNode().getChild(n),i,o,a,s);if(Xo(n)){let r=new da(null);return c.getNode().forEachChild(ds,((e,t)=>{r=r.set(new zo(e),t)})),Wa(e,t,n,r,i,o,a,s)}return t}{let u=new da(null);return r.foreach(((e,t)=>{const r=Zo(n,e);c.isCompleteForPath(r)&&(u=u.set(e,c.getNode().getChild(r)))})),Wa(e,t,n,u,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==ea.LISTEN_COMPLETE)throw(0,Ri.g5)("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=ua(t,o.getNode(),o.isFullyInitialized()||Xo(n),o.isFiltered());return $a(e,s,n,r,Va,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=la(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Vs(la(t)))}}(t,s,c),{viewCache:s,changes:c}}function $a(e,t,n,r,i,o){const s=t.eventCache;if(null!=Ra(r,n))return t;{let a,c;if(Xo(n))if((0,Ri.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=ha(t),i=Na(r,n instanceof Rs?n:Rs.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Da(r,ha(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const u=Qo(n);if(".priority"===u){(0,Ri.hu)(1===Ko(n),"Can't have a priority with additional path components");const i=s.getNode();c=t.serverCache.getNode();const o=Pa(r,n,i,c);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const l=Wo(n);let h;if(s.isCompleteForChild(u)){c=t.serverCache.getNode();const e=Pa(r,n,s.getNode(),c);h=null!=e?s.getNode().getImmediateChild(u).updateChild(l,e):s.getNode().getImmediateChild(u)}else h=La(r,u,t.serverCache);a=null!=h?e.filter.updateChild(s.getNode(),u,h,l,i,o):s.getNode()}}return ca(t,a,s.isFullyInitialized()||Xo(n),e.filter.filtersNodes())}}function za(e,t,n,r,i,o,s,a){const c=t.serverCache;let u;const l=s?e.filter:e.filter.getIndexedFilter();if(Xo(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),e,null)}else{const e=Qo(n);if(!c.isCompleteForPath(n)&&Ko(n)>1)return t;const i=Wo(n),o=c.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?l.updatePriority(c.getNode(),o):l.updateChild(c.getNode(),e,o,i,Va,null)}const h=ua(t,u,c.isFullyInitialized()||Xo(n),l.filtersNodes());return $a(e,h,n,i,new qa(i,h,o),a)}function Ga(e,t,n,r,i,o,s){const a=t.eventCache;let c,u;const l=new qa(i,t,o);if(Xo(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=ca(t,u,!0,e.filter.filtersNodes());else{const i=Qo(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),c=ca(t,u,a.isFullyInitialized(),a.isFiltered());else{const o=Wo(n),u=a.getNode().getImmediateChild(i);let h;if(Xo(o))h=r;else{const e=l.getCompleteChild(i);h=null!=e?".priority"===Ho(o)&&e.getChild(Jo(o)).isEmpty()?e:e.updateChild(o,r):Rs.EMPTY_NODE}if(u.equals(h))c=t;else{c=ca(t,e.filter.updateChild(a.getNode(),i,h,o,l,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function Qa(e,t){return e.eventCache.isCompleteForChild(t)}function Ka(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Wa(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,u=t;c=Xo(n)?r:new da(null).setTree(n,r);const l=t.serverCache.getNode();return c.children.inorderTraversal(((n,r)=>{if(l.hasChild(n)){const c=Ka(0,t.serverCache.getNode().getImmediateChild(n),r);u=za(e,u,new zo(n),c,i,o,s,a)}})),c.children.inorderTraversal(((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!c){const c=Ka(0,t.serverCache.getNode().getImmediateChild(n),r);u=za(e,u,new zo(n),c,i,o,s,a)}})),u}function Ha(e,t){const n=ha(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Xo(t)&&!n.getImmediateChild(Qo(t)).isEmpty())?n.getChild(t):null}function Ya(e,t,n,r){t.type===ea.MERGE&&null!==t.source.queryId&&((0,Ri.hu)(ha(e.viewCache_),"We should always have a full cache before handling merges"),(0,Ri.hu)(la(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=Ba(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,(0,Ri.hu)(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),(0,Ri.hu)(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),(0,Ri.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Ja(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Ja(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),sa(e,i,"child_removed",t,r,n),sa(e,i,"child_added",t,r,n),sa(e,i,"child_moved",o,r,n),sa(e,i,"child_changed",t,r,n),sa(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Za,Xa;function ec(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return(0,Ri.hu)(null!=o,"SyncTree gave us an op for an invalid query."),Ya(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(Ya(o,t,n,r));return i}}function tc(e,t){let n=null;for(const r of e.views.values())n=n||Ha(r,t);return n}class nc{constructor(e){this.listenProvider_=e,this.syncPointTree_=new da(null),this.pendingWriteTree_={visibleWrites:pa.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rc(e,t,n,r,i){return function(e,t,n,r,i){(0,Ri.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ma(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?cc(e,new ra({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ic(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Ia(e.pendingWriteTree_,t)){let t=new da(null);return null!=r.snap?t=t.set(Go(),!0):ho(r.children,(e=>{t=t.set(new zo(e),!0)})),cc(e,new na(r.path,t,n))}return[]}function oc(e,t,n){return cc(e,new ra({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function sc(e,t,n,r){const i=hc(e,r);if(null!=i){const r=fc(i),o=r.path,s=r.queryId,a=es(o,t);return dc(e,o,new ra(ta(s),a,n))}return[]}function ac(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=tc(n,es(e,t));if(r)return r}));return Aa(r,t,i,n,!0)}function cc(e,t){return uc(t,e.syncPointTree_,null,ka(e.pendingWriteTree_,Go()))}function uc(e,t,n,r){if(Xo(e.path))return lc(e,t,n,r);{const i=t.get(Go());null==n&&null!=i&&(n=tc(i,Go()));let o=[];const s=Qo(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const e=n?n.getImmediateChild(s):null,t=ja(r,s);o=o.concat(uc(a,c,e,t))}return i&&(o=o.concat(ec(i,e,r,n))),o}}function lc(e,t,n,r){const i=t.get(Go());null==n&&null!=i&&(n=tc(i,Go()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=ja(r,t),c=e.operationForChild(t);c&&(o=o.concat(lc(c,i,s,a)))})),i&&(o=o.concat(ec(i,e,r,n))),o}function hc(e,t){return e.tagToQueryMap.get(t)}function fc(e){const t=e.indexOf("$");return(0,Ri.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new zo(e.substr(0,t))}}function dc(e,t,n){const r=e.syncPointTree_.get(t);(0,Ri.hu)(r,"Missing sync point for query tag that we're tracking");return ec(r,n,ka(e.pendingWriteTree_,t),null)}class pc{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new pc(t)}node(){return this.node_}}class mc{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Zo(this.path_,e);return new mc(this.syncTree_,t)}node(){return ac(this.syncTree_,this.path_)}}const yc=function(e,t,n){return e&&"object"===typeof e?((0,Ri.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?gc(e[".sv"],t,n):"object"===typeof e[".sv"]?vc(e[".sv"],t):void(0,Ri.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},gc=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,Ri.hu)(!1,"Unexpected server value: "+e)},vc=function(e,t,n){e.hasOwnProperty("increment")||(0,Ri.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&(0,Ri.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,Ri.hu)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},bc=function(e,t,n,r){return wc(t,new mc(n,e),r)},_c=function(e,t,n){return wc(e,new pc(t),n)};function wc(e,t,n){const r=e.getPriority().val(),i=yc(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=yc(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new ks(o,Ls(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new ks(i))),r.forEachChild(Is,((e,r)=>{const i=wc(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class Ec{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Tc(e,t){let n=t instanceof zo?t:new zo(t),r=e,i=Qo(n);for(;null!==i;){const e=(0,Ri.DV)(r.node.children,i)||{children:{},childCount:0};r=new Ec(i,r,e),n=Wo(n),i=Qo(n)}return r}function Sc(e){return e.node.value}function kc(e,t){e.node.value=t,Ac(e)}function Ic(e){return e.node.childCount>0}function Oc(e,t){ho(e.node.children,((n,r)=>{t(new Ec(n,e,r))}))}function Cc(e,t,n,r){n&&!r&&t(e),Oc(e,(e=>{Cc(e,t,!0,r)})),n&&r&&t(e)}function xc(e){return new zo(null===e.parent?e.name:xc(e.parent)+"/"+e.name)}function Ac(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Sc(e)&&!Ic(e)}(n),i=(0,Ri.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Ac(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Ac(e))}(e.parent,e.name,e)}const Dc=/[\[\].#$\/\u0000-\u001F\u007F]/,Nc=/[\[\].#$\u0000-\u001F\u007F]/,Pc=10485760,Rc=function(e){return"string"===typeof e&&0!==e.length&&!Dc.test(e)},Mc=function(e){return"string"===typeof e&&0!==e.length&&!Nc.test(e)},Lc=function(e,t,n,r){r&&void 0===t||jc((0,Ri.gK)(e,"value"),t,n)},jc=function(e,t,n){const r=n instanceof zo?new rs(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+os(r));if("function"===typeof t)throw new Error(e+"contains a function "+os(r)+" with contents = "+t.toString());if(ro(t))throw new Error(e+"contains "+t.toString()+" "+os(r));if("string"===typeof t&&t.length>Pc/3&&(0,Ri.ug)(t)>Pc)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+os(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(ho(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Rc(t)))throw new Error(e+" contains an invalid key ("+t+") "+os(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,Ri.ug)(t),is(e)}(r,t),jc(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,Ri.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+os(r)+" in addition to actual children.")}},Fc=function(e,t,n,r){if((!r||void 0!==n)&&!Mc(n))throw new Error((0,Ri.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Uc=function(e,t){if(".info"===Qo(t))throw new Error(e+" failed = Can't modify data under /.info/")},Vc=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Rc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Mc(e)}(n))throw new Error((0,Ri.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bc(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||ts(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function $c(e,t,n){Bc(e,n),zc(e,(e=>ns(e,t)||ns(t,e)))}function zc(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Gc(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Gc(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Hi&&Zi("event: "+n.toString()),vo(r)}}}const Qc="repo_interrupt";class Kc{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hs(),this.transactionQueueTree_=new Ec,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Wc(e,t,n){if(e.stats_=No(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ks(e.repoInfo_,((t,n,r,i)=>{Jc(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Zc(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Ri.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new cs(e.repoInfo_,t,((t,n,r,i)=>{Jc(e,t,n,r,i)}),(t=>{Zc(e,t)}),(t=>{!function(e,t){ho(t,((t,n)=>{Xc(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Do[n]||(Do[n]=t()),Do[n]}(e.repoInfo_,(()=>new Xs(e.stats_,e.server_))),e.infoData_=new Ws,e.infoSyncTree_=new nc({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=oc(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Xc(e,"connected",!1),e.serverSyncTree_=new nc({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);$c(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Hc(e){const t=e.infoData_.getNode(new zo(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Yc(e){return(t=(t={timestamp:Hc(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Jc(e,t,n,r,i){e.dataUpdateCount++;const o=new zo(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=(0,Ri.UI)(n,(e=>Ls(e)));s=function(e,t,n,r){const i=hc(e,r);if(i){const r=fc(i),o=r.path,s=r.queryId,a=es(o,t),c=da.fromObject(n);return dc(e,o,new ia(ta(s),a,c))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Ls(n);s=sc(e.serverSyncTree_,o,t,i)}else if(r){const t=(0,Ri.UI)(n,(e=>Ls(e)));s=function(e,t,n){const r=da.fromObject(n);return cc(e,new ia({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Ls(n);s=oc(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=au(e,o)),$c(e.eventQueue_,a,s)}function Zc(e,t){Xc(e,"connected",t),!1===t&&function(e){ru(e,"onDisconnectEvents");const t=Yc(e),n=Hs();Js(e.onDisconnect_,Go(),((r,i)=>{const o=bc(r,i,e.serverSyncTree_,t);Ys(n,r,o)}));let r=[];Js(n,Go(),((t,n)=>{r=r.concat(oc(e.serverSyncTree_,t,n));const i=fu(e,t);au(e,i)})),e.onDisconnect_=Hs(),$c(e.eventQueue_,Go(),r)}(e)}function Xc(e,t,n){const r=new zo("/.info/"+t),i=Ls(n);e.infoData_.updateSnapshot(r,i);const o=oc(e.infoSyncTree_,r,i);$c(e.eventQueue_,r,o)}function eu(e){return e.nextWriteId_++}function tu(e,t,n,r,i){ru(e,"set",{path:t.toString(),value:n,priority:r});const o=Yc(e),s=Ls(n,r),a=ac(e.serverSyncTree_,t),c=_c(s,a,o),u=eu(e),l=rc(e.serverSyncTree_,t,c,u,!0);Bc(e.eventQueue_,l),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||no("set at "+t+" failed: "+n);const s=ic(e.serverSyncTree_,u,!o);$c(e.eventQueue_,t,s),iu(e,i,n,r)}));const h=fu(e,t);au(e,h),$c(e.eventQueue_,h,[])}function nu(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Qc)}function ru(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Zi(n,...t)}function iu(e,t,n,r){t&&vo((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function ou(e,t,n){return ac(e.serverSyncTree_,t,n)||Rs.EMPTY_NODE}function su(e,t=e.transactionQueueTree_){if(t||hu(e,t),Sc(t)){const n=uu(e,t);(0,Ri.hu)(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=ou(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const e=n[u];(0,Ri.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=es(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,(r=>{ru(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ic(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();hu(e,Tc(e.transactionQueueTree_,t)),su(e,e.transactionQueueTree_),$c(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)vo(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{no("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}au(e,t)}}),s)}(e,xc(t),n)}else Ic(t)&&Oc(t,(t=>{su(e,t)}))}function au(e,t){const n=cu(e,t),r=xc(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)).map((e=>e.currentWriteId));for(let a=0;a<t.length;a++){const c=t[a],u=es(n,c.path);let l,h=!1;if((0,Ri.hu)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,l=c.abortReason,i=i.concat(ic(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,l="maxretry",i=i.concat(ic(e.serverSyncTree_,c.currentWriteId,!0));else{const n=ou(e,c.path,o);c.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){jc("transaction failed: Data returned ",r,c.path);let t=Ls(r);"object"===typeof r&&null!=r&&(0,Ri.r3)(r,".priority")||(t=t.updatePriority(n.getPriority()));const s=c.currentWriteId,a=Yc(e),u=_c(t,n,a);c.currentOutputSnapshotRaw=t,c.currentOutputSnapshotResolved=u,c.currentWriteId=eu(e),o.splice(o.indexOf(s),1),i=i.concat(rc(e.serverSyncTree_,c.path,u,c.currentWriteId,c.applyLocally)),i=i.concat(ic(e.serverSyncTree_,s,!0))}else h=!0,l="nodata",i=i.concat(ic(e.serverSyncTree_,c.currentWriteId,!0))}$c(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===l?r.push((()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot))):r.push((()=>t[a].onComplete(new Error(l),!1,null)))))}var s;hu(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)vo(r[a]);su(e,e.transactionQueueTree_)}(e,uu(e,n),r),r}function cu(e,t){let n,r=e.transactionQueueTree_;for(n=Qo(t);null!==n&&void 0===Sc(r);)r=Tc(r,n),n=Qo(t=Wo(t));return r}function uu(e,t){const n=[];return lu(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function lu(e,t,n){const r=Sc(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Oc(t,(t=>{lu(e,t,n)}))}function hu(e,t){const n=Sc(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,kc(t,n.length>0?n:void 0)}Oc(t,(t=>{hu(e,t)}))}function fu(e,t){const n=xc(cu(e,t)),r=Tc(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{du(e,t)})),du(e,r),Cc(r,(t=>{du(e,t)})),n}function du(e,t){const n=Sc(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,Ri.hu)(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):((0,Ri.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ic(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?kc(t,void 0):n.length=o+1,$c(e.eventQueue_,xc(t),i);for(let e=0;e<r.length;e++)vo(r[e])}}const pu=function(e,t){const n=mu(e),r=n.namespace;"firebase.com"===n.domain&&to(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||to("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&no("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Oo(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new zo(n.pathString)}},mu=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"===typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let l=e.indexOf("/");-1===l&&(l=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(l,h)));const f=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):no(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(u+1),10)):u=t.length;const d=t.slice(0,u);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class yu{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Xo(this._path)?null:Ho(this._path)}get ref(){return new gu(this._repo,this._path)}get _queryIdentifier(){const e=Qs(this._queryParams),t=uo(e);return"{}"===t?"default":t}get _queryObject(){return Qs(this._queryParams)}isEqual(e){if(!((e=(0,Ri.m9)(e))instanceof yu))return!1;const t=this._repo===e._repo,n=ts(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class gu extends yu{constructor(e,t){super(e,t,new zs,!1)}get parent(){const e=Jo(this._path);return null===e?null:new gu(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}function vu(e,t){return(e=(0,Ri.m9)(e))._checkNotDeleted("ref"),void 0!==t?bu(e._root,t):e._root}function bu(e,t){var n,r,i,o;return null===Qo((e=(0,Ri.m9)(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Fc(n,r,i,o)):Fc("child","path",t,!1),new gu(e._repo,Zo(e._path,t))}function _u(e,t){e=(0,Ri.m9)(e),Uc("set",e._path),Lc("set",t,e._path,!1);const n=new Ri.BH;return tu(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}!function(e){(0,Ri.hu)(!Za,"__referenceConstructor has already been defined"),Za=e}(gu),function(e){(0,Ri.hu)(!Xa,"__referenceConstructor has already been defined"),Xa=e}(gu);const wu={};let Eu=!1;function Tu(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||to("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zi("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,c=pu(o,i),u=c.repoInfo;"undefined"!==typeof Li&&Li.env&&(a=Li.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o=`http://${a}?ns=${u.namespace}`,c=pu(o,i),u=c.repoInfo):s=!c.repoInfo.secure;const l=i&&s?new Eo(Eo.OWNER):new wo(e.name,e.options,t);Vc("Invalid Firebase Database URL",c),Xo(c.path)||to("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=wu[t.name];i||(i={},wu[t.name]=i);let o=i[e.toURLString()];o&&to("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Kc(e,Eu,n,r),i[e.toURLString()]=o,o}(u,e,l,new _o(e.name,n));return new Su(h,e)}class Su{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Wc(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gu(this._repo,Go())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=wu[t];n&&n[e.key]===e||to(`Database ${t}(${e.repoInfo_}) has already been deleted.`),nu(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&to("Cannot call "+e+" on a deleted database.")}}cs.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},cs.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ku;!function(e){Ui=e}(Ni.Jn),(0,Ni.Xd)(new Pi.wA("database",((e,{instanceIdentifier:t})=>Tu(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),(0,Ni.KN)(ji,Fi,ku),(0,Ni.KN)(ji,Fi,"esm2017");var Iu=n(25321),Ou=function(e){_u(vu(function(e=(0,Ni.Mq)(),t){return(0,Ni.qX)(e,"database").getImmediate({identifier:t})}(),"rooms"),{created_at:Date.now(),updated_at:Date.now(),deleted_from:!1,deleted_to:!1,from:e.from,to:e.to,last_message:"...",users:[e.from.id,e.from.to]})},Cu=function(e){var t,n={created_at:Iu.EK.fromDate(new Date),content:e.content,room:e.room,user:null===(t=e.user)||void 0===t?void 0:t.id};(0,Iu.ET)((0,Iu.hJ)(Ph,"messages"),n)},xu=bt().mark(Ru),Au=bt().mark(Pu),Du=bt().mark(Nu);function Nu(e){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,re(Ou,e.payload);case 3:t.next=10;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,te(Ye.Lx.actionChatFailed(null===t.t0||void 0===t.t0?void 0:t.t0.toString()));case 9:console.error(t.t0);case 10:case"end":return t.stop()}}),Du,null,[[0,5]])}function Pu(e){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,re(Cu,e.payload);case 3:t.next=10;break;case 5:return t.prev=5,t.t0=t.catch(0),t.next=9,te(Ye.Lx.actionChatFailed(null===t.t0||void 0===t.t0?void 0:t.t0.toString()));case 9:console.error(t.t0);case 10:case"end":return t.stop()}}),Au,null,[[0,5]])}function Ru(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(Ye.ZZ.ADD_ITEM,Nu);case 2:return e.next=4,kt(Ye.ZZ.UPDATE_ITEM,Pu);case 4:case"end":return e.stop()}}),xu)}var Mu=function(e){var t='mutation{\n        createPage(input:{\n            id: "'.concat(Mt(),'",\n            title:"').concat(e.title,'",\n            image:"').concat(e.image,'",\n            content:"').concat(e.content,'",\n            label:"').concat(e.label,'",\n            value:"').concat(e.value,'",\n            link:"').concat(e.link,'",\n        }){\n            id\n            title\n            value\n            image\n            content\n            label\n            link\n            created_at\n        }\n    }');return(0,Ot.m1)(t)},Lu=function(e){var t='mutation{\n          updatePage(input:{\n              id: "'.concat(e.id,'",\n              title:"').concat(e.title,'",\n              image:"').concat(e.image,'",\n              content:"').concat(e.content,'",\n              label:"').concat(e.label,'",\n              value:"').concat(e.value,'",\n              link:"').concat(e.link,'",\n          }){\n              id\n              title\n              value\n              image\n              content\n              label\n              link\n              created_at\n          }\n      }');return(0,Ot.m1)(t)},ju=function(e){var t='mutation{\n              deletePage(id:"'.concat(e.id,'"){\n                  id\n              }\n          }');return(0,Ot.m1)(t)},Fu=bt().mark(Gu),Uu=bt().mark(zu),Vu=bt().mark($u),qu=bt().mark(Bu);function Bu(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,te(Xe.sT.activeContentAction());case 4:return r.next=6,re(Mu,e.payload);case 6:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=12;break}return r.next=10,te(Xe.sT.actionContentFailed(n.errors));case 10:r.next=14;break;case 12:return r.next=14,te(Xe.sT.addContentSuccess(n.data.createPage));case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,te(Xe.sT.actionContentFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 20:case"end":return r.stop()}}),qu,null,[[0,16]])}function $u(e){var t,n;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,te(Xe.sT.activeContentAction());case 4:return r.next=6,re(Lu,e.payload);case 6:if(n=r.sent,!(null===(t=n.data)||void 0===t?void 0:t.hasOwnProperty("errors"))&&!n.hasOwnProperty("errors")){r.next=12;break}return r.next=10,te(Xe.sT.actionContentFailed(n.errors));case 10:r.next=14;break;case 12:return r.next=14,te(Xe.sT.updateContentSuccess(n.data.updatePage));case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,te(Xe.sT.actionContentFailed(null===r.t0||void 0===r.t0?void 0:r.t0.toString()));case 20:case"end":return r.stop()}}),Vu,null,[[0,16]])}function zu(e){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,re(ju,e.payload);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:return t.prev=8,window.location.href="/page/content",t.finish(8);case 11:case"end":return t.stop()}}),Uu,null,[[0,5,8,11]])}function Gu(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(Xe.K5.ADD_ITEM,Bu);case 2:return e.next=4,kt(Xe.K5.UPDATE_ITEM,$u);case 4:return e.next=6,kt(Xe.K5.DELETE_ITEM,zu);case 6:case"end":return e.stop()}}),Fu)}var Qu=bt().mark(Ku);function Ku(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(mr);case 2:return e.next=4,ie(Tn);case 4:return e.next=6,ie(li);case 6:return e.next=8,ie($t);case 8:return e.next=10,ie(mi);case 10:return e.next=12,ie(ni);case 12:return e.next=14,ie(Jt);case 14:return e.next=16,ie(pn);case 16:return e.next=18,ie(sn);case 18:return e.next=20,ie(er);case 20:return e.next=22,ie(Ur);case 22:return e.next=24,ie(Kr);case 24:return e.next=26,ie(mi);case 26:return e.next=28,ie(An);case 28:return e.next=30,ie(Di);case 30:return e.next=32,ie(Ru);case 32:return e.next=34,ie(Gu);case 34:case"end":return e.stop()}}),Qu)}var Wu=Ge(),Hu=(0,i.xC)({reducer:gt,middleware:function(e){return e({thunk:!1}).concat(Wu)}});Wu.run(Ku);var Yu=Hu,Ju=n(67294),Zu=n(44819),Xu=n(56760);var el="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var tl=function(e){const{children:t,theme:n}=e,i=(0,Xu.Z)(),o=Ju.useMemo((()=>{const e=null===i?n:function(e,t){if("function"===typeof t)return t(e);return(0,g.Z)({},e,t)}(i,n);return null!=e&&(e[el]=null!==i),e}),[n,i]);return(0,r.jsx)(Zu.Z.Provider,{value:o,children:t})},nl=n(54880),rl=n(96682);function il(e){const t=(0,rl.Z)();return(0,r.jsx)(nl.T.Provider,{value:"object"===typeof t?t:{},children:e.children})}var ol=function(e){const{children:t,theme:n}=e;return(0,r.jsx)(tl,{theme:n,children:(0,r.jsx)(il,{children:t})})},sl=(0,n(21919).Z)({palette:{primary:{main:"#323D54"},secondary:{main:"#fff"},background:{default:"#F7F9FB"},info:{main:"#454A96"},error:{main:"#C72C30"},warning:{main:"#f7941f"},success:{main:"#17B06D"}},typography:{fontFamily:"Inter, arial",h1:{fontSize:"6rem"}}}),al=n(25617),cl=n(19252),ul=n(18634),ll=n(30320).aS?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";var hl=function(e){var t=e.client,n=e.children,r=function(){var e=Ju.createContext[ll];return e||(Object.defineProperty(Ju.createContext,ll,{value:e=Ju.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}();return Ju.createElement(r.Consumer,null,(function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),__DEV__?(0,ul.kG)(e.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):(0,ul.kG)(e.client,26),Ju.createElement(r.Provider,{value:e},n)}))};(0,Ni.KN)("firebase","9.8.4","app");var fl=n(26531);const dl="@firebase/installations",pl="0.5.11",ml=1e4,yl="w:0.5.11",gl="FIS_v2",vl=36e5,bl={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_l=new Ri.LL("installations","Installations",bl);function wl(e){return e instanceof Ri.ZR&&e.code.includes("request-failed")}function El({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Tl(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Sl(e,t){const n=(await t.json()).error;return _l.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function kl({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Il(e,{refreshToken:t}){const n=kl(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}async function Ol(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Cl(e){return new Promise((t=>{setTimeout(t,e)}))}const xl=/^[cdef][\w-]{21}$/;function Al(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return xl.test(t)?t:""}catch(e){return""}}function Dl(e){return`${e.appName}!${e.appId}`}const Nl=new Map;function Pl(e,t){const n=Dl(e);Rl(n,t),function(e,t){const n=Ll();n&&n.postMessage({key:e,fid:t});jl()}(n,t)}function Rl(e,t){const n=Nl.get(e);if(n)for(const r of n)r(t)}let Ml=null;function Ll(){return!Ml&&"BroadcastChannel"in self&&(Ml=new BroadcastChannel("[Firebase] FID Change"),Ml.onmessage=e=>{Rl(e.data.key,e.data.fid)}),Ml}function jl(){0===Nl.size&&Ml&&(Ml.close(),Ml=null)}const Fl="firebase-installations-store";let Ul=null;function Vl(){return Ul||(Ul=(0,fl.X3)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Fl)}})),Ul}async function ql(e,t){const n=Dl(e),r=(await Vl()).transaction(Fl,"readwrite"),i=r.objectStore(Fl),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Pl(e,t.fid),t}async function Bl(e){const t=Dl(e),n=(await Vl()).transaction(Fl,"readwrite");await n.objectStore(Fl).delete(t),await n.done}async function $l(e,t){const n=Dl(e),r=(await Vl()).transaction(Fl,"readwrite"),i=r.objectStore(Fl),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||Pl(e,s.fid),s}async function zl(e){let t;const n=await $l(e.appConfig,(n=>{const r=function(e){return Kl(e||{fid:Al(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(_l.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=El(e),i=kl(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={fid:n,authVersion:gl,appId:e.appId,sdkVersion:yl},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await Ol((()=>fetch(r,a)));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Tl(e.authToken)}}throw await Sl("Create Installation",c)}(e,t);return ql(e.appConfig,n)}catch(n){throw wl(n)&&409===n.customData.serverCode?await Bl(e.appConfig):await ql(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Gl(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Gl(e){let t=await Ql(e.appConfig);for(;1===t.registrationStatus;)await Cl(100),t=await Ql(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await zl(e);return n||t}return t}function Ql(e){return $l(e,(e=>{if(!e)throw _l.create("installation-not-found");return Kl(e)}))}function Kl(e){return 1===(t=e).registrationStatus&&t.registrationTime+ml<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Wl({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${El(e)}/${t}/authTokens:generate`}(e,n),i=Il(e,n),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:yl,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await Ol((()=>fetch(r,a)));if(c.ok){return Tl(await c.json())}throw await Sl("Generate Auth Token",c)}async function Hl(e,t=!1){let n;const r=await $l(e.appConfig,(r=>{if(!Jl(r))throw _l.create("not-registered");const i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+vl}(e)}(i))return r;if(1===i.requestStatus)return n=async function(e,t){let n=await Yl(e.appConfig);for(;1===n.authToken.requestStatus;)await Cl(100),n=await Yl(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Hl(e,t):r}(e,t),r;{if(!navigator.onLine)throw _l.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Wl(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await ql(e.appConfig,r),n}catch(n){if(!wl(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ql(e.appConfig,n)}else await Bl(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function Yl(e){return $l(e,(e=>{if(!Jl(e))throw _l.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ml<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Jl(e){return void 0!==e&&2===e.registrationStatus}async function Zl(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await zl(e);t&&await t}(n);return(await Hl(n,t)).token}function Xl(e){return _l.create("missing-app-config-values",{valueName:e})}const eh="installations",th=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Xl("App Configuration");if(!e.name)throw Xl("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Xl(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,Ni.qX)(t,"heartbeat"),_delete:()=>Promise.resolve()}},nh=e=>{const t=e.getProvider("app").getImmediate(),n=(0,Ni.qX)(t,eh).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await zl(t);return r?r.catch(console.error):Hl(t).catch(console.error),n.fid}(n),getToken:e=>Zl(n,e)}};(0,Ni.Xd)(new Pi.wA(eh,th,"PUBLIC")),(0,Ni.Xd)(new Pi.wA("installations-internal",nh,"PRIVATE")),(0,Ni.KN)(dl,pl),(0,Ni.KN)(dl,pl,"esm2017");const rh="analytics",ih="https://www.googletagmanager.com/gtag/js",oh=new Mi.Yd("@firebase/analytics");function sh(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function ah(e,t,n,r){return async function(i,o,s){try{"event"===i?await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await sh(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){oh.error(o)}}(e,t,n,o,s):"config"===i?await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await sh(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(a){oh.error(a)}e("config",i,o)}(e,t,n,r,o,s):e("set",o)}catch(a){oh.error(a)}}}const ch={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},uh=new Ri.LL("analytics","Analytics",ch);const lh=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function hh(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function fh(e,t=lh,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw uh.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw uh.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ph;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),dh({appId:r,apiKey:i,measurementId:o},s,a,t)}async function dh(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=lh){var o,s;const{appId:a,measurementId:c}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(uh.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(u){if(c)return oh.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null===(o=u)||void 0===o?void 0:o.message}]`),{appId:a,measurementId:c};throw u}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:hh(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw uh.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return i.deleteThrottleMetadata(a),t}catch(u){const t=u;if(!function(e){if(!(e instanceof Ri.ZR)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(a),c)return oh.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null===t||void 0===t?void 0:t.message}]`),{appId:a,measurementId:c};throw u}const o=503===Number(null===(s=null===t||void 0===t?void 0:t.customData)||void 0===s?void 0:s.httpStatus)?(0,Ri.$s)(n,i.intervalMillis,30):(0,Ri.$s)(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+o,backoffCount:n+1};return i.setThrottleMetadata(a,l),oh.debug(`Calling attemptFetch again in ${o} millis`),dh(e,l,r,i)}}class ph{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function mh(e,t,n,r,i,o,s){var a;const c=fh(e);c.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&oh.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>oh.error(e))),t.push(c);const u=async function(){var e;if(!(0,Ri.hl)())return oh.warn(uh.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,Ri.eu)()}catch(t){return oh.warn(uh.create("indexeddb-unavailable",{errorInfo:null===(e=t)||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[l,h]=await Promise.all([c,u]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ih))return t;return null})()||function(e,t){const n=document.createElement("script");n.src=`${ih}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(o,l.measurementId),i("js",new Date);const f=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return f.origin="firebase",f.update=!0,null!=h&&(f.firebase_id=h),i("config",l.measurementId,f),l.measurementId}class yh{constructor(e){this.app=e}_delete(){return delete gh[this.app.options.appId],Promise.resolve()}}let gh={},vh=[];const bh={};let _h,wh,Eh="dataLayer",Th="gtag",Sh=!1;function kh(e,t,n){!function(){const e=[];if((0,Ri.ru)()&&e.push("This is a browser extension environment."),(0,Ri.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=uh.create("invalid-analytics-context",{errorInfo:t});oh.warn(n.message)}}();const r=e.options.appId;if(!r)throw uh.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw uh.create("no-api-key");oh.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gh[r])throw uh.create("already-exists",{id:r});if(!Sh){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Eh);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=ah(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(gh,vh,bh,Eh,Th);wh=e,_h=t,Sh=!0}gh[r]=mh(e,vh,bh,t,_h,Eh,n);return new yh(e)}function Ih(e=(0,Ni.Mq)()){e=(0,Ri.m9)(e);const t=(0,Ni.qX)(e,rh);return t.isInitialized()?t.getImmediate():function(e,t={}){const n=(0,Ni.qX)(e,rh);if(n.isInitialized()){const e=n.getImmediate();if((0,Ri.vZ)(t,n.getOptions()))return e;throw uh.create("already-initialized")}return n.initialize({options:t})}(e)}function Oh(e,t,n,r){e=(0,Ri.m9)(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(wh,gh[e.app.options.appId],t,n,r).catch((e=>oh.error(e)))}const Ch="@firebase/analytics",xh="0.7.11";function Ah(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ah(e,t,n[t])}))}return e}(0,Ni.Xd)(new Pi.wA(rh,((e,{options:t})=>kh(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),(0,Ni.Xd)(new Pi.wA("analytics-internal",(function(e){try{const t=e.getProvider(rh).getImmediate();return{logEvent:(e,n,r)=>Oh(t,e,n,r)}}catch(t){throw uh.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),(0,Ni.KN)(Ch,xh),(0,Ni.KN)(Ch,xh,"esm2017");var Nh=(0,Ni.ZF)({apiKey:"AIzaSyBtabrKb40nV6hzLU_1nHVaWaJi8pPY9hk",authDomain:"moringapp-8db95.firebaseapp.com",databaseURL:"https://moringapp-8db95-default-rtdb.firebaseio.com",projectId:"moringapp-8db95",storageBucket:"moringapp-8db95.appspot.com",messagingSenderId:"1033846142588",appId:"1:1033846142588:web:1bc8d0163ebb89b39bfbf9",measurementId:"G-FETF768YZX"}),Ph=(0,Iu.ad)(Nh);cl.Z.addDefaultLocale({locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}});var Rh=function(e){var t=e.Component,n=e.pageProps;return(0,Ju.useEffect)((function(){Ih(Nh)}),[]),(0,r.jsx)(al.zt,{store:Yu,children:(0,r.jsx)(ol,{theme:sl,children:(0,r.jsx)(hl,{client:Ot.l8,children:(0,r.jsx)(t,Dh({},n))})})})}},67377:function(e,t,n){"use strict";n.d(t,{J0:function(){return i},vA:function(){return o}});var r=(0,n(43034).oM)({name:"auth",initialState:{login:{},updatePassword:{},resetPassword:{},resetMail:{},register:{},logout:{}},reducers:{login:function(e,t){e.login={loading:!0}},loginSuccess:function(e,t){e.login={success:!0,token:t.payload}},loginFailure:function(e,t){e.login={error:t.payload}}}}),i={LOGIN:"LOGIN",LOGOUT:"LOGOUT"},o=r.actions;t.ZP=r.reducer},72973:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{xC:function(){return a},QX:function(){return c}});var o={list:[],category:void 0,error:void 0,isLoading:!1,success:!1},s=(0,n(43034).oM)({name:"category",initialState:o,reducers:{resetCategoryAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeCategoryAction:function(e){e.isLoading=!0,e.error=void 0},addCategorySuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateCategorySuccess:function(e,t){e.success=!0,e.isLoading=!1,e.category=t.payload,e.list=i(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},categoryActionFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getCategoryItemsSuccess:function(e,t){e.list=t.payload}}}),a={ADD_ITEM:"ADD_CATEGORY_ITEM",UPDATE_ITEM:"UPDATE_CATEGORY_ITEM",DELETE_ITEM:"DELETE_CATEGORY_ITEM"},c=s.actions;t.ZP=s.reducer},64493:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{ZZ:function(){return c},Lx:function(){return u}});var s={rooms:[],chats:void 0,room:void 0,error:void 0,isLoading:!1,success:!1},a=(0,n(43034).oM)({name:"chat",initialState:s,reducers:{resetChatAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeChatAction:function(e,t){e.isLoading=!0,e.error=void 0},addChatSuccess:function(e,t){e.rooms=o(e.rooms).concat([t.payload])},updateChatSuccess:function(e,t){e.room=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e.room,{chats:o(e.room.chats).concat(t.payload)})},streamChatSuccess:function(e,t){e.chats=t.payload},actionChatFailed:function(e,t){e.error=t.payload},setRoomChats:function(e,t){e.room=t.payload},getRoomItemsSuccess:function(e,t){e.rooms=t.payload}}}),c={ADD_ITEM:"ADD_CHAT_ITEM",UPDATE_ITEM:"UPDATE_CHAT_ITEM",DELETE_ITEM:"DELETE_CHAT_ITEM"},u=a.actions;t.ZP=a.reducer},42723:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{aZ:function(){return a},S_:function(){return c}});var o={list:[],city:void 0,error:void 0,isLoading:!1,success:!1},s=(0,n(43034).oM)({name:"city",initialState:o,reducers:{resetCityAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeCityAction:function(e,t){e.isLoading=!0,e.error=void 0},addCitySuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateCitySuccess:function(e,t){e.success=!0,e.isLoading=!1,e.city=t.payload,e.list=i(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionCityFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getCityItemsSuccess:function(e,t){e.list=t.payload}}}),a={ADD_ITEM:"ADD_CITY_ITEM",UPDATE_ITEM:"UPDATE_CITY_ITEM",DELETE_ITEM:"DELETE_CITY_ITEM"},c=s.actions;t.ZP=s.reducer},33963:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{_1:function(){return a},Im:function(){return c}});var o={list:[],condition:void 0,error:void 0,isLoading:!1,success:!1},s=(0,n(43034).oM)({name:"condition",initialState:o,reducers:{resetConditionAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeConditionAction:function(e,t){e.isLoading=!0,e.error=void 0},addConditionSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateConditionSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.condition=t.payload,e.list=i(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionConditionFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getConditionItemsSuccess:function(e,t){e.list=t.payload}}}),a={ADD_ITEM:"ADD_CONDITION_ITEM",UPDATE_ITEM:"UPDATE_CONDITION_ITEM",DELETE_ITEM:"DELETE_CONDITION_ITEM"},c=s.actions;t.ZP=s.reducer},31829:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{K5:function(){return a},sT:function(){return c}});var o={list:[],content:void 0,error:void 0,isLoading:!1,success:!1},s=(0,n(43034).oM)({name:"content",initialState:o,reducers:{resetContentAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeContentAction:function(e,t){e.isLoading=!0,e.error=void 0},addContentSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateContentSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.content=t.payload,e.list=i(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionContentFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getContentItemsSuccess:function(e,t){e.list=t.payload}}}),a={ADD_ITEM:"ADD_CONTENT_ITEM",UPDATE_ITEM:"UPDATE_CONTENT_ITEM",DELETE_ITEM:"DELETE_CONTENT_ITEM"},c=s.actions;t.ZP=s.reducer},11786:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{wG:function(){return a},UM:function(){return c}});var o={list:[],country:void 0,error:void 0,isLoading:!1,success:!1},s=(0,n(43034).oM)({name:"country",initialState:o,reducers:{resetCountryAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeCountryAction:function(e,t){e.isLoading=!0,e.error=void 0},addCountrySuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateCountrySuccess:function(e,t){e.success=!0,e.isLoading=!1,e.country=t.payload,e.list=i(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionCountryFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getCountryItemsSuccess:function(e,t){e.list=t.payload}}}),a={ADD_ITEM:"ADD_COUNTRY_ITEM",UPDATE_ITEM:"UPDATE_COUNTRY_ITEM",DELETE_ITEM:"DELETE_COUNTRY_ITEM"},c=s.actions;t.ZP=s.reducer},17829:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{gG:function(){return u},Qv:function(){return l},dg:function(){return h}});var a={list:[],screen:0,forum:void 0,error:void 0,isLoading:!1,success:!1},c=(0,n(43034).oM)({name:"forum",initialState:a,reducers:{resetForumAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},setScreen:function(e,t){e.screen=t.payload},activeForumAction:function(e,t){e.isLoading=!0,e.error=void 0},addForumSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},setForum:function(e,t){e.forum=t.payload},addReplySuccess:function(e,t){e.forum=o({},e.forum,{replies:s(e.forum.replies).concat(t.payload)})},deleteReplySuccess:function(e,t){e.forum=o({},e.forum,{replies:e.forum.replies.filter((function(e){var n;return e.id!==(null===(n=t.payload)||void 0===n?void 0:n.id)}))})},updateForumSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.forum=t.payload,e.list=s(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionForumFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getForumItemsSuccess:function(e,t){e.list=t.payload}}}),u={ADD_ITEM:"ADD_FORUM_ITEM",UPDATE_ITEM:"UPDATE_FORUM_ITEM",DELETE_ITEM:"DELETE_FORUM_ITEM"},l={ADD_ITEM:"ADD_REPLY_ITEM",DELETE_ITEM:"DELETE_REPLY_ITEM"},h=c.actions;t.ZP=c.reducer},33791:function(e,t,n){"use strict";n.d(t,{mz:function(){return o},T6:function(){return s}});var r={user:void 0,error:void 0,isLoading:!1},i=(0,n(43034).oM)({name:"home",initialState:r,reducers:{activeHomeAction:function(e,t){e.isLoading=!0,e.error=void 0},actionHomeFailed:function(e,t){e.isLoading=!1,e.error=t.payload},getHomeItemsSuccess:function(e,t){e.user=t.payload,e.isLoading=!1,e.error=void 0}}}),o={GET_ITEM:"GET_HOME_ITEM"},s=i.actions;t.ZP=i.reducer},43818:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{zo:function(){return a},_1:function(){return c}});var o={list:[],role:void 0,error:void 0,isLoading:!1,success:!1},s=(0,n(43034).oM)({name:"role",initialState:o,reducers:{resetRoleAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeRoleAction:function(e,t){e.isLoading=!0,e.error=void 0},addRoleSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateRoleSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.role=t.payload,e.list=i(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionRoleFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getRoleItemsSuccess:function(e,t){e.list=t.payload}}}),a={ADD_ITEM:"ADD_ROLE_ITEM",UPDATE_ITEM:"UPDATE_ROLE_ITEM",DELETE_ITEM:"DELETE_ROLE_ITEM"},c=s.actions;t.ZP=s.reducer},35112:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{VZ:function(){return a},_r:function(){return c}});var o={list:[],service:void 0,error:void 0,isLoading:!1,success:!1},s=(0,n(43034).oM)({name:"service",initialState:o,reducers:{resetServiceAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeServiceAction:function(e,t){e.isLoading=!0,e.error=void 0},addServiceSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateServiceSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.service=t.payload,e.list=i(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionServiceFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getServiceItemsSuccess:function(e,t){e.list=t.payload}}}),a={ADD_ITEM:"ADD_SERVICE_ITEM",UPDATE_ITEM:"UPDATE_SERVICE_ITEM",DELETE_ITEM:"DELETE_SERVICE_ITEM"},c=s.actions;t.ZP=s.reducer},6001:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{XY:function(){return a},mE:function(){return c}});var o={list:[],task:void 0,error:void 0,isLoading:!1,success:!1},s=(0,n(43034).oM)({name:"task",initialState:o,reducers:{resetTaskAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeTaskAction:function(e,t){e.isLoading=!0,e.error=void 0},addTaskSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateTaskSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.task=t.payload,e.list=i(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionTaskFailed:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getTaskItemsSuccess:function(e,t){e.list=t.payload}}}),a={ADD_ITEM:"ADD_TASK_ITEM",UPDATE_ITEM:"UPDATE_TASK_ITEM",DELETE_ITEM:"DELETE_TASK_ITEM"},c=s.actions;t.ZP=s.reducer},11469:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{pY:function(){return a},ul:function(){return c}});var o={list:[],user:void 0,error:void 0,isLoading:!1,success:!1,passwordActivity:{}},s=(0,n(43034).oM)({name:"user",initialState:o,reducers:{resetUserAction:function(e){e.isLoading=!1,e.success=!1,e.error=void 0},activeUserAction:function(e,t){e.isLoading=!0,e.error=void 0},activePasswordAction:function(e){e.passwordActivity={loading:!0}},passwordSuccess:function(e){e.passwordActivity={success:!0}},passwordFailed:function(e,t){e.passwordActivity={error:t.payload}},addUserSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.list.push(t.payload)},updateUserSuccess:function(e,t){e.success=!0,e.isLoading=!1,e.user=t.payload,e.list=i(e.list).filter((function(e){return e.id!==t.payload.id})).concat(t.payload)},actionUserFailure:function(e,t){e.isLoading=!1,e.success=!1,e.error=t.payload},getUserItemsSuccess:function(e,t){e.list=t.payload}}}),a={ADD_ITEM:"ADD_USER_ITEM",UPDATE_PASSWORD:"UPDATE_USER_PASSWORD",UPDATE_ITEM:"UPDATE_USER_ITEM",DELETE_ITEM:"DELETE_USER_ITEM"},c=s.actions;t.ZP=s.reducer},16774:function(){},77663:function(e){!function(){var t={162:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||u||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,r),s=!1}finally{s&&delete n[e]}return o.exports}r.ab="//";var i=r(162);e.exports=i}()},69921:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,s=60114,a=60109,c=60110,u=60112,l=60113,h=60120,f=60115,d=60116,p=60121,m=60122,y=60117,g=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),s=b("react.profiler"),a=b("react.provider"),c=b("react.context"),u=b("react.forward_ref"),l=b("react.suspense"),h=b("react.suspense_list"),f=b("react.memo"),d=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),y=b("react.fundamental"),g=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case l:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case f:case a:return e;default:return t}}case r:return t}}}},59864:function(e,t,n){"use strict";n(69921)},25617:function(e,t,n){"use strict";n.d(t,{zt:function(){return l},I0:function(){return m},v9:function(){return b}});var r=n(67294),i=r.createContext(null);var o=function(e){e()},s=function(){return o};var a={notify:function(){},get:function(){return[]}};function c(e,t){var n,r=a;function i(){c.onStateChange&&c.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var c={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=a)},getListeners:function(){return r}};return c}var u="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var l=function(e){var t=e.store,n=e.context,o=e.children,s=(0,r.useMemo)((function(){var e=c(t);return{store:t,subscription:e}}),[t]),a=(0,r.useMemo)((function(){return t.getState()}),[t]);u((function(){var e=s.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,a]);var l=n||i;return r.createElement(l.Provider,{value:s},o)};n(8679),n(59864);n(87462);function h(){return(0,r.useContext)(i)}function f(e){void 0===e&&(e=i);var t=e===i?h:function(){return(0,r.useContext)(e)};return function(){return t().store}}var d=f();function p(e){void 0===e&&(e=i);var t=e===i?d:f(e);return function(){return t().dispatch}}var m=p(),y=function(e,t){return e===t};function g(e){void 0===e&&(e=i);var t=e===i?h:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=y);var i=t(),o=function(e,t,n,i){var o,s=(0,r.useReducer)((function(e){return e+1}),0)[1],a=(0,r.useMemo)((function(){return c(n,i)}),[n,i]),l=(0,r.useRef)(),h=(0,r.useRef)(),f=(0,r.useRef)(),d=(0,r.useRef)(),p=n.getState();try{if(e!==h.current||p!==f.current||l.current){var m=e(p);o=void 0!==d.current&&t(m,d.current)?d.current:m}else o=d.current}catch(y){throw l.current&&(y.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),y}return u((function(){h.current=e,f.current=p,d.current=o,l.current=void 0})),u((function(){function e(){try{var e=n.getState();if(e===f.current)return;var r=h.current(e);if(t(r,d.current))return;d.current=r,f.current=e}catch(y){l.current=y}s()}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[n,a]),o}(e,n,i.store,i.subscription);return(0,r.useDebugValue)(o),o}}var v,b=g(),_=n(73935);v=_.unstable_batchedUpdates,o=v},31304:function(e){var t;t=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xa2":"cent","\xa3":"pound","\xa4":"currency","\xa5":"yen","\xa9":"(c)","\xaa":"a","\xae":"(r)","\xba":"o","\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"th","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010c":"C","\u010d":"c","\u010e":"D","\u010f":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011a":"E","\u011b":"e","\u011e":"G","\u011f":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012a":"i","\u012b":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014c":"O","\u014d":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015a":"S","\u015b":"s","\u015e":"S","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016a":"u","\u016b":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u018f":"E","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01c8":"LJ","\u01c9":"lj","\u01cb":"NJ","\u01cc":"nj","\u0218":"S","\u0219":"s","\u021a":"T","\u021b":"t","\u0259":"e","\u02da":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038a":"I","\u038c":"O","\u038e":"Y","\u038f":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u03aa":"I","\u03ab":"Y","\u03ac":"a","\u03ad":"e","\u03ae":"h","\u03af":"i","\u03b0":"y","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c2":"s","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ca":"i","\u03cb":"y","\u03cc":"o","\u03cd":"y","\u03ce":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040a":"NJ","\u040b":"C","\u040f":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045d":"u","\u045f":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04d8":"AE","\u04d9":"ae","\u04e8":"OE","\u04e9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E\'","\u0538":"Y\'","\u0539":"T\'","\u053a":"JH","\u053b":"I","\u053c":"L","\u053d":"X","\u053e":"C\'","\u053f":"K","\u0540":"H","\u0541":"D\'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054a":"P","\u054b":"J","\u054c":"R\'","\u054d":"S","\u054e":"V","\u054f":"T","\u0550":"R","\u0551":"C","\u0553":"P\'","\u0554":"Q\'","\u0555":"O\'\'","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062a":"t","\u062b":"th","\u062c":"j","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063a":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064a":"y","\u064b":"an","\u064c":"on","\u064d":"en","\u064e":"a","\u064f":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067e":"p","\u0686":"ch","\u0698":"zh","\u06a9":"k","\u06af":"g","\u06cc":"y","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u0e3f":"baht","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"f","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u1e62":"S","\u1e63":"s","\u1e80":"W","\u1e81":"w","\u1e82":"W","\u1e83":"w","\u1e84":"W","\u1e85":"w","\u1e9e":"SS","\u1ea0":"A","\u1ea1":"a","\u1ea2":"A","\u1ea3":"a","\u1ea4":"A","\u1ea5":"a","\u1ea6":"A","\u1ea7":"a","\u1ea8":"A","\u1ea9":"a","\u1eaa":"A","\u1eab":"a","\u1eac":"A","\u1ead":"a","\u1eae":"A","\u1eaf":"a","\u1eb0":"A","\u1eb1":"a","\u1eb2":"A","\u1eb3":"a","\u1eb4":"A","\u1eb5":"a","\u1eb6":"A","\u1eb7":"a","\u1eb8":"E","\u1eb9":"e","\u1eba":"E","\u1ebb":"e","\u1ebc":"E","\u1ebd":"e","\u1ebe":"E","\u1ebf":"e","\u1ec0":"E","\u1ec1":"e","\u1ec2":"E","\u1ec3":"e","\u1ec4":"E","\u1ec5":"e","\u1ec6":"E","\u1ec7":"e","\u1ec8":"I","\u1ec9":"i","\u1eca":"I","\u1ecb":"i","\u1ecc":"O","\u1ecd":"o","\u1ece":"O","\u1ecf":"o","\u1ed0":"O","\u1ed1":"o","\u1ed2":"O","\u1ed3":"o","\u1ed4":"O","\u1ed5":"o","\u1ed6":"O","\u1ed7":"o","\u1ed8":"O","\u1ed9":"o","\u1eda":"O","\u1edb":"o","\u1edc":"O","\u1edd":"o","\u1ede":"O","\u1edf":"o","\u1ee0":"O","\u1ee1":"o","\u1ee2":"O","\u1ee3":"o","\u1ee4":"U","\u1ee5":"u","\u1ee6":"U","\u1ee7":"u","\u1ee8":"U","\u1ee9":"u","\u1eea":"U","\u1eeb":"u","\u1eec":"U","\u1eed":"u","\u1eee":"U","\u1eef":"u","\u1ef0":"U","\u1ef1":"u","\u1ef2":"Y","\u1ef3":"y","\u1ef4":"Y","\u1ef5":"y","\u1ef6":"Y","\u1ef7":"y","\u1ef8":"Y","\u1ef9":"y","\u2013":"-","\u2018":"\'","\u2019":"\'","\u201c":"\\"","\u201d":"\\"","\u201e":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20a0":"ecu","\u20a2":"cruzeiro","\u20a3":"french franc","\u20a4":"lira","\u20a5":"mill","\u20a6":"naira","\u20a7":"peseta","\u20a8":"rupee","\u20a9":"won","\u20aa":"new shequel","\u20ab":"dong","\u20ac":"euro","\u20ad":"kip","\u20ae":"tugrik","\u20af":"drachma","\u20b0":"penny","\u20b1":"peso","\u20b2":"guarani","\u20b3":"austral","\u20b4":"hryvnia","\u20b5":"cedi","\u20b8":"kazakhstani tenge","\u20b9":"indian rupee","\u20ba":"turkish lira","\u20bd":"russian ruble","\u20bf":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221e":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\ufdfc":"rial","\ufef5":"laa","\ufef7":"laa","\ufef9":"lai","\ufefb":"la"}'),t=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042a":"A","\u042c":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044a":"a","\u044c":"y"},"de":{"\xc4":"AE","\xe4":"ae","\xd6":"OE","\xf6":"oe","\xdc":"UE","\xfc":"ue","\xdf":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221e":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xa2":"centavos","\xa3":"libras","\xa4":"moneda","\u20a3":"francos","\u2211":"suma","\u221e":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xa2":"centime","\xa3":"livre","\xa4":"devise","\u20a3":"franc","\u2211":"somme","\u221e":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xa2":"centavo","\u2211":"soma","\xa3":"libra","\u221e":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xd8":"OE","\xf8":"oe","\xc5":"AA","\xe5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xf8rre end"},"nb":{"&":"og","\xc5":"AA","\xc6":"AE","\xd8":"OE","\xe5":"aa","\xe6":"ae","\xf8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xc5":"AA","\xc4":"AE","\xd6":"OE","\xe5":"aa","\xe4":"ae","\xf6":"oe"}}');function n(n,r){if("string"!==typeof n)throw new Error("slugify: string argument expected");var i=t[(r="string"===typeof r?{replacement:r}:r||{}).locale]||{},o=void 0===r.replacement?"-":r.replacement,s=void 0===r.trim||r.trim,a=n.normalize().split("").reduce((function(t,n){var s=i[n]||e[n]||n;return s===o&&(s=" "),t+s.replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"");return r.strict&&(a=a.replace(/[^A-Za-z0-9\s]/g,"")),s&&(a=a.trim()),a=a.replace(/\s+/g,o),r.lower&&(a=a.toLowerCase()),a}return n.extend=function(t){Object.assign(e,t)},n},e.exports=t(),e.exports.default=t()},70655:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},_T:function(){return s},mG:function(){return a},Jh:function(){return c},ev:function(){return u}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},49329:function(e,t,n){e.exports=n(60516).Observable},60516:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var o=function(){return"function"===typeof Symbol},s=function(e){return o()&&Boolean(Symbol[e])},a=function(e){return s(e)?Symbol[e]:"@@"+e};o()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var c=a("iterator"),u=a("observable"),l=a("species");function h(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function f(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:E}function d(e){return e instanceof E}function p(e){p.log?p.log(e):setTimeout((function(){throw e}))}function m(e){Promise.resolve().then((function(){try{e()}catch(t){p(t)}}))}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=h(t,"unsubscribe");n&&n.call(t)}}catch(r){p(r)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function v(e,t,n){e._state="running";var r=e._observer;try{var i=h(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(g(e),!i)throw n;i.call(r,n);break;case"complete":g(e),i&&i.call(r)}}catch(o){p(o)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(v(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void v(e,t,n);e._queue.push({type:t,value:n})}}var _=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new w(this);try{this._cleanup=r.call(void 0,i)}catch(o){i.error(o)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),y(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new _(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(f(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(f(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=f(this),r=arguments.length>1,i=!1,o=arguments[1],s=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{s=e(s,t)}catch(a){return n.error(a)}else s=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=f(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=f(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(a){return r.error(a)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:u,value:function(){return this}}],[{key:"from",value:function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=h(t,u);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return d(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(s("iterator")&&(r=h(t,c)))return new n((function(e){m((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var s,a=r.call(t)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var c=s.value;if(e.next(c),e.closed)return}}catch(u){i=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){m((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"===typeof this?this:e;return new i((function(e){m((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=E,o()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:u,hostReportError:p},configurable:!0})},30320:function(e,t,n){"use strict";n.d(t,{mr:function(){return r},sy:function(){return i},aS:function(){return o}});var r="function"===typeof WeakMap&&!("object"===typeof navigator&&"ReactNative"===navigator.product),i="function"===typeof WeakSet,o="function"===typeof Symbol&&"function"===typeof Symbol.for},18634:function(e,t,n){"use strict";n.d(t,{ej:function(){return a},kG:function(){return c},wY:function(){return f}});var r=n(70655),i="Invariant Violation",o=Object.setPrototypeOf,s=void 0===o?function(e,t){return e.__proto__=t,e}:o,a=function(e){function t(n){void 0===n&&(n=i);var r=e.call(this,"number"===typeof n?i+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=i,s(r,t.prototype),r}return(0,r.ZT)(t,e),t}(Error);function c(e,t){if(!e)throw new a(t)}var u=["debug","log","warn","error","silent"],l=u.indexOf("log");function h(e){return function(){if(u.indexOf(e)>=l){var t=console[e]||console.log;return t.apply(console,arguments)}}}!function(e){e.debug=h("debug"),e.log=h("log"),e.warn=h("warn"),e.error=h("error")}(c||(c={}));function f(e){try{return e()}catch(o){}}var d=f((function(){return globalThis}))||f((function(){return window}))||f((function(){return self}))||f((function(){return global}))||f((function(){return f.constructor("return this")()})),p="__",m=[p,p].join("DEV");var y=function(){try{return Boolean(__DEV__)}catch(o){return Object.defineProperty(d,m,{value:"production"!==f((function(){return"production"})),enumerable:!1,configurable:!0,writable:!0}),d[m]}}(),g=n(83454);function v(e){try{return e()}catch(t){}}var b=v((function(){return globalThis}))||v((function(){return window}))||v((function(){return self}))||v((function(){return n.g}))||v((function(){return v.constructor("return this")()})),_=!1;function w(){_&&(delete b.process,_=!1)}!b||v((function(){return"production"}))||v((function(){return g}))||(Object.defineProperty(b,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),_=!0),n(51270).H,w(),__DEV__?c("boolean"===typeof y,y):c("boolean"===typeof y,36)},87462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},63366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},32238:function(e,t,n){"use strict";n.d(t,{Jn:function(){return w},qX:function(){return g},Xd:function(){return y},Mq:function(){return T},ZF:function(){return E},KN:function(){return S}});var r=n(8463),i=n(53333),o=n(74444),s=n(26531);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const c="@firebase/app",u="0.7.27",l=new i.Yd("@firebase/app"),h="[DEFAULT]",f={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,p=new Map;function m(e,t){try{e.container.addComponent(t)}catch(n){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function y(e){const t=e.name;if(p.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;p.set(t,e);for(const n of d.values())m(n,e);return!0}function g(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const v={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},b=new o.LL("app","Firebase",v);class _{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw b.create("app-deleted",{appName:this._name})}}const w="9.8.4";function E(e,t={}){if("object"!==typeof t){t={name:t}}const n=Object.assign({name:h,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!==typeof i||!i)throw b.create("bad-app-name",{appName:String(i)});const s=d.get(i);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw b.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of p.values())a.addComponent(r);const c=new _(e,n,a);return d.set(i,c),c}function T(e="[DEFAULT]"){const t=d.get(e);if(!t)throw b.create("no-app",{appName:e});return t}function S(e,t,n){var i;let o=null!==(i=f[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}y(new r.wA(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}const k="firebase-heartbeat-store";let I=null;function O(){return I||(I=(0,s.X3)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(k)}}).catch((e=>{throw b.create("storage-open",{originalErrorMessage:e.message})}))),I}async function C(e,t){var n;try{const n=(await O()).transaction(k,"readwrite"),r=n.objectStore(k);return await r.put(t,x(e)),n.done}catch(r){throw b.create("storage-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message})}}function x(e){return`${e.name}!${e.options.appId}`}class A{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new N(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=D();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=D(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),P(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,o.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function D(){return(new Date).toISOString().substring(0,10)}class N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.hl)()&&(0,o.eu)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){var t;try{return(await O()).transaction(k).objectStore(k).get(x(e))}catch(n){throw b.create("storage-get",{originalErrorMessage:null===(t=n)||void 0===t?void 0:t.message})}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return C(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return C(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function P(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}var R;R="",y(new r.wA("platform-logger",(e=>new a(e)),"PRIVATE")),y(new r.wA("heartbeat",(e=>new A(e)),"PRIVATE")),S(c,u,R),S(c,u,"esm2017"),S("fire-js","")},8463:function(e,t,n){"use strict";n.d(t,{wA:function(){return i},H0:function(){return a}});var r=n(74444);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},53333:function(e,t,n){"use strict";n.d(t,{in:function(){return i},Yd:function(){return u}});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}},37826:function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(t)}n.d(t,{a:function(){return r}})},25821:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});function r(e){return i(e,[])}function i(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"===typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"===typeof t?t:i(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,o=[];for(let s=0;s<n;++s)o.push(i(e[s],t));1===r?o.push("... 1 more item"):r>1&&o.push(`... ${r} more items`);return"["+o.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){const t=e.constructor.name;if("string"===typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+i(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},51270:function(e,t,n){"use strict";n.d(t,{H:function(){return s},T:function(){return a}});var r=n(37826),i=n(25821);const o=function(e,t){return e instanceof t};class s{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"===typeof e||(0,r.a)(!1,`Body must be a string. Received: ${(0,i.X)(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||(0,r.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,r.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function a(e){return o(e,s)}},26531:function(e,t,n){"use strict";n.d(t,{X3:function(){return m}});let r,i;const o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap;let l={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||a.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(p(this),t),d(o.get(this))}:function(...t){return d(e.apply(p(this),t))}:function(t,...n){const r=e.call(p(this),t,...n);return a.set(r,t.sort?t.sort():[t]),d(r)}}function f(e){return"function"===typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));s.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,l):e)}function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(d(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const p=e=>u.get(e);function m(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=d(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(d(s.result),e.oldVersion,e.newVersion,d(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}const y=["get","getKey","getAll","getAllKeys","count"],g=["put","add","delete","clear"],v=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(v.get(t))return v.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=g.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return v.set(t,o),o}l=(e=>({...e,get:(t,n,r)=>b(t,n)||e.get(t,n,r),has:(t,n)=>!!b(t,n)||e.has(t,n)}))(l)},19252:function(e,t,n){"use strict";n.d(t,{Z:function(){return ht}});var r="en",i={},o={};function s(){return r}function a(e){return i[e]?e:o[e.toLowerCase()]?o[e.toLowerCase()]:void 0}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":case"best fit":return u(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function u(e){var t=a(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop();var r=a(e=n.join("-"));if(r)return r}}var l={af:function(e){return 1==e?"one":"other"},am:function(e){return e>=0&&e<=1?"one":"other"},ar:function(e){var t=String(e).split("."),n=Number(t[0])==e&&t[0].slice(-2);return 0==e?"zero":1==e?"one":2==e?"two":n>=3&&n<=10?"few":n>=11&&n<=99?"many":"other"},ast:function(e){var t=!String(e).split(".")[1];return 1==e&&t?"one":"other"},be:function(e){var t=String(e).split("."),n=Number(t[0])==e,r=n&&t[0].slice(-1),i=n&&t[0].slice(-2);return 1==r&&11!=i?"one":r>=2&&r<=4&&(i<12||i>14)?"few":n&&0==r||r>=5&&r<=9||i>=11&&i<=14?"many":"other"},br:function(e){var t=String(e).split("."),n=Number(t[0])==e,r=n&&t[0].slice(-1),i=n&&t[0].slice(-2),o=n&&t[0].slice(-6);return 1==r&&11!=i&&71!=i&&91!=i?"one":2==r&&12!=i&&72!=i&&92!=i?"two":(3==r||4==r||9==r)&&(i<10||i>19)&&(i<70||i>79)&&(i<90||i>99)?"few":0!=e&&n&&0==o?"many":"other"},bs:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-1),s=n.slice(-2),a=r.slice(-1),c=r.slice(-2);return i&&1==o&&11!=s||1==a&&11!=c?"one":i&&o>=2&&o<=4&&(s<12||s>14)||a>=2&&a<=4&&(c<12||c>14)?"few":"other"},ceb:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-1),s=r.slice(-1);return i&&(1==n||2==n||3==n)||i&&4!=o&&6!=o&&9!=o||!i&&4!=s&&6!=s&&9!=s?"one":"other"},cs:function(e){var t=String(e).split("."),n=t[0],r=!t[1];return 1==e&&r?"one":n>=2&&n<=4&&r?"few":r?"other":"many"},cy:function(e){return 0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e){var t=String(e).split("."),n=t[0],r=Number(t[0])==e;return 1!=e&&(r||0!=n&&1!=n)?"other":"one"},dsb:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-2),s=r.slice(-2);return i&&1==o||1==s?"one":i&&2==o||2==s?"two":i&&(3==o||4==o)||3==s||4==s?"few":"other"},dz:function(e){return"other"},es:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-6);return 1==e?"one":0!=n&&0==i&&r?"many":"other"},ff:function(e){return e>=0&&e<2?"one":"other"},fr:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-6);return e>=0&&e<2?"one":0!=n&&0==i&&r?"many":"other"},ga:function(e){var t=String(e).split("."),n=Number(t[0])==e;return 1==e?"one":2==e?"two":n&&e>=3&&e<=6?"few":n&&e>=7&&e<=10?"many":"other"},gd:function(e){var t=String(e).split("."),n=Number(t[0])==e;return 1==e||11==e?"one":2==e||12==e?"two":n&&e>=3&&e<=10||n&&e>=13&&e<=19?"few":"other"},he:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=Number(t[0])==e,o=i&&t[0].slice(-1);return 1==e&&r?"one":2==n&&r?"two":r&&(e<0||e>10)&&i&&0==o?"many":"other"},is:function(e){var t=String(e).split("."),n=t[0],r=Number(t[0])==e,i=n.slice(-1),o=n.slice(-2);return r&&1==i&&11!=o||!r?"one":"other"},it:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-6);return 1==e&&r?"one":0!=n&&0==i&&r?"many":"other"},ksh:function(e){return 0==e?"zero":1==e?"one":"other"},lt:function(e){var t=String(e).split("."),n=t[1]||"",r=Number(t[0])==e,i=r&&t[0].slice(-1),o=r&&t[0].slice(-2);return 1==i&&(o<11||o>19)?"one":i>=2&&i<=9&&(o<11||o>19)?"few":0!=n?"many":"other"},lv:function(e){var t=String(e).split("."),n=t[1]||"",r=n.length,i=Number(t[0])==e,o=i&&t[0].slice(-1),s=i&&t[0].slice(-2),a=n.slice(-2),c=n.slice(-1);return i&&0==o||s>=11&&s<=19||2==r&&a>=11&&a<=19?"zero":1==o&&11!=s||2==r&&1==c&&11!=a||2!=r&&1==c?"one":"other"},mk:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-1),s=n.slice(-2),a=r.slice(-1),c=r.slice(-2);return i&&1==o&&11!=s||1==a&&11!=c?"one":"other"},mt:function(e){var t=String(e).split("."),n=Number(t[0])==e&&t[0].slice(-2);return 1==e?"one":0==e||n>=2&&n<=10?"few":n>=11&&n<=19?"many":"other"},pa:function(e){return 0==e||1==e?"one":"other"},pl:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-1),o=n.slice(-2);return 1==e&&r?"one":r&&i>=2&&i<=4&&(o<12||o>14)?"few":r&&1!=n&&(0==i||1==i)||r&&i>=5&&i<=9||r&&o>=12&&o<=14?"many":"other"},pt:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-6);return 0==n||1==n?"one":0!=n&&0==i&&r?"many":"other"},ro:function(e){var t=String(e).split("."),n=!t[1],r=Number(t[0])==e&&t[0].slice(-2);return 1==e&&n?"one":!n||0==e||r>=2&&r<=19?"few":"other"},ru:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-1),o=n.slice(-2);return r&&1==i&&11!=o?"one":r&&i>=2&&i<=4&&(o<12||o>14)?"few":r&&0==i||r&&i>=5&&i<=9||r&&o>=11&&o<=14?"many":"other"},se:function(e){return 1==e?"one":2==e?"two":"other"},si:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"";return 0==e||1==e||0==n&&1==r?"one":"other"},sl:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-2);return r&&1==i?"one":r&&2==i?"two":r&&(3==i||4==i)||!r?"few":"other"}};l.as=l.am,l.az=l.af,l.bg=l.af,l.bn=l.am,l.brx=l.af,l.ca=l.ast,l.ce=l.af,l.chr=l.af,l.de=l.ast,l.ee=l.af,l.el=l.af,l.en=l.ast,l.et=l.ast,l.eu=l.af,l.fa=l.am,l.fi=l.ast,l.fil=l.ceb,l.fo=l.af,l.fur=l.af,l.fy=l.ast,l.gl=l.ast,l.gu=l.am,l.ha=l.af,l.hi=l.am,l.hr=l.bs,l.hsb=l.dsb,l.hu=l.af,l.hy=l.ff,l.ia=l.ast,l.id=l.dz,l.ig=l.dz,l.ja=l.dz,l.jgo=l.af,l.jv=l.dz,l.ka=l.af,l.kea=l.dz,l.kk=l.af,l.kl=l.af,l.km=l.dz,l.kn=l.am,l.ko=l.dz,l.ku=l.af,l.ky=l.af,l.lb=l.af,l.lkt=l.dz,l.lo=l.dz,l.ml=l.af,l.mn=l.af,l.mr=l.af,l.ms=l.dz,l.my=l.dz,l.nb=l.af,l.ne=l.af,l.nl=l.ast,l.nn=l.af,l.no=l.af,l.or=l.af,l.pcm=l.am,l.ps=l.af,l.rm=l.af,l.sah=l.dz,l.sc=l.ast,l.sd=l.af,l.sk=l.cs,l.so=l.af,l.sq=l.af,l.sr=l.bs,l.su=l.dz,l.sv=l.ast,l.sw=l.ast,l.ta=l.af,l.te=l.af,l.th=l.dz,l.ti=l.pa,l.tk=l.af,l.to=l.dz,l.tr=l.af,l.ug=l.af,l.uk=l.ru,l.ur=l.ast,l.uz=l.af,l.vi=l.dz,l.wae=l.af,l.wo=l.dz,l.yi=l.ast,l.yo=l.dz,l.yue=l.dz,l.zh=l.dz,l.zu=l.am;var h=l;function f(e){return"pt-PT"===e?e:function(e){var t=e.match(d);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}(e)}var d=/^([a-z0-9]+)/i;function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=e.supportedLocalesOf(t);if(0===r.length)throw new RangeError("Unsupported locale: "+t);if(n&&"cardinal"!==n.type)throw new RangeError('Only "cardinal" "type" is supported');this.$=h[f(r[0])]}var t,n,r;return t=e,r=[{key:"supportedLocalesOf",value:function(e){return"string"===typeof e&&(e=[e]),e.filter((function(e){return h[f(e)]}))}}],(n=[{key:"select",value:function(e){return this.$(e)}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=["second","minute","hour","day","week","month","quarter","year"],k=["auto","always"],I=["long","short","narrow"],O=["lookup","best fit"],C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E(this,e);var r=n.numeric,i=n.style,o=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",void 0!==r){if(k.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(void 0!==i){if(I.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(void 0!==o){if(O.indexOf(o)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(o));this.localeMatcher=o}if("string"===typeof t&&(t=[t]),t.push(s()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");m.supportedLocalesOf(this.locale).length>0?this.pluralRules=new m(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),"undefined"!==typeof Intl&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=c(this.locale,{localeMatcher:this.localeMatcher})}var t,n,r;return t=e,n=[{key:"format",value:function(){var e=N(arguments),t=_(e,2),n=t[0],r=t[1];return this.getRule(n,r).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"formatToParts",value:function(){var e=N(arguments),t=_(e,2),n=t[0],r=t[1],i=this.getRule(n,r),o=i.indexOf("{0}");if(o<0)return[{type:"literal",value:i}];var s=[];return o>0&&s.push({type:"literal",value:i.slice(0,o)}),s=s.concat(this.formatNumberToParts(Math.abs(n)).map((function(e){return v(v({},e),{},{unit:r})}))),o+"{0}".length<i.length-1&&s.push({type:"literal",value:i.slice(o+"{0}".length)}),s}},{key:"getRule",value:function(e,t){var n,r=(n=this.locale,i[n])[this.style][t];if("string"===typeof r)return r;if("auto"===this.numeric)if(-2===e||-1===e){var o=r["previous".concat(-1===e?"":"-"+Math.abs(e))];if(o)return o}else if(1===e||2===e){var s=r["next".concat(1===e?"":"-"+Math.abs(e))];if(s)return s}else if(0===e&&r.current)return r.current;var a,c=r[(a=e,a<0||0===a&&function(e){return 1/e===-1/0}(a)?"past":"future")];return"string"===typeof c?c:c[this.pluralRules&&this.pluralRules.select(Math.abs(e))||"other"]||c.other}},{key:"formatNumber",value:function(e){return this.numberFormat?this.numberFormat.format(e):String(e)}},{key:"formatNumberToParts",value:function(e){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(e):[{type:"integer",value:this.formatNumber(e)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}],n&&T(t.prototype,n),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();C.supportedLocalesOf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"===typeof e)e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter((function(e){return c(e,t)}))},C.addLocale=function(e){if(!e)throw new Error("No locale data passed");i[e.locale]=e,o[e.locale.toLowerCase()]=e.locale},C.setDefaultLocale=function(e){r=e},C.getDefaultLocale=s,C.PluralRules=m;var x='Invalid "unit" argument';function A(e){if("symbol"===y(e))throw new TypeError(x);if("string"!==typeof e)throw new RangeError("".concat(x,": ").concat(e));if("s"===e[e.length-1]&&(e=e.slice(0,e.length-1)),S.indexOf(e)<0)throw new RangeError("".concat(x,": ").concat(e));return e}function D(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat('Invalid "number" argument',": ").concat(e));return e}function N(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[D(e[0]),A(e[1])]}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={}}var t,n,r;return t=e,n=[{key:"get",value:function(){for(var e=this.cache,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];if("object"!==P(e))return;e=e[s]}return e}},{key:"put",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.pop(),i=t.pop(),o=this.cache,s=0,a=t;s<a.length;s++){var c=a[s];"object"!==P(o[c])&&(o[c]={}),o=o[c]}return o[i]=r}}],n&&R(t.prototype,n),r&&R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function j(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){for(var n,r=j(e);!(n=r()).done;){var i=n.value;if(t(i))return i;for(var o=i.split("-");o.length>1;)if(o.pop(),t(i=o.join("-")))return i}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function V(){return"object"===("undefined"===typeof Intl?"undefined":L(Intl))&&"function"===typeof Intl.DateTimeFormat}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function B(e){return function(e){return void 0!==q(e)&&null!==e&&e.constructor===$}(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||"string"===typeof e.flavour||Array.isArray(e.labels)||"string"===typeof e.labels||Array.isArray(e.units)||"function"===typeof e.custom)}var $={}.constructor;var z=60,G=3600,Q=86400,K=7*Q,W=2630016,H=31556952;function Y(e){switch(e){case"second":return 1;case"minute":return z;case"hour":return G;case"day":return Q;case"week":return K;case"month":return W;case"year":return H}}function J(e){return void 0!==e.factor?e.factor:Y(e.unit||e.formatAs)||1}function Z(e){return"floor"===e?Math.floor:Math.round}function X(e){return"floor"===e?1:.5}function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){var n,r=t.prevStep,i=t.timestamp,o=t.now,s=t.future,a=t.round;return r&&(r.id||r.unit)&&(n=e["threshold_for_".concat(r.id||r.unit)]),void 0===n&&void 0!==e.threshold&&"function"===typeof(n=e.threshold)&&(n=n(o,s)),void 0===n&&(n=e.minTime),"object"===ee(n)&&(n=r&&r.id&&void 0!==n[r.id]?n[r.id]:n.default),"function"===typeof n&&(n=n(i,{future:s,getMinTimeForUnit:function(e,t){return ne(e,t||r&&r.formatAs,{round:a})}})),void 0===n&&e.test&&(n=e.test(i,{now:o,future:s})?0:9007199254740991),void 0===n&&(r?e.formatAs&&r.formatAs&&(n=ne(e.formatAs,r.formatAs,{round:a})):n=0),void 0===n&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),n}function ne(e,t,n){var r,i=n.round,o=Y(e);if(r=Y("now"===t?e:t),void 0!==o&&void 0!==r)return o-r*(1-X(i))}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t,n){var r=n.now,i=n.future,o=n.round,s=n.units,a=n.getNextStep;e=function(e,t){return e.filter((function(e){var n=e.unit,r=e.formatAs;return!(n=n||r)||t.indexOf(n)>=0}))}(e,s);var c=function(e,t,n){var r=n.now,i=n.future,o=n.round;if(0===e.length)return;var s=ae(e,t,{now:r,future:i||t<0,round:o});if(-1===s)return;var a=e[s];if(a.granularity){if(0===Z(o)(Math.abs(t)/J(a)/a.granularity)*a.granularity&&s>0)return e[s-1]}return a}(e,t,{now:r,future:i,round:o});return a?c?[e[e.indexOf(c)-1],c,e[e.indexOf(c)+1]]:[void 0,void 0,e[0]]:c}function ae(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=te(e[r],ie({prevStep:e[r-1],timestamp:n.now-1e3*t},n));return void 0===i||Math.abs(t)<i?r-1:r===e.length-1?r:ae(e,t,n,r+1)}function ce(e,t,n){var r=n.now,i=n.round;if(Y(e)){var o=1e3*Y(e),s=t>r,a=Math.abs(t-r),c=Z(i)(a/o)*o;return s?c>0?a-c+function(e,t){return(1-X(e))*t+1}(i,o):a-c+1:-(a-c)+function(e,t){return X(e)*t}(i,o)}}var ue=31536e9;function le(e,t,n){var r=n.prevStep,i=n.nextStep,o=n.now,s=n.future,a=n.round,c=e.getTime?e.getTime():e,u=function(e){return ce(e,c,{now:o,round:a})},l=function(e,t,n){var r=n.now,i=n.future,o=n.round,s=n.prevStep;if(e){var a=function(e,t,n){var r=n.now,i=n.future,o=n.round,s=n.prevStep,a=te(e,{timestamp:t,now:r,future:i,round:o,prevStep:s});if(void 0===a)return;return i?t-1e3*a+1:0===a&&t===r?ue:t+1e3*a}(e,t,{now:r,future:i,round:o,prevStep:s});if(void 0===a)return;return a-r}return i?t-r+1:ue}(s?t:i,c,{future:s,now:o,round:a,prevStep:s?r:t});if(void 0!==l){var h;if(t&&(t.getTimeToNextUpdate&&(h=t.getTimeToNextUpdate(c,{getTimeToNextUpdateForUnit:u,getRoundFunction:Z,now:o,future:s,round:a})),void 0===h)){var f=t.unit||t.formatAs;f&&(h=u(f))}return void 0===h?l:Math.min(h,l)}}var he={};function fe(e){return he[e]}function de(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");he[e.locale]=e}var pe={steps:[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],labels:"long"};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=ye(ye({},pe),{},{steps:pe.steps.filter((function(e){return"second"!==e.formatAs}))}),be=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:z,unit:"minute"},{threshold:150,granularity:5,factor:z,unit:"minute"},{threshold:1350,factor:1800,unit:"half-hour"},{threshold:2550,threshold_for_minute:3150,factor:G,unit:"hour"},{threshold:73800,factor:Q,unit:"day"},{threshold:475200,factor:K,unit:"week"},{threshold:2116800,factor:W,unit:"month"},{threshold:27615168,factor:H,unit:"year"}],_e={gradation:be,flavour:"long",units:["now","minute","hour","day","week","month","year"]},we={gradation:be,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Ee(e){return e instanceof Date?e:new Date(e)}var Te=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Se={},ke={minTime:function(e,t){t.future;return(0,t.getMinTimeForUnit)("day")},format:function(e,t){return Se[t]||(Se[t]={}),Se[t].dayMonth||(Se[t].dayMonth=new Intl.DateTimeFormat(t,{month:"short",day:"numeric"})),Se[t].dayMonth.format(Ee(e))}},Ie={minTime:function(e,t){return t.future?(e-(new Date(new Date(e).getFullYear(),0).getTime()-1))/1e3:(new Date(new Date(e).getFullYear()+1,0).getTime()-e)/1e3},format:function(e,t){return Se[t]||(Se[t]={}),Se[t].dayMonthYear||(Se[t].dayMonthYear=new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"})),Se[t].dayMonthYear.format(Ee(e))}};V()?Te.push(ke,Ie):Te.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});var Oe={steps:Te,labels:["mini","short-time","narrow","short"]};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=xe(xe({},Oe),{},{steps:[{formatAs:"now"}].concat(Oe.steps)});function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=Pe(Pe({},Oe),{},{steps:Oe.steps.filter((function(e){return"second"!==e.formatAs}))});function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=je(je({},Me),{},{steps:[{formatAs:"now"}].concat(Me.steps)});function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=qe(qe({},Oe),{},{steps:Oe.steps.filter((function(e){return"second"!==e.formatAs})).map((function(e){return"minute"===e.formatAs?qe(qe({},e),{},{minTime:z}):e}))}),ze={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=Qe(Qe({},ze),{},{steps:[{formatAs:"now"}].concat(ze.steps)});function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=Ye(Ye({},ze),{},{steps:ze.steps.filter((function(e){return"second"!==e.formatAs}))});function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=et(et({},Ze),{},{steps:[{formatAs:"now"}].concat(Ze.steps)});function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function it(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=st(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||st(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){if(e){if("string"===typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lt,ht=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.polyfill;ct(this,e),"string"===typeof t&&(t=[t]),this.locale=U(t.concat(e.getDefaultLocale()),fe),"undefined"!==typeof Intl&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),!1===r?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=C,this.IntlPluralRules=C.PluralRules),this.relativeTimeFormatCache=new M,this.pluralRulesCache=new M}var t,n,r;return t=e,n=[{key:"format",value:function(e,t,n){var r;n||(t&&"string"!==typeof(r=t)&&!B(r)?(n=t,t=void 0):n={}),t||(t=ve),"string"===typeof t&&(t=function(e){switch(e){case"default":case"round":return pe;case"round-minute":return ve;case"approximate":default:return _e;case"time":case"approximate-time":return we;case"mini":return ze;case"mini-now":return We;case"mini-minute":return Ze;case"mini-minute-now":return nt;case"twitter":return Oe;case"twitter-now":return De;case"twitter-minute":return Me;case"twitter-minute-now":return Ue;case"twitter-first-minute":return $e}}(t));var i,o=function(e){if(e.constructor===Date||function(e){return"object"===rt(e)&&"function"===typeof e.getTime}(e))return e.getTime();if("number"===typeof e)return e;throw new Error("Unsupported relative time formatter input: ".concat(rt(e),", ").concat(e))}(e),s=this.getLabels(t.flavour||t.labels),a=s.labels,c=s.labelsType;void 0!==t.now&&(i=t.now),void 0===i&&void 0!==n.now&&(i=n.now),void 0===i&&(i=Date.now());var u=(i-o)/1e3,l=n.future||u<0,h=function(e,t,n,r){var i=e.now||t&&t.now;return i?"string"===typeof i?i:r?i.future:i.past:n&&n.second&&n.second.current?n.second.current:void 0}(a,fe(this.locale).now,fe(this.locale).long,l);if(t.custom){var f=t.custom({now:i,date:new Date(o),time:o,elapsed:u,locale:this.locale});if(void 0!==f)return f}var d=function(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter((function(e){return"now"===e||r.indexOf(e)>=0}))),r}(t.units,a,h),p=n.round||t.round,m=ot(se(t.gradation||t.steps||ve.steps,u,{now:i,units:d,round:p,future:l,getNextStep:!0}),3),y=m[0],g=m[1],v=m[2],b=this.formatDateForStep(o,g,u,{labels:a,labelsType:c,nowLabel:h,now:i,future:l,round:p})||"";return n.getTimeToNextUpdate?[b,le(o,g,{nextStep:v,prevStep:y,now:i,future:l,round:p})]:b}},{key:"formatDateForStep",value:function(e,t,n,r){var i=this,o=r.labels,s=r.labelsType,a=r.nowLabel,c=r.now,u=r.future,l=r.round;if(t){if(t.format)return t.format(e,this.locale,{formatAs:function(e,t){return i.formatValue(t,e,{labels:o,future:u})},now:c,future:u});var h=t.unit||t.formatAs;if(!h)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(t)));if("now"===h)return a;var f=Math.abs(n)/J(t);t.granularity&&(f=Z(l)(f/t.granularity)*t.granularity);var d=-1*Math.sign(n)*Z(l)(f);switch(0===d&&(d=u?0:-0),s){case"long":case"short":case"narrow":return this.getFormatter(s).format(d,h);default:return this.formatValue(d,h,{labels:o,future:u})}}}},{key:"formatValue",value:function(e,t,n){var r=n.labels,i=n.future;return this.getFormattingRule(r,t,e,{future:i}).replace("{0}",this.formatNumber(Math.abs(e)))}},{key:"getFormattingRule",value:function(e,t,n,r){var i=r.future;if(this.locale,"string"===typeof(e=e[t]))return e;var o=e[0===n?i?"future":"past":n<0?"past":"future"]||e;return"string"===typeof o?o:o[this.getPluralRules().select(Math.abs(n))]||o.other}},{key:"formatNumber",value:function(e){return this.numberFormat?this.numberFormat.format(e):String(e)}},{key:"getFormatter",value:function(e){return this.relativeTimeFormatCache.get(this.locale,e)||this.relativeTimeFormatCache.put(this.locale,e,new this.IntlRelativeTimeFormat(this.locale,{style:e}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"===typeof e&&(e=[e]),e=(e=e.map((function(e){switch(e){case"tiny":case"mini-time":return"mini";default:return e}}))).concat("long");for(var t,n=fe(this.locale),r=it(e);!(t=r()).done;){var i=t.value;if(n[i])return{labelsType:i,labels:n[i]}}}}],n&&ut(t.prototype,n),r&&ut(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ft="en";ht.getDefaultLocale=function(){return ft},ht.setDefaultLocale=function(e){return ft=e},ht.addDefaultLocale=function(e){if(lt)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");lt=!0,ht.setDefaultLocale(e.locale),ht.addLocale(e)},ht.addLocale=function(e){de(e),C.addLocale(e)},ht.locale=ht.addLocale,ht.addLabels=function(e,t,n){var r=fe(e);r||(de({locale:e}),r=fe(e)),r[t]=n}},31955:function(e,t){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var r=function e(t,r){function i(e,i,o){if("undefined"!==typeof document){"number"===typeof(o=n({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+s}}return Object.create({set:i,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=t.read(s,a),e===a)break}catch(c){}}return e?r[e]:r}},remove:function(e,t){i(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});t.Z=r}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],(function(){return t(52136),t(80880)}));var n=e.O();_N_E=n}]);