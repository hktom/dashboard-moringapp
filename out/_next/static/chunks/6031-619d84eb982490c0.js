"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6031],{80656:function(e,t,n){var r=n(85893),i=n(99226),o=n(83965),l=n(83321),a=n(15861),s=n(81458),c=n(47036),u=n(67294),d=n(25617),f=n(71406),x=n(48280),m=n(95400);t.Z=function(e){var t=(0,d.I0)(),n=(0,x.T)(),h=(0,x.C)((function(e){return e.image})),p=e.setImageField,j=e.image,g=u.useRef();return u.useEffect((function(){h.image&&!j&&p(h.image)}),[h,p,j]),(0,r.jsxs)(r.Fragment,{children:[j?(0,r.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"end",justifyContent:"end",width:"100%"},children:[(0,r.jsx)(o.Z,{component:"img",alt:j,sx:{maxWidth:"300px",maxHeight:"300px"},src:"".concat(f.LS,"storage/").concat(j)}),(0,r.jsxs)(l.Z,{variant:"text",color:"error",sx:{mt:2},onClick:function(){p(void 0),n(m.J6.uploadSuccess(void 0))},children:[" ","Remove"," "]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{onClick:function(){g.current.click()},sx:{display:"flex",cursor:"pointer",justifyContent:"center",alignItems:"center",height:"200px",border:"2px dashed ".concat(c.Z[200]),backgroundColor:c.Z[100]},children:(0,r.jsx)(a.Z,{variant:"body1",component:"p",children:"Upload image"})}),h.loading&&(0,r.jsx)(s.Z,{color:"info"})]}),(0,r.jsx)("input",{ref:g,style:{display:"none"},type:"file",accept:"image/jpeg, image/png",onChange:function(){g.current.files.length>0&&(n(m.J6.uploadImage()),t({type:m.Zr.ADD_ITEM,payload:g.current.files[0]}))}})]})}},36031:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(85893),i=n(67294),o=(n(80091),n(86886)),l=n(15861),a=n(12963),s=n(99226),c=n(46901),u=n(55113),d=n(83321),f=n(98456),x=n(41664),m=n(38571),h=n(87536),p=n(80656),j=n(25617),g=n(48280),y=n(9008),b=n(5152),v=n(61903);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}var C=function(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(v.Z,P({id:e.id,InputLabelProps:{shrink:!0},label:e.id,variant:"outlined",fullWidth:!0,color:"info",sx:{my:1}},e.register(e.data,{required:e.required||!1})))})},O=n(31829);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(s){a=!0,i=s}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(0,b.default)((function(){return Promise.all([n.e(9774),n.e(2937),n.e(156)]).then(n.t.bind(n,71167,23))}),{ssr:!1});var k=function(e){var t=e.pid,n=(0,g.C)((function(e){return e.content})),b=I(i.useState(""),2),v=(b[0],b[1],I(i.useState(void 0),2)),Z=v[0],P=v[1],w=(0,j.I0)(),S=((0,g.T)(),i.useRef(0)),k=(0,h.cI)(),D=k.register,T=k.handleSubmit,A=(k.watch,k.reset,k.setValue);return k.formState.errors,i.useEffect((function(){if(t&&0==S.current&&n.list.length>0){var e=n.list.find((function(e){return e.id==t}));A("title",null===e||void 0===e?void 0:e.title),A("value",null===e||void 0===e?void 0:e.value),A("label",null===e||void 0===e?void 0:e.label),A("link",null===e||void 0===e?void 0:e.link),P(null===e||void 0===e?void 0:e.image),S.current++}}),[w,t,A,n.list]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.default,{children:(0,r.jsx)("meta",{charSet:"utf-8"})}),(0,r.jsx)(m.Z,{children:(0,r.jsx)(o.ZP,{container:!0,children:(0,r.jsxs)(o.ZP,{item:!0,xs:12,md:10,sx:{mx:"auto",my:4},children:[(0,r.jsxs)(l.Z,{variant:"h3",component:"h1",sx:{fontWeight:"bold"},children:[t?"Edit":"Create"," Content"]}),(0,r.jsxs)(a.Z,{"aria-label":"breadcrumb",children:[(0,r.jsx)(x.default,{href:"/page/",children:"Dashboard"}),(0,r.jsx)(x.default,{href:"/page/condition",children:"Condition"})]}),(0,r.jsxs)(s.Z,{component:"form",sx:{mt:5},onSubmit:T((function(e){w(t?{type:O.K5.UPDATE_ITEM,payload:E({},e,{image:Z,id:t})}:{type:O.K5.ADD_ITEM,payload:E({},e,{image:Z})}),S.current=1})),children:[n.error&&(0,r.jsx)(c.Z,{severity:"error",sx:{my:1},children:n.error}),n.success&&(0,r.jsx)(c.Z,{severity:"success",sx:{my:1},children:"Operation Successful"}),(0,r.jsx)(u.Z,{elevation:0,sx:{p:4},children:(0,r.jsxs)(o.ZP,{container:!0,children:[(0,r.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,r.jsx)(l.Z,{variant:"h6",component:"h2",sx:{fontWeight:"bold"},children:"Basic details"})}),(0,r.jsxs)(o.ZP,{item:!0,xs:12,md:8,children:[(0,r.jsx)(C,{id:"title",data:"title",register:D}),(0,r.jsx)(C,{id:"value",data:"value",register:D}),(0,r.jsx)(C,{id:"Button Label",data:"label",register:D}),(0,r.jsx)(C,{id:"Button Link",data:"link",register:D}),(0,r.jsx)(C,{id:"Content",data:"content",register:D})]})]})}),(0,r.jsx)(u.Z,{elevation:0,sx:{mt:2,p:4},children:(0,r.jsxs)(o.ZP,{container:!0,children:[(0,r.jsxs)(o.ZP,{item:!0,xs:12,md:4,sx:{pr:5},children:[(0,r.jsx)(l.Z,{variant:"h6",component:"h2",sx:{fontWeight:"bold"},children:"Images"}),(0,r.jsx)(l.Z,{variant:"body2",component:"p",children:"The image will appear on website and mobile app."})]}),(0,r.jsx)(o.ZP,{item:!0,xs:12,md:8,children:(0,r.jsx)(p.Z,{setImageField:P,image:Z})})]})}),(0,r.jsxs)(o.ZP,{container:!0,sx:{mt:4},children:[t&&(0,r.jsx)(o.ZP,{item:!0,xs:12,md:8,children:(0,r.jsx)(d.Z,{variant:"text",color:"error",onClick:function(){w({type:O.K5.DELETE_ITEM,payload:{id:t}})},children:"Delete"})}),(0,r.jsxs)(o.ZP,{item:!0,xs:12,md:4,sx:{justifyContent:"end",display:"flex"},children:[(0,r.jsx)(d.Z,{variant:"outlined",color:"info",sx:{mx:2},children:"Cancel"}),(0,r.jsxs)(d.Z,{variant:"contained",color:"info",disableElevation:!0,type:"submit",children:["Create"," ",n.isLoading&&(0,r.jsx)(f.Z,{color:"secondary",size:20,sx:{ml:2}})]})]})]})]})]})})})]})}}}]);