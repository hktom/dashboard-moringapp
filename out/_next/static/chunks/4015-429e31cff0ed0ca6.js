"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4015],{122:function(e,n,o){o.d(n,{Z:function(){return k}});var t=o(3366),r=o(7462),i=o(7294),a=o(6010),s=o(7192),l=o(4844),d=o(1796),u=o(8216),c=o(1496),m=o(2734),x=o(7623),p=o(8791),f=o(1705),h=o(5861),b=o(8979);function g(e){return(0,b.Z)("MuiLink",e)}var v=(0,o(6087).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Z=o(5893);const y=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],w={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},j=(0,c.ZP)(h.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`underline${(0,u.Z)(o.underline)}`],"button"===o.component&&n.button]}})((({theme:e,ownerState:n})=>{const o=(0,l.D)(e,`palette.${(e=>w[e]||e)(n.color)}`)||n.color;return(0,r.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==o?(0,d.Fq)(o,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${v.focusVisible}`]:{outline:"auto"}})}));var k=i.forwardRef((function(e,n){const o=(0,m.Z)(),l=(0,x.Z)({props:e,name:"MuiLink"}),{className:d,color:c="primary",component:h="a",onBlur:b,onFocus:v,TypographyClasses:k,underline:W="always",variant:S="inherit",sx:C}=l,R=(0,t.Z)(l,y),{isFocusVisibleRef:M,onBlur:L,onFocus:$,ref:D}=(0,p.Z)(),[F,G]=i.useState(!1),N=(0,f.Z)(n,D),O=(0,r.Z)({},l,{color:("function"===typeof C?C(o).color:null==C?void 0:C.color)||c,component:h,focusVisible:F,underline:W,variant:S}),P=(e=>{const{classes:n,component:o,focusVisible:t,underline:r}=e,i={root:["root",`underline${(0,u.Z)(r)}`,"button"===o&&"button",t&&"focusVisible"]};return(0,s.Z)(i,g,n)})(O);return(0,Z.jsx)(j,(0,r.Z)({className:(0,a.Z)(P.root,d),classes:k,component:h,onBlur:e=>{L(e),!1===M.current&&G(!1),b&&b(e)},onFocus:e=>{$(e),!0===M.current&&G(!0),v&&v(e)},ref:N,ownerState:O,variant:S,sx:[{color:w[c]||c},...Array.isArray(C)?C:[C]]},R))}))},4015:function(e,n,o){o.r(n),o.d(n,{default:function(){return P}});var t=o(5893),r=o(7294),i=o(5617),a=o(1955),s=o(3366),l=o(7462),d=o(6010),u=o(7192),c=o(7623),m=o(1496),x=o(8979);function p(e){return(0,x.Z)("MuiContainer",e)}(0,o(6087).Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var f=o(8216);const h=["className","component","disableGutters","fixed","maxWidth"],b=(0,m.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:o}=e;return[n.root,n[`maxWidth${(0,f.Z)(String(o.maxWidth))}`],o.fixed&&n.fixed,o.disableGutters&&n.disableGutters]}})((({theme:e,ownerState:n})=>(0,l.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:n})=>n.fixed&&Object.keys(e.breakpoints.values).reduce(((n,o)=>{const t=e.breakpoints.values[o];return 0!==t&&(n[e.breakpoints.up(o)]={maxWidth:`${t}${e.breakpoints.unit}`}),n}),{})),(({theme:e,ownerState:n})=>(0,l.Z)({},"xs"===n.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[e.breakpoints.up(n.maxWidth)]:{maxWidth:`${e.breakpoints.values[n.maxWidth]}${e.breakpoints.unit}`}})));var g=r.forwardRef((function(e,n){const o=(0,c.Z)({props:e,name:"MuiContainer"}),{className:r,component:i="div",disableGutters:a=!1,fixed:m=!1,maxWidth:x="lg"}=o,g=(0,s.Z)(o,h),v=(0,l.Z)({},o,{component:i,disableGutters:a,fixed:m,maxWidth:x}),Z=(e=>{const{classes:n,fixed:o,disableGutters:t,maxWidth:r}=e,i={root:["root",r&&`maxWidth${(0,f.Z)(String(r))}`,o&&"fixed",t&&"disableGutters"]};return(0,u.Z)(i,p,n)})(v);return(0,t.jsx)(b,(0,l.Z)({as:i,ownerState:v,className:(0,d.Z)(Z.root,r),ref:n},g))})),v=o(4358),Z=o(8456),y=o(7357),w=o(5113),j=o(6720),k=o(5861),W=o(6901),S=o(1903),C=o(480),R=o(9368),M=o(3321),L=o(122),$=o(7536),D=o(8446),F=o(1163),G=o(9008);function N(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function O(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),t.forEach((function(n){N(e,n,o[n])}))}return e}var P=function(){var e=(0,i.I0)(),n=(0,r.useState)(!1),o=n[0],s=n[1],l=(0,i.v9)((function(e){return e.login})),d=(0,F.useRouter)(),u=(0,$.cI)(),c=u.register,m=u.handleSubmit;return u.watch,u.formState.errors,(0,r.useEffect)((function(){var n,o,t,r;((null===(n=l.login)||void 0===n?void 0:n.token)&&(a.Z.set("token",l.login.token,{expires:7}),window.location.href="/page/home"),l.login.error&&s(!1),(null===d||void 0===d||null===(o=d.query)||void 0===o?void 0:o.id)&&!(null===(t=l.login)||void 0===t?void 0:t.sso))&&(e((0,D.R3)(null===d||void 0===d||null===(r=d.query)||void 0===r?void 0:r.id)),s(!0))}),[e,l.login,d]),(0,r.useEffect)((function(){a.Z.get("token")&&(window.location.href="/page/home")}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:o,onClick:function(){s(!1)},children:(0,t.jsx)(Z.Z,{color:"inherit"})}),(0,t.jsxs)(G.default,{children:[(0,t.jsx)("title",{children:"Login"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.png"}),(0,t.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,t.jsx)(y.Z,{sx:{minHeight:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,t.jsx)(w.Z,{sx:{maxWidth:"50rem",pb:8},color:"#fff",children:(0,t.jsxs)(g,{component:"main",maxWidth:"xs",children:[(0,t.jsx)(j.ZP,{}),(0,t.jsxs)(y.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)(k.Z,{component:"h1",variant:"h4",sx:{fontWeight:"bold"},children:"Log in"}),l.login.error&&(0,t.jsx)(W.Z,{severity:"error",sx:{width:"100%"},children:l.login.error}),l.login.token&&(0,t.jsx)(W.Z,{severity:"success",sx:{width:"100%"},children:"You are logged in!"}),(0,t.jsxs)(y.Z,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:m((function(n){e((0,D.pH)(n)),console.log(n)})),children:[(0,t.jsx)(S.Z,O({margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",autoComplete:"email",disabled:l.login.loading,autoFocus:!0},c("email",{required:!0}))),(0,t.jsx)(S.Z,O({margin:"normal",required:!0,fullWidth:!0},c("password",{required:!0}),{label:"Password",type:"password",id:"password",disabled:l.login.loading,autoComplete:"current-password"})),(0,t.jsx)(C.Z,{control:(0,t.jsx)(R.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,t.jsxs)(M.Z,{type:"submit",fullWidth:!0,variant:"contained",disabled:l.login.loading,disableElevation:!0,color:"info",sx:{mt:3,mb:2,py:1.2},children:["Sign In"," ",l.login.loading&&(0,t.jsx)(Z.Z,{color:"secondary",size:20,sx:{ml:2}})]}),(0,t.jsx)(y.Z,{sx:{mx:"auto",textAlign:"center"},children:(0,t.jsx)(L.Z,{href:"#",variant:"body2",children:"Forgot password?"})})]})]})]})})})]})}}}]);